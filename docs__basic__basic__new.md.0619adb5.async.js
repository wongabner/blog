(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[7245],{44437:function(n,e,t){"use strict";t.r(e);var o=t(67294),r=t(96089),a=t(65659),l=o.memo((n=>{n.demos;return o.createElement(o.Fragment,null,o.createElement("div",{className:"markdown"},o.createElement("p",null,"new\u8fd0\u7b97\u7b26\u521b\u5efa\u4e00\u4e2a\u7528\u6237\u5b9a\u4e49\u7684\u5bf9\u8c61\u7c7b\u578b\u7684\u5b9e\u4f8b\u6216\u5177\u6709\u6784\u9020\u51fd\u6570\u7684\u5185\u7f6e\u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002 new\u5173\u952e\u5b57\u4f1a\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a"),o.createElement(a.Z,{code:"function _new(fun, ...arg) {\n    // 1.\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684js\u5bf9\u8c61\n    var obj = {}\n\n    // 2.\u94fe\u63a5\u8be5\u5bf9\u8c61\uff08\u5373\u8bbe\u7f6e\u8be5\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\uff09\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\u4e0a \uff08\u901a\u4fd7\u7406\u89e3\u5c31\u662f\u65b0\u5bf9\u8c61\u9690\u5f0f\u539f\u578b__proto__\u94fe\u63a5\u5230\u6784\u9020\u51fd\u6570\u663e\u5f0f\u539f\u578bprototype\u4e0a\uff09\n    obj.__proto__ = fun.prototype\n\n    // 3.\u5c06\u6b65\u9aa41\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u4f5c\u4e3athis\u7684\u4e0a\u4e0b\u6587 \uff08\u5b9e\u9645\u662f\u6267\u884c\u4e86\u6784\u9020\u51fd\u6570 \u5e76\u5c06\u6784\u9020\u51fd\u6570\u4f5c\u7528\u57df\u6307\u5411\u65b0\u5bf9\u8c61\uff09\n    var res = fun.apply(obj, arg)\n\n    // 4.\u5982\u679c\u8be5\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u5bf9\u8c61\uff0c\u5219\u8fd4\u56dethis \uff08\u5b9e\u9645\u662f\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0cnew Object\uff08\uff09\u5c31\u662f\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61{} \uff09\n    return Object.prototype.toString.call(res) === '[object Object]' ? res : obj\n  }\n\n  const Fun = function (name) {\n    this.name = name\n  }\n\n  console.log(_new(Fun, '\u5c0f\u660e'))\n\n  // Fun {name: \"\u5c0f\u660e\"}",lang:"js"}),o.createElement("details",null,o.createElement("summary",null,"\u5c55\u5f00\u67e5\u770b"),o.createElement("p",null,o.createElement("img",{src:"https://gitee.com/wongabner/picgo/raw/master/2021-03-23-20-06-47.png",alt:"\u56fe 43"})),o.createElement(a.Z,{code:"function _new(fun, ...arg) {\n    // 1.\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684js\u5bf9\u8c61\n    var obj = {}\n\n    // 2.\u94fe\u63a5\u8be5\u5bf9\u8c61\uff08\u5373\u8bbe\u7f6e\u8be5\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\uff09\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\u4e0a \uff08\u901a\u4fd7\u7406\u89e3\u5c31\u662f\u65b0\u5bf9\u8c61\u9690\u5f0f\u539f\u578b__proto__\u94fe\u63a5\u5230\u6784\u9020\u51fd\u6570\u663e\u5f0f\u539f\u578bprototype\u4e0a\uff09\n    obj.__protp__ = fun.prototype\n\n    // 3.\u5c06\u6b65\u9aa41\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u4f5c\u4e3athis\u7684\u4e0a\u4e0b\u6587 \uff08\u5b9e\u9645\u662f\u6267\u884c\u4e86\u6784\u9020\u51fd\u6570 \u5e76\u5c06\u6784\u9020\u51fd\u6570\u4f5c\u7528\u57df\u6307\u5411\u65b0\u5bf9\u8c61\uff09\n    var res = fun.apply(obj, arg)\n\n    // 4.\u5982\u679c\u8be5\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u5bf9\u8c61\uff0c\u5219\u8fd4\u56dethis \uff08\u5b9e\u9645\u662f\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0cnew Object\uff08\uff09\u5c31\u662f\u8fd4\u56de\u4e00\u4e2a\u7a7a\u5bf9\u8c61{} \uff09\n    return Object.prototype.toString.call(res) === '[object Object]' ? res : obj\n  }\n\n  const Fun = function (name) {\n    this.name = name\n  }\n\n  console.log(_new(Fun, '\u5c0f\u660e'))\n\n  // Fun {name: \"\u5c0f\u660e\"}",lang:"js"}))))}));e["default"]=n=>{var e=o.useContext(r.context),t=e.demos;return o.useEffect((()=>{var e;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.hash&&r.AnchorLink.scrollToAnchor(decodeURIComponent(n.location.hash.slice(1)))}),[]),o.createElement(l,{demos:t})}}}]);