(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[3495],{8036:function(){},98050:function(e,n,t){"use strict";t.r(n);var l=t(67294),r=t(96089),a=t(65659),c=t(4187),o=l.memo((e=>{e.demos;return l.createElement(l.Fragment,null,l.createElement("div",{className:"markdown"},l.createElement("h2",{id:"\u4e00-\u524d\u8a00"},l.createElement(r.AnchorLink,{to:"#\u4e00-\u524d\u8a00","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e00 \u524d\u8a00"),l.createElement("p",null,"\u4e0a\u4e00\u7ae0\u8282\u4e3b\u8981\u8bb2\u4e86 Form \u8868\u5355\u7684\u8bbe\u8ba1\u539f\u5219\uff0c\u4ee5\u53ca\u72b6\u6001\u7ba1\u7406 FormStore \u548c\u81ea\u5b9a\u4e49 hooks useForm \u7684\u7f16\u5199\uff0c\u672c\u7ae0\u8282\u5c06\u7ee7\u7eed\u4e0a\u4e00\u7ae0\u8282\u6ca1\u6709\u8bb2\u5b8c\u7684\u90e8\u5206\u3002"),l.createElement("p",null,"\u901a\u8fc7\u672c\u7ae0\u8282\u7684\u5b66\u4e60\uff0c\u4f60\u5c06\u6536\u83b7\u4ee5\u4e0b\u77e5\u8bc6\u70b9\uff1a"),l.createElement("ul",null,l.createElement("li",null,"Form \u8bbe\u8ba1\u53ca\u5176\u7f16\u5199\u3002"),l.createElement("li",null,"FormItem \u8bbe\u8ba1\u53ca\u5176\u7f16\u5199\u3002")),l.createElement("h2",{id:"\u4e8c-form-\u7f16\u5199"},l.createElement(r.AnchorLink,{to:"#\u4e8c-form-\u7f16\u5199","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e8c Form \u7f16\u5199"),l.createElement("h3",{id:"1-\u5c5e\u6027\u5206\u6790"},l.createElement(r.AnchorLink,{to:"#1-\u5c5e\u6027\u5206\u6790","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"1 \u5c5e\u6027\u5206\u6790"),l.createElement("p",null,l.createElement("strong",null,"\u5c5e\u6027\u8bbe\u5b9a")),l.createElement(c.Z,null,l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"\u5c5e\u6027\u540d\u79f0"),l.createElement("th",null,"\u4f5c\u7528"),l.createElement("th",null,"\u7c7b\u578b"))),l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"form")),l.createElement("td",null,"\u4f20\u5165",l.createElement("code",null,"useForm")," \u521b\u5efa\u7684 ",l.createElement("code",null,"FormStore"),"\u5b9e\u4f8b"),l.createElement("td",null,l.createElement("code",null,"FormStore")," \u5b9e\u4f8b\u5bf9\u8c61")),l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"onFinish")),l.createElement("td",null,"\u8868\u5355\u63d0\u4ea4\u6210\u529f\u8c03\u7528"),l.createElement("td",null,"function \uff0c\u4e00\u4e2a\u53c2\u6570\uff0c\u4e3a\u8868\u5355\u7684\u6570\u636e\u5c42")),l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"onFinishFailed")),l.createElement("td",null,"\u8868\u5355\u63d0\u4ea4\u5931\u8d25\u8c03\u7528"),l.createElement("td",null,"function \uff0c\u4e00\u4e2a\u53c2\u6570\uff0c\u4e3a\u8868\u5355\u7684\u6570\u636e\u5c42")),l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"initialValues")),l.createElement("td",null,"\u8bbe\u7f6e\u8868\u5355\u521d\u59cb\u5316\u7684\u503c"),l.createElement("td",null,"object")))),l.createElement("p",null,l.createElement("strong",null,"\u7ec6\u8282\u95ee\u9898")),l.createElement("ul",null,l.createElement("li",null,"Form \u63a5\u6536\u7c7b\u4f3c ",l.createElement("code",null,"onFinish")," \uff5c ",l.createElement("code",null,"onFinishFailed")," \u76d1\u542c\u56de\u8c03\u51fd\u6570\u3002"),l.createElement("li",null,"Form \u53ef\u4ee5\u88ab ref \u6807\u8bb0\uff0cref \u53ef\u4ee5\u83b7\u53d6 ",l.createElement("code",null,"FormStore")," \u6838\u5fc3\u65b9\u6cd5\u3002"),l.createElement("li",null,"Form \u8981\u4fdd\u7559\u539f\u751f\u7684 form \u5c5e\u6027\uff0c\u5f53 submit \u6216\u8005 reset \u89e6\u53d1\uff0c\u81ea\u52a8\u6821\u9a8c/\u91cd\u7f6e\u3002")),l.createElement("h3",{id:"2-\u4ee3\u7801\u5b9e\u73b0"},l.createElement(r.AnchorLink,{to:"#2-\u4ee3\u7801\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"2 \u4ee3\u7801\u5b9e\u73b0"),l.createElement("p",null,l.createElement("strong",null,"\u521b\u5efa context \u4fdd\u5b58 ",l.createElement("code",null,"FormStore")," \u6838\u5fc3 Api"),"\u3002"),l.createElement(a.Z,{code:"import {  createContext  } from 'react'\n/* \u521b\u5efa\u4e00\u4e2a FormContext */\nconst  FormContext = createContext()\n\nexport default FormContext",lang:"js"}),l.createElement("ul",null,l.createElement("li",null,"\u521b\u5efa\u4e00\u4e2a context \u7528\u6765\u4fdd\u5b58 ",l.createElement("code",null,"FormStore")," \u7684\u6838\u5fc3 API \u3002")),l.createElement("p",null,l.createElement("strong",null,"\u63a5\u4e0b\u6765\u5c31\u662f\u91cd\u70b9 ",l.createElement("code",null,"Form")," \u7f16\u5199")),l.createElement(a.Z,{code:"function Form ({\n    form,\n    onFinish,\n    onFinishFailed,\n    initialValues,\n    children\n},ref){\n    /* \u521b\u5efa form \u72b6\u6001\u7ba1\u7406\u5b9e\u4f8b */\n    const formInstance = useForm(form,initialValues)\n    /* \u62bd\u79bb\u5c5e\u6027 -> \u62bd\u79bb dispatch \uff5c setCallback \u8fd9\u4e24\u4e2a\u65b9\u6cd5\u4e0d\u80fd\u5bf9\u5916\u63d0\u4f9b\u3002  */\n    const { setCallback, dispatch  ,...providerFormInstance } = formInstance\n\n    /* \u5411 form \u4e2d\u6ce8\u518c\u56de\u8c03\u51fd\u6570 */\n    setCallback({\n        onFinish,\n        onFinishFailed\n    })\n\n    /* Form \u80fd\u591f\u88ab ref \u6807\u8bb0\uff0c\u5e76\u64cd\u4f5c\u5b9e\u4f8b\u3002 */\n    useImperativeHandle(ref,() => providerFormInstance , [])\n    /* \u4f20\u9012 */\n    const RenderChildren = <FormContext.Provider value={formInstance} > {children} </FormContext.Provider>\n\n    return <form\n        onReset={(e)=>{\n            e.preventDefault()\n            e.stopPropagation()\n            formInstance.resetFields() /* \u91cd\u7f6e\u8868\u5355 */\n        }}\n        onSubmit={(e)=>{\n            e.preventDefault()\n            e.stopPropagation()\n            formInstance.submit()      /* \u63d0\u4ea4\u8868\u5355 */\n        }}\n           >\n           {RenderChildren}\n        </form>\n}\n\nexport default forwardRef(Form)",lang:"js"}),l.createElement("p",null,"Form \u5b9e\u73b0\u7ec6\u8282\u5206\u6790\uff1a"),l.createElement("ul",null,l.createElement("li",null,"\u9996\u5148\u901a\u8fc7 useForm \u521b\u5efa\u4e00\u4e2a ",l.createElement("code",null,"formInstance")," \uff0c\u91cc\u9762\u4fdd\u5b58\u7740\u64cd\u7eb5\u8868\u5355\u72b6\u6001\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982 ",l.createElement("code",null,"getFieldValue")," \uff0c ",l.createElement("code",null,"setFieldsValue")," \u7b49\u3002"),l.createElement("li",null,"\u4ece ",l.createElement("code",null,"formInstance")," \u62bd\u79bb\u51fa setCallback \uff0cdispatch \u7b49\u65b9\u6cd5\uff0c\u5f97\u5230 ",l.createElement("code",null,"providerFormInstance")," \uff0c\u56e0\u4e3a\u8fd9\u4e9b api \u4e0d\u671f\u671b\u76f4\u63a5\u7ed9\u5f00\u53d1\u8005\u4f7f\u7528\u3002\u901a\u8fc7 forwardRef + useImperativeHandle \u6765\u8f6c\u53d1 ref\uff0c \u5c06 providerFormInstance \u8d4b\u503c\u7ed9 ref \uff0c \u5f00\u53d1\u8005\u901a\u8fc7 ref \u6807\u8bb0 Form \uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u83b7\u53d6\u7684 providerFormInstance \u5bf9\u8c61\u3002"),l.createElement("li",null,"\u901a\u8fc7 Context.Provider \u5c06 ",l.createElement("code",null,"formInstance")," \u4f20\u9012\u4e0b\u53bb\uff0c\u63d0\u4f9b\u7ed9 ",l.createElement("code",null,"FormItem")," \u4f7f\u7528\u3002"),l.createElement("li",null,"\u521b\u5efa\u539f\u751f form \u6807\u7b7e\uff0c\u7ed1\u5b9a React \u4e8b\u4ef6 \u2014\u2014 ",l.createElement("code",null,"onReset")," \u548c ",l.createElement("code",null,"onSubmit"),"\uff0c\u5728\u4e8b\u4ef6\u5185\u90e8\u5206\u522b\u8c03\u7528\uff0c \u91cd\u7f6e\u8868\u5355\u72b6\u6001\u7684 ",l.createElement("code",null,"resetFields")," \u548c\u63d0\u4ea4\u8868\u5355\u7684 ",l.createElement("code",null,"onSubmit"),"\u65b9\u6cd5\u3002")),l.createElement("h2",{id:"\u4e09-formitem-\u7f16\u5199"},l.createElement(r.AnchorLink,{to:"#\u4e09-formitem-\u7f16\u5199","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e09 FormItem \u7f16\u5199"),l.createElement("p",null,"\u63a5\u4e0b\u6765\u5c31\u662f ",l.createElement("code",null,"FormItem")," \u7684\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u3002"),l.createElement("h3",{id:"1-\u5c5e\u6027\u5206\u6790-1"},l.createElement(r.AnchorLink,{to:"#1-\u5c5e\u6027\u5206\u6790-1","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"1 \u5c5e\u6027\u5206\u6790"),l.createElement("p",null,"\u76f8\u6bd4 antd \u4e2d\u7684 FormItem \uff0c\u5c5e\u6027\u8981\u7cbe\u7b80\u7684\u591a\uff0c\u8fd9\u91cc\u6211\u4fdd\u7559\u4e86\u4e00\u4e9b\u6838\u5fc3\u7684\u5c5e\u6027\u3002"),l.createElement(c.Z,null,l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"\u5c5e\u6027\u540d\u79f0"),l.createElement("th",null,"\u4f5c\u7528"),l.createElement("th",null,"\u7c7b\u578b"))),l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"name")," (\u91cd\u8981\u5c5e\u6027)"),l.createElement("td",null,"\u8bc1\u660e\u8868\u5355\u5355\u5143\u9879\u7684\u952e name"),l.createElement("td",null,"string")),l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"label")),l.createElement("td",null,"\u8868\u5355\u6807\u7b7e\u5c5e\u6027"),l.createElement("td",null,"string")),l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"height")),l.createElement("td",null,"\u8868\u5355\u5355\u5143\u9879\u9ad8\u5ea6"),l.createElement("td",null,"number")),l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"labelWidth")),l.createElement("td",null,"lable \u5bbd\u5ea6"),l.createElement("td",null,"number")),l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"required")),l.createElement("td",null,"\u662f\u5426\u5fc5\u586b"),l.createElement("td",null,"boolean")),l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"trigger")),l.createElement("td",null,"\u6536\u96c6\u5b57\u6bb5\u503c\u53d8\u66f4\u7684\u65b9\u6cd5"),l.createElement("td",null,"string \uff0c \u9ed8\u8ba4\u4e3a onChange")),l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"validateTrigger")),l.createElement("td",null,"\u9a8c\u8bc1\u6821\u9a8c\u89e6\u53d1\u7684\u65b9\u6cd5"),l.createElement("td",null,"string\uff0c\u9ed8\u8ba4\u4e3a onChange")),l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"rules")),l.createElement("td",null,"\u9a8c\u8bc1\u4fe1\u606f"),l.createElement("td",null,"\u91cc\u9762\u5305\u62ec\u9a8c\u8bc1\u65b9\u6cd5 rule \u548c \u9a8c\u8bc1\u5931\u8d25\u63d0\u793a\u6587\u6848 message")))),l.createElement("h3",{id:"2-\u4ee3\u7801\u5b9e\u73b0-1"},l.createElement(r.AnchorLink,{to:"#2-\u4ee3\u7801\u5b9e\u73b0-1","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"2 \u4ee3\u7801\u5b9e\u73b0"),l.createElement("p",null,"\u63a5\u4e0b\u6765\u5c31\u662f FormItem \u7684\u4ee3\u7801\u5b9e\u73b0\u3002"),l.createElement(a.Z,{code:"function FormItem ({\n    name,\n    children,\n    label,\n    height = 50 ,\n    labelWidth,\n    required = false ,\n    rules = {},\n    trigger = 'onChange',\n    validateTrigger = 'onChange'\n}){\n    const formInstance  = useContext(FormContext)\n    const { registerValidateFields , dispatch , unRegisterValidate } = formInstance\n    const [ , forceUpdate ] = useState({})\n    const onStoreChange = useMemo(()=>{\n        /* \u7ba1\u7406\u5c42\u6539\u53d8 => \u901a\u77e5\u8868\u5355\u9879 */\n        const onStoreChange = {\n            changeValue(){\n                forceUpdate({})\n            }\n         }\n        return onStoreChange\n\n    },[ formInstance ])\n    useEffect(()=>{\n         /* \u6ce8\u518c\u8868\u5355 */\n        name && registerValidateFields(name,onStoreChange,{ ...rules , required })\n        return function(){\n            /* \u5378\u8f7d\u8868\u5355 */\n           name &&  unRegisterValidate(name)\n        }\n    },[ onStoreChange ])\n     /* \u4f7f\u8868\u5355\u63a7\u4ef6\u53d8\u6210\u53ef\u63a7\u5236\u7684 */\n    const getControlled = (child)=> {\n        const mergeChildrenProps = { ...child.props }\n        if(!name) return mergeChildrenProps\n         /* \u6539\u53d8\u8868\u5355\u5355\u5143\u9879\u7684\u503c */\n        const handleChange  = (e)=> {\n             const value = e.target.value\n              /* \u8bbe\u7f6e\u8868\u5355\u7684\u503c */\n             dispatch({ type:'setFieldsValue' },name ,value)\n         }\n        mergeChildrenProps[trigger] = handleChange\n        if(required || rules ){\n             /* \u9a8c\u8bc1\u8868\u5355\u5355\u5143\u9879\u7684\u503c */\n            mergeChildrenProps[validateTrigger] = (e) => {\n                 /* \u5f53\u6539\u53d8\u503c\u548c\u9a8c\u8bc1\u8868\u5355\uff0c\u7528\u7edf\u4e00\u4e00\u4e2a\u4e8b\u4ef6 */\n                if(validateTrigger === trigger){\n                    handleChange(e)\n                }\n                /* \u89e6\u53d1\u8868\u5355\u9a8c\u8bc1 */\n                dispatch({ type:'validateFieldValue' },name)\n            }\n        }\n        /* \u83b7\u53d6 value */\n        mergeChildrenProps.value = dispatch({ type:'getFieldValue' }, name) || ''\n        return mergeChildrenProps\n    }\n    let renderChildren\n    if(isValidElement(children)){\n        /* \u83b7\u53d6 | \u5408\u5e76 \uff5c \u8f6c\u53d1 | =>  props  */\n        renderChildren = cloneElement(children, getControlled(children))\n    }else{\n        renderChildren = children\n    }\n    return <Label\n        height={height}\n        label={label}\n        labelWidth={labelWidth}\n        required={required}\n           >\n         {renderChildren}\n         <Message\n             name={name}\n             {...dispatch({ type :'getFieldModel'},name)}\n         />\n     </Label>\n}",lang:"js"}),l.createElement("p",null,l.createElement("strong",null,"FormItem")," \u7684\u6d41\u7a0b\u6bd4\u8f83\u590d\u6742\uff0c\u63a5\u4e0b\u6765\u6211\u5c06\u4e00\u4e00\u8bb2\u89e3\u5176\u6d41\u7a0b\u3002"),l.createElement("ul",null,l.createElement("li",null,"\u7b2c\u4e00\u6b65\uff1a FormItem \u4f1a\u901a\u8fc7 useContext \u83b7\u53d6\u5230\u8868\u5355\u5b9e\u4f8b\u4e0b\u7684\u65b9\u6cd5\u3002"),l.createElement("li",null,"\u7b2c\u4e8c\u6b65\uff1a \u521b\u5efa\u4e00\u4e2a useState \u4f5c\u4e3a FormItem \u7684\u66f4\u65b0\u51fd\u6570 onStoreChange\u3002"),l.createElement("li",null,"\u7b2c\u4e09\u6b65\uff1a \u5728 useEffect \u4e2d\u8c03\u7528 ",l.createElement("code",null,"registerValidateFields")," \u6ce8\u518c\u8868\u5355\u9879\u3002\u6b64\u65f6\u7684 FormItem \u7684\u66f4\u65b0\u51fd\u6570 onStoreChange \u4f1a\u4f20\u5165\u5230 FormStore \u4e2d\uff0c\u4e0a\u4e00\u7ae0\u8282\u8bb2\u5230\u8fc7\uff0c\u66f4\u65b0\u65b9\u6cd5\u6700\u7ec8\u4f1a\u6ce8\u518c\u5230 FormStore \u7684 control \u5c5e\u6027\u4e0b\uff0c\u8fd9\u6837 FormStore \u5c31\u53ef\u4ee5\u9009\u62e9\u6027\u7684\u8ba9\u5bf9\u5e94\u7684 FormItem \u66f4\u65b0\u3002\u5728 useEffect \u9500\u6bc1\u51fd\u6570\u4e2d\uff0c\u89e3\u7ed1\u8868\u5355\u9879\u3002"),l.createElement("li",null,"\u7b2c\u56db\u6b65\uff1a \u8ba9 FormItem \u5305\u88f9\u7684\u8868\u5355\u63a7\u4ef6\u53d8\u6210\u53d7\u63a7\u7684\uff0c \u901a\u8fc7 ",l.createElement("code",null,"cloneElement")," \u5411\u8868\u5355\u63a7\u4ef6\uff08 \u6bd4\u5982 Input \uff09 props \u4e2d\uff0c\u6ce8\u518c\u76d1\u542c\u503c\u53d8\u5316\u7684\u65b9\u6cd5\uff0c\u9ed8\u8ba4\u4e3a onChange \uff0c\u4ee5\u53ca\u8868\u5355\u9a8c\u8bc1\u89e6\u53d1\u7684\u65b9\u6cd5 \uff0c\u9ed8\u8ba4\u4e5f\u662f onChange \uff0c\u6bd4\u5982\u5982\u4e0b\u4f8b\u5b50\ud83c\udf30\uff1a")),l.createElement(a.Z,{code:'<FormItem\n        label="\u8bf7\u8f93\u5165\u5c0f\u518c\u540d\u79f0"\n        labelWidth={150}\n        name="name"\n        required\n        rules={{\n            rule:/^[a-zA-Z0-9_\\u4e00-\\u9fa5]{4,32}$/,\n            message:\'\u540d\u79f0\u4ec5\u652f\u6301\u4e2d\u6587\u3001\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\uff0c\u957f\u5ea6\u9650\u52364~32\u4e2a\u5b57\'\n        }}\n        trigger="onChange"\n        validateTrigger="onBlur"\n    >\n        <Input\n            placeholder="\u5c0f\u518c\u540d\u79f0"\n        />\n    </FormItem>',lang:"js"}),l.createElement("p",null,"\u5982\u4e0a\uff0c\u5411 FormItem \u4e2d\uff0c \u7ed1\u5b9a\u76d1\u542c\u53d8\u5316\u7684\u4e8b\u4ef6\u4e3a ",l.createElement("code",null,"onChange"),"\uff0c\u8868\u5355\u9a8c\u8bc1\u7684\u4e8b\u4ef6\u4e3a ",l.createElement("code",null,"onBlur")," \u3002"),l.createElement("p",null,l.createElement("strong",null,"\u66f4\u65b0\u6d41\u7a0b")," \uff1a\u90a3\u4e48\u6574\u4e2a\u6d41\u7a0b\uff0c\u5f53\u7ec4\u4ef6\u503c\u6539\u53d8\u7684\u65f6\u5019\uff0c\u4f1a\u89e6\u53d1 ",l.createElement("code",null,"onChange")," \u4e8b\u4ef6\uff0c\u672c\u8d28\u4e0a\u88ab\u4e0a\u9762\u7684 ",l.createElement("code",null,"getControlled")," \u62e6\u622a\uff0c\u5b9e\u8d28\u7528 dispatch \u89e6\u53d1 setFieldsValue \uff0c\u6539\u53d8 FormStore \u8868\u5355\u7684\u503c\uff0c\u7136\u540e FormStore \u4f1a\u7528 onStoreChange \u4e0b\u7684 changeValue \u901a\u77e5\u5f53\u524d FormItem \u66f4\u65b0\uff0cFormItem \u66f4\u65b0\u901a\u8fc7 dispatch \u8c03\u7528 getFieldValue \u83b7\u53d6\u8868\u5355\u7684\u6700\u65b0\u503c\uff0c\u5e76\u6e32\u67d3\u89c6\u56fe\u3002\u8fd9\u6837\u5b8c\u6210\u6574\u4e2a\u53d7\u63a7\u7ec4\u4ef6\u72b6\u6001\u66f4\u65b0\u6d41\u7a0b\u3002"),l.createElement("p",null,l.createElement("strong",null,"\u9a8c\u8bc1\u6d41\u7a0b\uff1a")," \u5f53\u89e6\u53d1 ",l.createElement("code",null,"onBlur")," \u672c\u8d28\u4e0a\u7528 dispatch \u8c03\u7528 validateFieldValue \u4e8b\u4ef6\uff0c\u9a8c\u8bc1\u8868\u5355\uff0c\u7136\u540e FormStore \u4f1a\u4e0b\u53d1\u9a8c\u8bc1\u72b6\u6001\uff08\u662f\u5426\u9a8c\u8bc1\u901a\u8fc7\uff09\u3002"),l.createElement("p",null,"\u5b8c\u6210",l.createElement("strong",null,"\u66f4\u65b0/\u9a8c\u8bc1"),"\u6d41\u7a0b\u3002"),l.createElement("ul",null,l.createElement("li",null,"\u7b2c\u4e94\u6b65\uff1a\u6e32\u67d3 ",l.createElement("code",null,"Label")," \u548c ",l.createElement("code",null,"Message")," UI \u89c6\u56fe\u3002")),l.createElement("h2",{id:"\u56db-index\u6587\u4ef6\u53ca\u5176\u4ed6\u7ec4\u4ef6"},l.createElement(r.AnchorLink,{to:"#\u56db-index\u6587\u4ef6\u53ca\u5176\u4ed6\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u56db I\bndex\u6587\u4ef6\u53ca\u5176\u4ed6\u7ec4\u4ef6"),l.createElement("p",null,"\u8fd8\u6709\u4e00\u4e9b\u8d1f\u8d23 UI \u6e32\u67d3\u7684\u7ec4\u4ef6\uff0c\u4ee5\u53ca\u8868\u5355\u63a7\u4ef6\uff0c\u8fd9\u91cc\u5c31\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\uff1a"),l.createElement("h3",{id:"label"},l.createElement(r.AnchorLink,{to:"#label","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Label"),l.createElement(a.Z,{code:"function Label({ children , label ,labelWidth , required ,height}){\n    return <div className=\"form-label\"\n        style={{ height:height + 'px'  }}\n           >\n       <div\n           className=\"form-label-name\"\n           style={{ width : `${labelWidth}px` }}\n       >\n           {required ? <span style={{ color:'red' }} >*</span> : null}\n           {label}:\n        </div>  {children}\n    </div>\n}",lang:"js"}),l.createElement("ul",null,l.createElement("li",null,"Label \u7684\u4f5c\u7528\u5c31\u662f\u6e32\u67d3\u8868\u5355\u7684\u6807\u7b7e\u3002")),l.createElement("h3",{id:"message"},l.createElement(r.AnchorLink,{to:"#message","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Message"),l.createElement(a.Z,{code:"function Message(props){\n    const { status , message , required , name , value } = props\n    let showMessage = ''\n    let color = '#fff'\n    if(required && !value && status === 'reject'  ){\n        showMessage = `${name} \u4e3a\u5fc5\u586b\u9879`\n        color = 'red'\n    }else if(status === 'reject'){\n        showMessage = message\n        color = 'red'\n    }else if(status === 'pendding'  ){\n        showMessage = null\n    }else if( status === 'resolve' ){\n        showMessage = '\u6821\u9a8c\u901a\u8fc7'\n        color = 'green'\n    }\n    return <div className=\"form-message\" >\n       <span style={{ color  }}  >{showMessage}</span>\n    </div>\n}",lang:"js"}),l.createElement("ul",null,l.createElement("li",null,"message \u663e\u793a\u8868\u5355\u9a8c\u8bc1\u7684\u72b6\u6001\uff0c\u6bd4\u5982\u5931\u8d25\u65f6\u5019\u7684\u63d0\u793a\u6587\u6848\u7b49\uff0c\u6210\u529f\u65f6\u5019\u7684\u63d0\u793a\u6587\u6848\u3002")),l.createElement("h3",{id:"input"},l.createElement(r.AnchorLink,{to:"#input","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Input"),l.createElement(a.Z,{code:'const Input = (props) => {\n    return <input\n        className="form-input"\n        {...props}\n           />\n}',lang:"js"}),l.createElement("ul",null,l.createElement("li",null,"Input \u672c\u8d28\u4e0a\u5c31\u662f input \u6807\u7b7e\u3002")),l.createElement("h3",{id:"select-\u7ec4\u4ef6"},l.createElement(r.AnchorLink,{to:"#select-\u7ec4\u4ef6","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Select \u7ec4\u4ef6"),l.createElement(a.Z,{code:'function Select({ children,...props }){\n    return <select {...props}\n        className="form-input"\n           >\n        <option label={props.placeholder}\n            value={null}\n        >{props.placeholder}</option>\n        {children}\n    </select>\n}\n/* \u7ed1\u5b9a\u9759\u6001\u5c5e\u6027   */\nSelect.Option = function ( props ){\n    return <option {...props}\n        className=""\n        label={props.children}\n           ></option>\n}\n\nexport default Select',lang:"js"}),l.createElement("h3",{id:"index\u6587\u4ef6"},l.createElement(r.AnchorLink,{to:"#index\u6587\u4ef6","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"Index\u6587\u4ef6"),l.createElement("p",null,"Index \u6587\u4ef6\u5bf9\u7ec4\u4ef6\u6574\u7406\uff0c\u5e76\u66b4\u9732\u7ed9\u5f00\u53d1\u8005\u4f7f\u7528\u3002"),l.createElement(a.Z,{code:"import Form from './component/Form'\nimport FormItem from './component/FormItem'\nimport Input from './component/Input'\nimport Select from './component/Select'\n\nForm.FormItem = FormItem\n\nexport {\n    Form,\n    Select,\n    Input,\n    FormItem\n}\n\nexport default Form",lang:"js"}),l.createElement("h2",{id:"\u4e94-\u9a8c\u8bc1\u529f\u80fd"},l.createElement(r.AnchorLink,{to:"#\u4e94-\u9a8c\u8bc1\u529f\u80fd","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e94 \u9a8c\u8bc1\u529f\u80fd"),l.createElement("h3",{id:"\u9a8c\u8bc1-demo-\u7f16\u5199"},l.createElement(r.AnchorLink,{to:"#\u9a8c\u8bc1-demo-\u7f16\u5199","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u9a8c\u8bc1 demo \u7f16\u5199"),l.createElement(a.Z,{code:'import React , { useRef , useEffect } from \'react\'\n\nimport Form , { Input , Select } from \'./form\'\n\nconst FormItem = Form.FormItem\nconst Option = Select.Option\n\nfunction Index(){\n    const form = useRef(null)\n    useEffect(()=>{\n        console.log(form.current,\'form.current\')\n    },[])\n    const handleClick = () => {\n         form.current.submit((res)=>{\n             console.log(res)\n         })\n    }\n    const handleGetValue = ()=>{\n        console.log( form.current , \'form.current \' )\n    }\n    return <div style={{ marginTop:\'50px\' }} >\n        <Form  initialValues={{ author : \'\u6211\u4e0d\u662f\u5916\u661f\u4eba\' }}\n            ref={form}\n        >\n            <FormItem\n                label="\u8bf7\u8f93\u5165\u5c0f\u518c\u540d\u79f0"\n                labelWidth={150}\n                name="name"\n                required\n                rules={{\n                    rule:/^[a-zA-Z0-9_\\u4e00-\\u9fa5]{4,32}$/,\n                    message:\'\u540d\u79f0\u4ec5\u652f\u6301\u4e2d\u6587\u3001\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\uff0c\u957f\u5ea6\u9650\u52364~32\u4e2a\u5b57\'\n                }}\n                validateTrigger="onBlur"\n            >\n                 <Input\n                     placeholder="\u5c0f\u518c\u540d\u79f0"\n                 />\n            </FormItem>\n            <FormItem\n                label="\u4f5c\u8005"\n                labelWidth={150}\n                name="author"\n                required\n                validateTrigger="onBlur"\n            >\n                 <Input\n                     placeholder="\u8bf7\u8f93\u5165\u4f5c\u8005"\n                 />\n            </FormItem>\n            <FormItem label="\u90ae\u7bb1"\n                labelWidth={150}\n                name="email"\n                rules={{ rule: /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/ ,message:\'\u90ae\u7bb1\u683c\u5f0f\u9519\u8bef\uff01\'  }}\n                validateTrigger="onBlur"\n            >\n                <Input\n                    placeholder="\u8bf7\u8f93\u5165\u90ae\u7bb1"\n                />\n            </FormItem>\n            <FormItem label="\u624b\u673a"\n                labelWidth={150}\n                name="phone"\n                rules={{ rule: /^1[3-9]\\d{9}$/ ,message:\'\u624b\u673a\u683c\u5f0f\u9519\u8bef\uff01\'  }}\n                validateTrigger="onBlur"\n            >\n                <Input\n                    placeholder="\u8bf7\u8f93\u5165\u90ae\u7bb1"\n                />\n            </FormItem>\n            <FormItem label="\u7b80\u4ecb"\n                labelWidth={150}\n                name="des"\n                rules={{ rule: (value=\'\') => value.length < 5   ,message:\'\u7b80\u4ecb\u4e0d\u8d85\u8fc7\u4e94\u4e2a\u5b57\u7b26\'  }}\n                validateTrigger="onBlur"\n            >\n                <Input placeholder="\u8f93\u5165\u7b80\u4ecb"  />\n            </FormItem>\n            <FormItem label="\u4f60\u6700\u559c\u6b22\u7684\u524d\u7aef\u6846\u67b6"\n                labelWidth={150}\n                name="likes"\n                required\n            >\n                <Select  defaultValue={null}\n                    placeholder="\u8bf7\u9009\u62e9"\n                    width={120}\n                >\n                    <Option\n                        value={1}\n                    > React.js </Option>\n                    <Option value={2} > Vue.js </Option>\n                    <Option value={3} > Angular.js </Option>\n                </Select>\n            </FormItem>\n            <button className="searchbtn"\n                onClick={handleClick}\n                type="button"\n            >\u63d0\u4ea4</button>\n            <button className="concellbtn"\n                type="reset"\n            >\u91cd\u7f6e</button>\n        </Form>\n       <div style={{ marginTop:\'20px\' }} >\n            <span>\u9a8c\u8bc1\u8868\u5355\u529f\u80fd</span>\n            <button className="searchbtn"\n                onClick={handleGetValue}\n                style={{ background:\'green\' }}\n            >\u83b7\u53d6\u8868\u5355\u6570\u5c42</button>\n            <button className="searchbtn"\n                onClick={()=> form.current.validateFields((res)=>{ console.log(\'\u662f\u5426\u901a\u8fc7\u9a8c\u8bc1\uff1a\' ,res ) })}\n                style={{ background:\'orange\' }}\n            >\u52a8\u6001\u9a8c\u8bc1\u8868\u5355</button>\n            <button className="searchbtn" onClick={() => { form.current.setFieldsValue(\'des\',{\n                    rule: (value=\'\') => value.length < 10,\n                    message:\'\u7b80\u4ecb\u4e0d\u8d85\u8fc7\u5341\u4e2a\u5b57\u7b26\'\n                }) }}\n                style={{ background:\'purple\' }}\n            >\u52a8\u6001\u8bbe\u7f6e\u6821\u9a8c\u89c4\u5219</button>\n       </div>\n    </div>\n}\n\nexport default Index',lang:"js"}),l.createElement("h3",{id:"\u9a8c\u8bc1\u6548\u679c"},l.createElement(r.AnchorLink,{to:"#\u9a8c\u8bc1\u6548\u679c","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u9a8c\u8bc1\u6548\u679c"),l.createElement("p",null,"\u63a5\u4e0b\u6765\u5c31\u662f\u9a8c\u8bc1\u73af\u8282\uff1a"),l.createElement("p",null,l.createElement("strong",null,"\u2460 \u8868\u5355\u9a8c\u8bc1\u672a\u901a\u8fc7")),l.createElement("p",null,l.createElement("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e64e5028369f4e2ea0d93d8007d0d842~tplv-k3u1fbpfcp-watermark.awebp",alt:"fail.gif"})),l.createElement("p",null,"\u8c03\u7528 submit \uff0c\u9a8c\u8bc1\u5931\u8d25\u7684\u60c5\u51b5\u3002"),l.createElement("p",null,l.createElement("strong",null,"\u2461 \u8868\u5355\u9a8c\u8bc1\u901a\u8fc7")),l.createElement("p",null,l.createElement("img",{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/200b9221b3a7444b85b11a71276f7680~tplv-k3u1fbpfcp-watermark.awebp",alt:"success.gif"})),l.createElement("p",null,"\u9a8c\u8bc1\u6210\u529f\uff01"),l.createElement("p",null,l.createElement("strong",null,"\u2462 \u83b7\u53d6\u8868\u5355\u7684\u6570\u636e\u5c42")),l.createElement("p",null,l.createElement("img",{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a708afa9565b427ab545a7890d910e09~tplv-k3u1fbpfcp-watermark.awebp",alt:"get.gif"})),l.createElement("p",null,"\u901a\u8fc7 getFieldsValue \u83b7\u53d6\u8868\u5355\u6570\u636e\u5c42\u3002"),l.createElement("p",null,l.createElement("strong",null,"\u2463 \u91cd\u7f6e\u8868\u5355\u7684\u6570\u636e\u5c42")),l.createElement("p",null,l.createElement("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d22e76ea1f0e4cde9ee2eb01013855f3~tplv-k3u1fbpfcp-watermark.awebp",alt:"reset.gif"})),l.createElement("p",null,"\u901a\u8fc7 resetFields \u91cd\u7f6e\u8868\u5355\u3002"),l.createElement("p",null,l.createElement("strong",null,"\u2464 \u52a8\u6001\u6dfb\u52a0\u8868\u5355\u9a8c\u8bc1\u89c4\u5219")),l.createElement("p",null,l.createElement("img",{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/14e6d60035764c06b66a9eb877d5b1e8~tplv-k3u1fbpfcp-watermark.awebp",alt:"dongtai.gif"})),l.createElement("p",null,"\u901a\u8fc7 setFieldsValue \u52a8\u6001\u8bbe\u7f6e\u89c4\u5219\u3002"),l.createElement("p",null,"\u4e4b\u524d\u89c4\u5219\u548c\u63d0\u793a\u6587\u6848 ",l.createElement("code",null,"{"," rule: (value='') => value.length < 5 ,message:'\u7b80\u4ecb\u4e0d\u8d85\u8fc7\u4e94\u4e2a\u5b57\u7b26' ","}")),l.createElement("p",null,"\u52a8\u6001\u8bbe\u7f6e\u89c4\u5219 ",l.createElement("code",null,"{"," rule: (value='') => value.length < 10, message:'\u7b80\u4ecb\u4e0d\u8d85\u8fc7\u5341\u4e2a\u5b57\u7b26' ","}")),l.createElement("h2",{id:"\u516d-\u603b\u7ed3"},l.createElement(r.AnchorLink,{to:"#\u516d-\u603b\u7ed3","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u516d \u603b\u7ed3"),l.createElement("p",null,"\u4ee5\u4e0a\u5c31\u662f\u4ece 0 \u5230 1 \u8bbe\u8ba1\u7684\u8868\u5355\u9a8c\u8bc1\u7cfb\u7edf")))}));n["default"]=e=>{var n=l.useContext(r.context),t=n.demos;return l.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&r.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.createElement(o,{demos:t})}},4187:function(e,n,t){"use strict";var l=t(67294),r=t(97397),a=t.n(r);t(8036);function c(e,n){return s(e)||u(e,n)||m(e,n)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,n){if(e){if("string"===typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,l=new Array(n);t<n;t++)l[t]=e[t];return l}function u(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,r,a=[],c=!0,o=!1;try{for(t=t.call(e);!(c=(l=t.next()).done);c=!0)if(a.push(l.value),n&&a.length===n)break}catch(m){o=!0,r=m}finally{try{c||null==t["return"]||t["return"]()}finally{if(o)throw r}}return a}}function s(e){if(Array.isArray(e))return e}var d=function(e){var n=e.children,t=(0,l.useRef)(),r=(0,l.useState)(!1),o=c(r,2),m=o[0],i=o[1],u=(0,l.useState)(!1),s=c(u,2),d=s[0],E=s[1];return(0,l.useEffect)((function(){var e=t.current,n=a()((function(){i(e.scrollLeft>0),E(e.scrollLeft<e.scrollWidth-e.offsetWidth)}),100);return n(),e.addEventListener("scroll",n),window.addEventListener("resize",n),function(){e.removeEventListener("scroll",n),window.removeEventListener("resize",n)}}),[]),l.createElement("div",{className:"__dumi-default-table"},l.createElement("div",{className:"__dumi-default-table-content",ref:t,"data-left-folded":m||void 0,"data-right-folded":d||void 0},l.createElement("table",null,n)))};n["Z"]=d}}]);