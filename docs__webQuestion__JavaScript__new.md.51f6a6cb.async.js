(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[4297],{70031:function(e,n,t){"use strict";t.r(n);var l=t(67294),a=t(96089),c=t(65659),o=l.memo((e=>{e.demos;return l.createElement(l.Fragment,null,l.createElement("div",{className:"markdown"},l.createElement("h1",{id:"\u8bf4\u8bf4new\u64cd\u4f5c\u7b26\u5177\u4f53\u5e72\u4e86\u4ec0\u4e48"},l.createElement(a.AnchorLink,{to:"#\u8bf4\u8bf4new\u64cd\u4f5c\u7b26\u5177\u4f53\u5e72\u4e86\u4ec0\u4e48","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u8bf4\u8bf4new\u64cd\u4f5c\u7b26\u5177\u4f53\u5e72\u4e86\u4ec0\u4e48\uff1f"),l.createElement("p",null,l.createElement("img",{src:"https://static.vue-js.com/880d0010-7a39-11eb-85f6-6fac77c0c9b3.png",alt:""})),l.createElement("h2",{id:"\u4e00\u662f\u4ec0\u4e48"},l.createElement(a.AnchorLink,{to:"#\u4e00\u662f\u4ec0\u4e48","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e00\u3001\u662f\u4ec0\u4e48"),l.createElement("p",null,"\u5728",l.createElement("code",null,"JavaScript"),"\u4e2d\uff0c",l.createElement("code",null,"new"),"\u64cd\u4f5c\u7b26\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u7ed9\u5b9a\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\u5bf9\u8c61"),l.createElement("p",null,"\u4f8b\u5b50"),l.createElement(c.Z,{code:"function Person(name, age){\n    this.name = name;\n    this.age = age;\n}\nPerson.prototype.sayName = function () {\n    console.log(this.name)\n}\nconst person1 = new Person('Tom', 20)\nconsole.log(person1)  // Person {name: \"Tom\", age: 20}\nt.sayName() // 'Tom'",lang:"js"}),l.createElement("p",null,"\u4ece\u4e0a\u9762\u53ef\u4ee5\u770b\u5230\uff1a"),l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"new")," \u901a\u8fc7\u6784\u9020\u51fd\u6570 ",l.createElement("code",null,"Person")," \u521b\u5efa\u51fa\u6765\u7684\u5b9e\u4f8b\u53ef\u4ee5\u8bbf\u95ee\u5230\u6784\u9020\u51fd\u6570\u4e2d\u7684\u5c5e\u6027"),l.createElement("li",null,l.createElement("code",null,"new")," \u901a\u8fc7\u6784\u9020\u51fd\u6570 ",l.createElement("code",null,"Person")," \u521b\u5efa\u51fa\u6765\u7684\u5b9e\u4f8b\u53ef\u4ee5\u8bbf\u95ee\u5230\u6784\u9020\u51fd\u6570\u539f\u578b\u94fe\u4e2d\u7684\u5c5e\u6027\uff08\u5373\u5b9e\u4f8b\u4e0e\u6784\u9020\u51fd\u6570\u901a\u8fc7\u539f\u578b\u94fe\u8fde\u63a5\u4e86\u8d77\u6765\uff09")),l.createElement("p",null,"\u73b0\u5728\u5728\u6784\u5efa\u51fd\u6570\u4e2d\u663e\u5f0f\u52a0\u4e0a\u8fd4\u56de\u503c\uff0c\u5e76\u4e14\u8fd9\u4e2a\u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u539f\u59cb\u7c7b\u578b"),l.createElement(c.Z,{code:"function Test(name) {\n  this.name = name\n  return 1\n}\nconst t = new Test('xxx')\nconsole.log(t.name) // 'xxx'",lang:"js"}),l.createElement("p",null,"\u53ef\u4ee5\u53d1\u73b0\uff0c\u6784\u9020\u51fd\u6570\u4e2d\u8fd4\u56de\u4e00\u4e2a\u539f\u59cb\u503c\uff0c\u7136\u800c\u8fd9\u4e2a\u8fd4\u56de\u503c\u5e76\u6ca1\u6709\u4f5c\u7528"),l.createElement("p",null,"\u4e0b\u9762\u5728\u6784\u9020\u51fd\u6570\u4e2d\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61"),l.createElement(c.Z,{code:"function Test(name) {\n  this.name = name\n  console.log(this) // Test { name: 'xxx' }\n  return { age: 26 }\n}\nconst t = new Test('xxx')\nconsole.log(t) // { age: 26 }\nconsole.log(t.name) // 'undefined'",lang:"js"}),l.createElement("p",null,"\u4ece\u4e0a\u9762\u53ef\u4ee5\u53d1\u73b0\uff0c\u6784\u9020\u51fd\u6570\u5982\u679c\u8fd4\u56de\u503c\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8fd4\u56de\u503c\u4f1a\u88ab\u6b63\u5e38\u4f7f\u7528"),l.createElement("h2",{id:"\u4e8c\u6d41\u7a0b"},l.createElement(a.AnchorLink,{to:"#\u4e8c\u6d41\u7a0b","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e8c\u3001\u6d41\u7a0b"),l.createElement("p",null,"\u4ece\u4e0a\u9762\u4ecb\u7ecd\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230",l.createElement("code",null,"new"),"\u5173\u952e\u5b57\u4e3b\u8981\u505a\u4e86\u4ee5\u4e0b\u7684\u5de5\u4f5c\uff1a"),l.createElement("ul",null,l.createElement("li",null,l.createElement("p",null,"\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61",l.createElement("code",null,"obj"))),l.createElement("li",null,l.createElement("p",null,"\u5c06\u5bf9\u8c61\u4e0e\u6784\u5efa\u51fd\u6570\u901a\u8fc7\u539f\u578b\u94fe\u8fde\u63a5\u8d77\u6765")),l.createElement("li",null,l.createElement("p",null,"\u5c06\u6784\u5efa\u51fd\u6570\u4e2d\u7684",l.createElement("code",null,"this"),"\u7ed1\u5b9a\u5230\u65b0\u5efa\u7684\u5bf9\u8c61",l.createElement("code",null,"obj"),"\u4e0a")),l.createElement("li",null,l.createElement("p",null,"\u6839\u636e\u6784\u5efa\u51fd\u6570\u8fd4\u56de\u7c7b\u578b\u4f5c\u5224\u65ad\uff0c\u5982\u679c\u662f\u539f\u59cb\u503c\u5219\u88ab\u5ffd\u7565\uff0c\u5982\u679c\u662f\u8fd4\u56de\u5bf9\u8c61\uff0c\u9700\u8981\u6b63\u5e38\u5904\u7406"))),l.createElement("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff1a"),l.createElement(c.Z,{code:"function Person(name, age){\n    this.name = name;\n    this.age = age;\n}\nconst person1 = new Person('Tom', 20)\nconsole.log(person1)  // Person {name: \"Tom\", age: 20}\nt.sayName() // 'Tom'",lang:"js"}),l.createElement("p",null,"\u6d41\u7a0b\u56fe\u5982\u4e0b\uff1a"),l.createElement("p",null,l.createElement("img",{src:"https://static.vue-js.com/b429b990-7a39-11eb-85f6-6fac77c0c9b3.png",alt:""})),l.createElement("h2",{id:"\u4e09\u624b\u5199new\u64cd\u4f5c\u7b26"},l.createElement(a.AnchorLink,{to:"#\u4e09\u624b\u5199new\u64cd\u4f5c\u7b26","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e09\u3001\u624b\u5199new\u64cd\u4f5c\u7b26"),l.createElement("p",null,"\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u6e05\u695a\u5730\u638c\u63e1\u4e86",l.createElement("code",null,"new"),"\u7684\u6267\u884c\u8fc7\u7a0b"),l.createElement("p",null,"\u90a3\u4e48\u6211\u4eec\u5c31\u52a8\u624b\u6765\u5b9e\u73b0\u4e00\u4e0b",l.createElement("code",null,"new")),l.createElement(c.Z,{code:"function mynew(Func, ...args) {\n    // 1.\u521b\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61\n    const obj = {}\n    // 2.\u65b0\u5bf9\u8c61\u539f\u578b\u6307\u5411\u6784\u9020\u51fd\u6570\u539f\u578b\u5bf9\u8c61\n    obj.__proto__ = Func.prototype\n    // 3.\u5c06\u6784\u5efa\u51fd\u6570\u7684this\u6307\u5411\u65b0\u5bf9\u8c61\n    let result = Func.apply(obj, args)\n    // 4.\u6839\u636e\u8fd4\u56de\u503c\u5224\u65ad\n    return result instanceof Object ? result : obj\n}",lang:"js"}),l.createElement("p",null,"\u6d4b\u8bd5\u4e00\u4e0b"),l.createElement(c.Z,{code:'function mynew(func, ...args) {\n    const obj = {}\n    obj.__proto__ = func.prototype\n    let result = func.apply(obj, args)\n    return result instanceof Object ? result : obj\n}\nfunction Person(name, age) {\n    this.name = name;\n    this.age = age;\n}\nPerson.prototype.say = function () {\n    console.log(this.name)\n}\n\nlet p = mynew(Person, "huihui", 123)\nconsole.log(p) // Person {name: "huihui", age: 123}\np.say() // huihui',lang:"js"}),l.createElement("p",null,"\u53ef\u4ee5\u53d1\u73b0\uff0c\u4ee3\u7801\u867d\u7136\u5f88\u77ed\uff0c\u4f46\u662f\u80fd\u591f\u6a21\u62df\u5b9e\u73b0",l.createElement("code",null,"new"))))}));n["default"]=e=>{var n=l.useContext(a.context),t=n.demos;return l.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&a.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.createElement(o,{demos:t})}}}]);