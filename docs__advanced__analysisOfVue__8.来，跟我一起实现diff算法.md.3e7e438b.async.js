(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[8116],{7325:function(e,n,t){"use strict";t.r(n);var l=t(67294),d=t(96089),a=t(65659),c=l.memo((e=>{e.demos;return l.createElement(l.Fragment,null,l.createElement("div",{className:"markdown"},l.createElement("blockquote",null,l.createElement("p",null,"\u8fd9\u4e00\u8282\uff0c\u4f9d\u7136\u662f",l.createElement("strong",null,"\u6df1\u5165\u5256\u6790Vue\u6e90\u7801\u7cfb\u5217"),"\uff0c\u4e0a\u51e0\u8282\u5185\u5bb9\u4ecb\u7ecd\u4e86",l.createElement("code",null,"Virtual DOM"),"\u662fVue\u5728\u6e32\u67d3\u673a\u5236\u4e0a\u505a\u7684\u4f18\u5316\uff0c\u800c\u6e32\u67d3\u7684\u6838\u5fc3\u5728\u4e8e\u6570\u636e\u53d8\u5316\u65f6\uff0c\u5982\u4f55\u9ad8\u6548\u7684\u66f4\u65b0\u8282\u70b9\uff0c\u8fd9\u5c31\u662fdiff\u7b97\u6cd5\u3002\u7531\u4e8e\u6e90\u7801\u4e2d\u5173\u4e8e",l.createElement("code",null,"diff"),"\u7b97\u6cd5\u90e8\u5206\u6d41\u7a0b\u590d\u6742\uff0c\u76f4\u63a5\u5256\u6790\u6bcf\u4e2a\u6d41\u7a0b\u4e0d\u6613\u4e8e\u7406\u89e3\uff0c\u6240\u4ee5\u8fd9\u4e00\u8282\u6211\u4eec\u6362\u4e00\u4e2a\u601d\u8def\uff0c\u53c2\u8003\u6e90\u7801\u6765\u624b\u52a8\u5b9e\u73b0\u4e00\u4e2a\u7b80\u6613\u7248\u7684",l.createElement("code",null,"diff"),"\u7b97\u6cd5\u3002")),l.createElement("p",null,"\u4e4b\u524d\u8bb2\u5230",l.createElement("code",null,"Vue"),"\u5728\u6e32\u67d3\u673a\u5236\u7684\u4f18\u5316\u4e0a\uff0c\u5f15\u5165\u4e86",l.createElement("code",null,"Virtual DOM"),"\u7684\u6982\u5ff5\uff0c\u5229\u7528",l.createElement("code",null,"Virtual DOM"),"\u63cf\u8ff0\u4e00\u4e2a\u771f\u5b9e\u7684",l.createElement("code",null,"DOM"),",\u672c\u8d28\u4e0a\u662f\u5728",l.createElement("code",null,"JS"),"\u548c\u771f\u5b9e",l.createElement("code",null,"DOM"),"\u4e4b\u95f4\u67b6\u8d77\u4e86\u4e00\u5c42\u7f13\u51b2\u5c42\u3002\u5f53\u6211\u4eec\u901a\u8fc7\u5927\u91cf\u7684",l.createElement("code",null,"JS"),"\u8fd0\u7b97,\u5e76\u5c06\u6700\u7ec8\u7ed3\u679c\u53cd\u5e94\u5230\u6d4f\u89c8\u5668\u8fdb\u884c\u6e32\u67d3\u65f6\uff0c",l.createElement("code",null,"Virtual DOM"),"\u53ef\u4ee5\u5c06\u591a\u4e2a\u6539\u52a8\u5408\u5e76\u6210\u4e00\u4e2a\u6279\u91cf\u7684\u64cd\u4f5c\uff0c\u4ece\u800c\u51cf\u5c11 ",l.createElement("code",null,"dom")," \u91cd\u6392\u7684\u6b21\u6570\uff0c\u8fdb\u800c\u7f29\u77ed\u4e86\u751f\u6210\u6e32\u67d3\u6811\u548c\u7ed8\u5236\u8282\u70b9\u6240\u82b1\u7684\u65f6\u95f4\uff0c\u8fbe\u5230\u6e32\u67d3\u4f18\u5316\u7684\u76ee\u7684\u3002\u4e4b\u524d\u7684\u7ae0\u8282\uff0c\u6211\u4eec\u7b80\u5355\u7684\u4ecb\u7ecd\u4e86",l.createElement("code",null,"Vue"),"\u4e2d",l.createElement("code",null,"Vnode"),"\u7684\u6982\u5ff5\uff0c\u4ee5\u53ca\u521b\u5efa",l.createElement("code",null,"Vnode"),"\u5230",l.createElement("code",null,"\u6e32\u67d3Vnode"),"\u518d\u5230\u771f\u5b9e",l.createElement("code",null,"DOM"),"\u7684\u8fc7\u7a0b\u3002\u5982\u679c\u6709\u5fd8\u8bb0\u6d41\u7a0b\u7684\uff0c\u53ef\u4ee5\u53c2\u8003\u524d\u9762\u7684\u7ae0\u8282\u5206\u6790\u3002"),l.createElement("p",null,"**\u4ece",l.createElement("code",null,"render"),"\u51fd\u6570\u5230\u521b\u5efa\u865a\u62df",l.createElement("code",null,"DOM"),",\u518d\u5230\u6e32\u67d3\u771f\u5b9e\u8282\u70b9\uff0c\u8fd9\u4e00\u8fc7\u7a0b\u662f\u5b8c\u6574\u7684\uff0c\u4e5f\u662f\u5bb9\u6613\u7406\u89e3\u7684\u3002\u7136\u800c\u5f15\u5165\u865a\u62df",l.createElement("code",null,"DOM"),"\u7684\u6838\u5fc3\u4e0d\u5728\u8fd9\u91cc\uff0c\u800c\u5728\u4e8e\u5f53\u6570\u636e\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u5982\u4f55\u6700\u4f18\u5316\u6570\u636e\u53d8\u52a8\u5230\u89c6\u56fe\u66f4\u65b0\u7684\u8fc7\u7a0b\u3002\u8fd9\u4e00\u4e2a\u8fc7\u7a0b\u624d\u662f",l.createElement("code",null,"Vnode"),"\u66f4\u65b0\u89c6\u56fe\u7684\u6838\u5fc3\uff0c\u4e5f\u5c31\u662f\u5e38\u8bf4\u7684",l.createElement("code",null,"diff"),"\u7b97\u6cd5\u3002**\u4e0b\u9762\u8ddf\u7740\u6211\u6765\u5b9e\u73b0\u4e00\u4e2a\u7b80\u6613\u7248\u7684",l.createElement("code",null,"diff"),"\u7b97\u6cd5"),l.createElement("h2",{id:"81-\u521b\u5efa\u57fa\u7840\u7c7b"},l.createElement(d.AnchorLink,{to:"#81-\u521b\u5efa\u57fa\u7840\u7c7b","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.1 \u521b\u5efa\u57fa\u7840\u7c7b"),l.createElement("p",null,"\u4ee3\u7801\u7f16\u5199\u8fc7\u7a0b\u4f1a\u9047\u5230\u5f88\u591a\u57fa\u672c\u7c7b\u578b\u7684\u5224\u65ad\uff0c\u7b2c\u4e00\u6b65\u9700\u8981\u5148\u5c06\u8fd9\u4e9b\u65b9\u6cd5\u5c01\u88c5\u3002"),l.createElement(a.Z,{code:"class Util {\n  constructor() {}\n  // \u68c0\u6d4b\u57fa\u7840\u7c7b\u578b\n  _isPrimitive(value) {\n    return (typeof value === 'string' || typeof value === 'number' || typeof value === 'symbol' || typeof value === 'boolean')\n  }\n  // \u5224\u65ad\u503c\u4e0d\u4e3a\u7a7a\n  _isDef(v) {\n    return v !== undefined && v !== null\n  }\n}\n// \u5de5\u5177\u7c7b\u7684\u4f7f\u7528\nconst util = new Util()",lang:"js"}),l.createElement("h2",{id:"82-\u521b\u5efavnode"},l.createElement(d.AnchorLink,{to:"#82-\u521b\u5efavnode","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.2 \u521b\u5efaVnode"),l.createElement("p",null,l.createElement("code",null,"Vnode"),"\u8fd9\u4e2a\u7c7b\u5728\u4e4b\u524d\u7ae0\u8282\u5df2\u7ecf\u5206\u6790\u8fc7\u6e90\u7801\uff0c\u672c\u8d28\u4e0a\u662f\u7528\u4e00\u4e2a\u5bf9\u8c61\u53bb\u63cf\u8ff0\u4e00\u4e2a\u771f\u5b9e\u7684",l.createElement("code",null,"DOM"),"\u5143\u7d20\uff0c\u7b80\u6613\u7248\u5173\u6ce8\u70b9\u5728\u4e8e\u5143\u7d20\u7684",l.createElement("code",null,"tag"),"\u6807\u7b7e\uff0c\u5143\u7d20\u7684\u5c5e\u6027\u96c6\u5408",l.createElement("code",null,"data"),",\u5143\u7d20\u7684\u5b50\u8282\u70b9",l.createElement("code",null,"children"),",",l.createElement("code",null,"text"),"\u4e3a\u5143\u7d20\u7684\u6587\u672c\u8282\u70b9,\u7b80\u5355\u7684\u63cf\u8ff0\u7c7b\u5982\u4e0b\uff1a"),l.createElement(a.Z,{code:"class VNode {\n  constructor(tag, data, children) {\n    this.tag = tag;\n    this.data = data;\n    this.children = children;\n    this.elm = ''\n    // text\u5c5e\u6027\u7528\u4e8e\u6807\u5fd7Vnode\u8282\u70b9\u6ca1\u6709\u5176\u4ed6\u5b50\u8282\u70b9\uff0c\u53ea\u6709\u7eaf\u6587\u672c\n    this.text = util._isPrimitive(this.children) ? this.children : ''\n  }\n}",lang:"js"}),l.createElement("h2",{id:"83-\u6a21\u62df\u6e32\u67d3\u8fc7\u7a0b"},l.createElement(d.AnchorLink,{to:"#83-\u6a21\u62df\u6e32\u67d3\u8fc7\u7a0b","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.3 \u6a21\u62df\u6e32\u67d3\u8fc7\u7a0b"),l.createElement("p",null,"\u63a5\u4e0b\u6765\u9700\u8981\u521b\u5efa\u53e6\u4e00\u4e2a\u7c7b\u6a21\u62df\u5c06",l.createElement("code",null,"render"),"\u51fd\u6570\u8f6c\u6362\u4e3a",l.createElement("code",null,"Vnode"),",\u5e76\u5c06",l.createElement("code",null,"Vnode"),"\u6e32\u67d3\u4e3a\u771f\u5b9e",l.createElement("code",null,"DOM"),"\u7684\u8fc7\u7a0b\uff0c\u6211\u4eec\u5c06\u8fd9\u4e2a\u7c7b\u5b9a\u4e49\u4e3a",l.createElement("code",null,"Vn"),",",l.createElement("code",null,"Vn"),"\u5177\u6709\u4e24\u4e2a\u57fa\u672c\u7684\u65b9\u6cd5",l.createElement("code",null,"createVnode, createElement"),", \u5206\u522b\u5b9e\u73b0\u521b\u5efa\u865a\u62df",l.createElement("code",null,"Vnode"),",\u548c\u521b\u5efa\u771f\u5b9e",l.createElement("code",null,"DOM"),"\u7684\u8fc7\u7a0b\u3002"),l.createElement("h3",{id:"831-createvnode"},l.createElement(d.AnchorLink,{to:"#831-createvnode","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.3.1 createVnode"),l.createElement("p",null,l.createElement("code",null,"createVnode"),"\u6a21\u62df",l.createElement("code",null,"Vue"),"\u4e2d",l.createElement("code",null,"render"),"\u51fd\u6570\u7684\u5b9e\u73b0\u601d\u8def\uff0c\u76ee\u7684\u662f\u5c06\u6570\u636e\u8f6c\u6362\u4e3a\u865a\u62df\u7684",l.createElement("code",null,"Vnode"),",\u5148\u770b\u5177\u4f53\u7684\u4f7f\u7528\u548c\u5b9a\u4e49\u3002"),l.createElement(a.Z,{code:"// index.html\n\n<script src=\"diff.js\">\n<script>\n\n// \u521b\u5efaVnode\n\nlet createVnode = function() {\n  let _c = vn.createVnode;\n  return _c('div', { attrs: { id: 'test' } }, arr.map(a => _c(a.tag, {}, a.text)))\n}\n\n// \u5143\u7d20\u5185\u5bb9\u7ed3\u6784\nlet arr = \n  [{\n    tag: 'i',\n    text: 2\n  }, {\n    tag: 'span',\n    text: 3\n  }, {\n    tag: 'strong',\n    text: 4\n  }]\n<\/script>\n\n\n\n// diff.js\n(function(global) {\n  class Vn {\n    constructor() {}\n    // \u521b\u5efa\u865a\u62dfVnode\n    createVnode(tag, data, children) {\n      return new VNode(tag, data, children)\n    }\n  }\n  global.vn = new Vn()\n}(this))",lang:"js"}),l.createElement("p",null,"\u8fd9\u662f\u4e00\u4e2a\u5b8c\u6574\u7684",l.createElement("code",null,"Vnode"),"\u5bf9\u8c61\uff0c\u6211\u4eec\u5df2\u7ecf\u53ef\u4ee5\u7528\u8fd9\u4e2a\u5bf9\u8c61\u6765\u7b80\u5355\u7684\u63cf\u8ff0\u4e00\u4e2a",l.createElement("code",null,"DOM"),"\u8282\u70b9\uff0c\u800c",l.createElement("code",null,"createElement"),"\u5c31\u662f\u5c06\u8fd9\u4e2a\u5bf9\u8c61\u5bf9\u5e94\u5230\u771f\u5b9e\u8282\u70b9\u7684\u8fc7\u7a0b\u3002\u6700\u7ec8\u6211\u4eec\u5e0c\u671b\u7684\u7ed3\u679c\u662f\u8fd9\u6837\u7684\u3002"),l.createElement("p",null,l.createElement("strong",null,"Vnode\u5bf9\u8c61")),l.createElement("p",null,l.createElement("img",{src:"https://wongabner.coding.net/p/picgo/d/analysisOfVue/git/raw/master/8.1.png",alt:""})),l.createElement("p",null,l.createElement("strong",null,"\u6e32\u67d3\u7ed3\u679c")),l.createElement("p",null,l.createElement("img",{src:"https://wongabner.coding.net/p/picgo/d/analysisOfVue/git/raw/master/8.2.png",alt:""})),l.createElement("h3",{id:"832-createelement"},l.createElement(d.AnchorLink,{to:"#832-createelement","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.3.2 createElement"),l.createElement("p",null,"\u6e32\u67d3\u771f\u5b9e",l.createElement("code",null,"DOM"),"\u7684\u8fc7\u7a0b\u5c31\u662f\u904d\u5386",l.createElement("code",null,"Vnode"),"\u5bf9\u8c61\uff0c\u9012\u5f52\u521b\u5efa\u771f\u5b9e\u8282\u70b9\u7684\u8fc7\u7a0b\uff0c\u8fd9\u4e2a\u4e0d\u662f\u672c\u6587\u7684\u91cd\u70b9\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7c97\u7cd9\u7684\u5b9e\u73b0\u3002"),l.createElement(a.Z,{code:"class Vn {\n  createElement(vnode, options) {\n      let el = options.el;\n      if(!el || !document.querySelector(el)) return console.error('\u65e0\u6cd5\u627e\u5230\u6839\u8282\u70b9')\n      let _createElement = vnode => {\n        const { tag, data, children } = vnode;\n        const ele = document.createElement(tag);\n        // \u6dfb\u52a0\u5c5e\u6027\n        this.setAttr(ele, data);\n        // \u7b80\u5355\u7684\u6587\u672c\u8282\u70b9\uff0c\u53ea\u8981\u521b\u5efa\u6587\u672c\u8282\u70b9\u5373\u53ef\n        if (util._isPrimitive(children)) {\n          const testEle = document.createTextNode(children);\n          ele.appendChild(testEle)\n        } else {\n        // \u590d\u6742\u7684\u5b50\u8282\u70b9\u9700\u8981\u904d\u5386\u5b50\u8282\u70b9\u9012\u5f52\u521b\u5efa\u8282\u70b9\u3002\n          children.map(c => ele.appendChild(_createElement(c)))\n        }\n        return ele\n      }\n      document.querySelector(el).appendChild(_createElement(vnode))\n    }\n}",lang:"js"}),l.createElement("h3",{id:"833-setattr"},l.createElement(d.AnchorLink,{to:"#833-setattr","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.3.3 setAttr"),l.createElement("p",null,l.createElement("code",null,"setAttr"),"\u662f\u4e3a\u8282\u70b9\u8bbe\u7f6e\u5c5e\u6027\u7684\u65b9\u6cd5\uff0c\u5229\u7528",l.createElement("code",null,"DOM"),"\u539f\u751f\u7684",l.createElement("code",null,"setAttribute"),"\u4e3a\u6bcf\u4e2a\u8282\u70b9\u8bbe\u7f6e\u5c5e\u6027\u503c\u3002"),l.createElement(a.Z,{code:"class Vn {\n  setAttr(el, data) {\n    if (!el) return\n    const attrs = data.attrs;\n    if (!attrs) return;\n    Object.keys(attrs).forEach(a => {\n      el.setAttribute(a, attrs[a]);\n    })\n  }\n}",lang:"js"}),l.createElement("p",null,"\u81f3\u6b64\u4e00\u4e2a\u7b80\u5355\u7684 **\u6570\u636e -> ",l.createElement("code",null,"Virtual DOM")," => \u771f\u5b9e",l.createElement("code",null,"DOM"),"**\u7684\u6a21\u578b\u642d\u5efa\u6210\u529f,\u8fd9\u4e5f\u662f\u6570\u636e\u53d8\u5316\u3001\u6bd4\u8f83\u3001\u66f4\u65b0\u7684\u57fa\u7840\u3002"),l.createElement("h2",{id:"84-diff\u7b97\u6cd5\u5b9e\u73b0"},l.createElement(d.AnchorLink,{to:"#84-diff\u7b97\u6cd5\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.4 diff\u7b97\u6cd5\u5b9e\u73b0"),l.createElement("p",null,"\u66f4\u65b0\u7ec4\u4ef6\u7684\u8fc7\u7a0b\u9996\u5148\u662f\u54cd\u5e94\u5f0f\u6570\u636e\u53d1\u751f\u4e86\u53d8\u5316,\u6570\u636e\u9891\u7e41\u7684\u4fee\u6539\u5982\u679c\u76f4\u63a5\u6e32\u67d3\u5230\u771f\u5b9e",l.createElement("code",null,"DOM"),"\u4e0a\u4f1a\u5f15\u8d77\u6574\u4e2a",l.createElement("code",null,"DOM"),"\u6811\u7684\u91cd\u7ed8\u548c\u91cd\u6392\uff0c\u9891\u7e41\u7684\u91cd\u7ed8\u548c\u91cd\u6392\u662f\u6781\u5176\u6d88\u8017\u6027\u80fd\u7684\u3002\u5982\u4f55\u4f18\u5316\u8fd9\u4e00\u6e32\u67d3\u8fc7\u7a0b\uff0c",l.createElement("code",null,"Vue"),"\u6e90\u7801\u4e2d\u7ed9\u51fa\u4e86\u4e24\u4e2a\u5177\u4f53\u7684\u601d\u8def\uff0c\u5176\u4e2d\u4e00\u4e2a\u662f\u5728\u4ecb\u7ecd\u54cd\u5e94\u5f0f\u7cfb\u7edf\u65f6\u63d0\u5230\u7684\u5c06\u591a\u6b21\u4fee\u6539\u63a8\u5230\u4e00\u4e2a\u961f\u5217\u4e2d\uff0c\u5728\u4e0b\u4e00\u4e2a",l.createElement("code",null,"tick"),"\u53bb\u6267\u884c\u89c6\u56fe\u66f4\u65b0\uff0c\u53e6\u4e00\u4e2a\u5c31\u662f\u63a5\u4e0b\u6765\u8981\u7740\u91cd\u4ecb\u7ecd\u7684",l.createElement("code",null,"diff"),"\u7b97\u6cd5\uff0c\u5c06\u9700\u8981\u4fee\u6539\u7684\u6570\u636e\u8fdb\u884c\u6bd4\u8f83\uff0c\u5e76\u53ea\u6e32\u67d3\u5fc5\u8981\u7684",l.createElement("code",null,"DOM"),"\u3002"),l.createElement("p",null,"\u6570\u636e\u7684\u6539\u53d8\u6700\u7ec8\u4f1a\u5bfc\u81f4\u8282\u70b9\u7684\u6539\u53d8\uff0c\u6240\u4ee5",l.createElement("code",null,"diff"),"\u7b97\u6cd5\u7684\u6838\u5fc3\u5728\u4e8e\u5728\u5c3d\u53ef\u80fd\u5c0f\u53d8\u52a8\u7684\u524d\u63d0\u4e0b\u627e\u5230\u9700\u8981\u66f4\u65b0\u7684\u8282\u70b9\uff0c\u76f4\u63a5\u8c03\u7528\u539f\u751f\u76f8\u5173",l.createElement("code",null,"DOM"),"\u65b9\u6cd5\u4fee\u6539\u89c6\u56fe\u3002\u4e0d\u7ba1\u662f\u771f\u5b9e",l.createElement("code",null,"DOM"),"\u8fd8\u662f\u524d\u9762\u521b\u5efa\u7684",l.createElement("code",null,"Virtual DOM"),",\u90fd\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u9897",l.createElement("code",null,"DOM"),"\u6811\uff0c",l.createElement("strong",null,"\u7b97\u6cd5\u6bd4\u8f83\u8282\u70b9\u4e0d\u540c\u65f6\uff0c\u53ea\u4f1a\u8fdb\u884c\u540c\u5c42\u8282\u70b9\u7684\u6bd4\u8f83\uff0c\u4e0d\u4f1a\u8de8\u5c42\u8fdb\u884c\u6bd4\u8f83\uff0c\u8fd9\u4e5f\u5927\u5927\u51cf\u5c11\u4e86\u7b97\u6cd5\u590d\u6742\u5ea6\u3002")),l.createElement("h3",{id:"841-diffvnode"},l.createElement(d.AnchorLink,{to:"#841-diffvnode","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.4.1 diffVnode"),l.createElement("p",null,"\u5728\u4e4b\u524d\u7684\u57fa\u7840\u4e0a\uff0c\u6211\u4eec\u5b9e\u73b0\u4e00\u4e2a\u601d\u8def\uff0c1\u79d2\u4e4b\u540e\u6570\u636e\u53d1\u751f\u6539\u53d8\u3002"),l.createElement(a.Z,{code:"// index.html\nsetTimeout(function() {\n  arr = [{\n    tag: 'span',\n    text: 1\n  },{\n    tag: 'strong',\n    text: 2\n  },{\n    tag: 'i',\n    text: 3\n  },{\n    tag: 'i',\n    text: 4\n  }]\n  // newVnode \u8868\u793a\u6539\u53d8\u540e\u65b0\u7684Vnode\u6811\n  const newVnode = createVnode();\n  // diffVnode\u4f1a\u6bd4\u8f83\u65b0\u65e7Vnode\u6811\uff0c\u5e76\u5b8c\u6210\u89c6\u56fe\u66f4\u65b0\n  vn.diffVnode(newVnode, preVnode);\n})",lang:"js"}),l.createElement("p",null,l.createElement("code",null,"diffVnode"),"\u7684\u903b\u8f91\uff0c\u4f1a\u5bf9\u6bd4\u65b0\u65e7\u8282\u70b9\u7684\u4e0d\u540c\uff0c\u5e76\u5b8c\u6210\u89c6\u56fe\u6e32\u67d3\u66f4\u65b0"),l.createElement(a.Z,{code:"class Vn {\n  \xb7\xb7\xb7\n  diffVnode(nVnode, oVnode) {\n    if (!this._sameVnode(nVnode, oVnode)) {\n      // \u76f4\u63a5\u66f4\u65b0\u6839\u8282\u70b9\u53ca\u6240\u6709\u5b50\u8282\u70b9\n      return ***\n    }\n    this.generateElm(vonde);\n    this.patchVnode(nVnode, oVnode);\n  }\n}",lang:"js"}),l.createElement("h3",{id:"842-_samevnode"},l.createElement(d.AnchorLink,{to:"#842-_samevnode","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.4.2 _sameVnode"),l.createElement("p",null,"\u65b0\u65e7\u8282\u70b9\u7684\u5bf9\u6bd4\u662f\u7b97\u6cd5\u7684\u7b2c\u4e00\u6b65\uff0c\u5982\u679c\u65b0\u65e7\u8282\u70b9\u7684\u6839\u8282\u70b9\u4e0d\u662f\u540c\u4e00\u4e2a\u8282\u70b9\uff0c\u5219\u76f4\u63a5\u66ff\u6362\u8282\u70b9\u3002\u8fd9\u9075\u4ece\u4e0a\u9762\u63d0\u5230\u7684\u539f\u5219\uff0c",l.createElement("strong",null,"\u53ea\u8fdb\u884c\u540c\u5c42\u8282\u70b9\u7684\u6bd4\u8f83\uff0c\u8282\u70b9\u4e0d\u4e00\u81f4\uff0c\u76f4\u63a5\u7528\u65b0\u8282\u70b9\u53ca\u5176\u5b50\u8282\u70b9\u66ff\u6362\u65e7\u8282\u70b9"),"\u3002\u4e3a\u4e86\u7406\u89e3\u65b9\u4fbf\uff0c\u6211\u4eec\u5047\u5b9a\u8282\u70b9\u76f8\u540c\u7684\u5224\u65ad\u662f",l.createElement("code",null,"tag"),"\u6807\u7b7e\u662f\u5426\u4e00\u81f4(\u5b9e\u9645\u6e90\u7801\u8981\u590d\u6742)\u3002"),l.createElement(a.Z,{code:"class Vn {\n  _sameVnode(n, o) {\n    return n.tag === o.tag;\n  }\n}",lang:"js"}),l.createElement("h3",{id:"843-generateelm"},l.createElement(d.AnchorLink,{to:"#843-generateelm","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.4.3 generateElm"),l.createElement("p",null,l.createElement("code",null,"generateElm"),"\u7684\u4f5c\u7528\u662f\u8ddf\u8e2a\u6bcf\u4e2a\u8282\u70b9\u5b9e\u9645\u7684\u771f\u5b9e\u8282\u70b9\uff0c\u65b9\u4fbf\u5728\u5bf9\u6bd4\u865a\u62df\u8282\u70b9\u540e\u5b9e\u65f6\u66f4\u65b0\u771f\u5b9e",l.createElement("code",null,"DOM"),"\u8282\u70b9\u3002\u867d\u7136",l.createElement("code",null,"Vue"),"\u6e90\u7801\u4e2d\u505a\u6cd5\u4e0d\u540c\uff0c\u4f46\u662f\u8fd9\u4e0d\u662f\u5206\u6790",l.createElement("code",null,"diff"),"\u7684\u91cd\u70b9\u3002"),l.createElement(a.Z,{code:"class Vn {\n  generateElm(vnode) {\n    const traverseTree = (v, parentEl) => {\n      let children = v.children;\n      if(Array.isArray(children)) {\n        children.forEach((c, i) => {\n          c.elm = parentEl.childNodes[i];\n          traverseTree(c, c.elm)\n        })\n      }\n    }\n    traverseTree(vnode, this.el);\n  }\n}",lang:"js"}),l.createElement("p",null,"\u6267\u884c",l.createElement("code",null,"generateElm"),"\u65b9\u6cd5\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u65e7\u8282\u70b9\u7684",l.createElement("code",null,"Vnode"),"\u4e2d\u8ddf\u8e2a\u5230\u6bcf\u4e2a",l.createElement("code",null,"Virtual DOM"),"\u7684\u771f\u5b9e\u8282\u70b9\u4fe1\u606f\u3002"),l.createElement("h3",{id:"844-patchvnode"},l.createElement(d.AnchorLink,{to:"#844-patchvnode","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.4.4 patchVnode"),l.createElement("p",null,l.createElement("code",null,"patchVnode"),"\u662f\u65b0\u65e7",l.createElement("code",null,"Vnode"),"\u5bf9\u6bd4\u7684\u6838\u5fc3\u65b9\u6cd5\uff0c\u5bf9\u6bd4\u7684\u903b\u8f91\u5982\u4e0b\u3002"),l.createElement("ol",null,l.createElement("li",null,"\u8282\u70b9\u76f8\u540c\uff0c\u4e14\u8282\u70b9\u9664\u4e86\u62e5\u6709\u6587\u672c\u8282\u70b9\u5916\u6ca1\u6709\u5176\u4ed6\u5b50\u8282\u70b9\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\u76f4\u63a5\u66ff\u6362\u6587\u672c\u5185\u5bb9\u3002"),l.createElement("li",null,"\u65b0\u8282\u70b9\u6ca1\u6709\u5b50\u8282\u70b9\uff0c\u65e7\u8282\u70b9\u6709\u5b50\u8282\u70b9\uff0c\u5219\u5220\u9664\u65e7\u8282\u70b9\u6240\u6709\u5b50\u8282\u70b9\u3002"),l.createElement("li",null,"\u65e7\u8282\u70b9\u6ca1\u6709\u5b50\u8282\u70b9\uff0c\u65b0\u8282\u70b9\u6709\u5b50\u8282\u70b9\uff0c\u5219\u7528\u65b0\u7684\u6240\u6709\u5b50\u8282\u70b9\u53bb\u66f4\u65b0\u65e7\u8282\u70b9\u3002"),l.createElement("li",null,"\u65b0\u65e7\u90fd\u5b58\u5728\u5b50\u8282\u70b9\u3002\u5219\u5bf9\u6bd4\u5b50\u8282\u70b9\u5185\u5bb9\u505a\u64cd\u4f5c\u3002")),l.createElement("p",null,"\u4ee3\u7801\u903b\u8f91\u5982\u4e0b\uff1a"),l.createElement(a.Z,{code:"class Vn {\n  patchVnode(nVnode, oVnode) {\n    \n    if(nVnode.text && nVnode.text !== oVnode) {\n      // \u5f53\u524d\u771f\u5b9edom\u5143\u7d20\n      let ele = oVnode.elm\n      // \u5b50\u8282\u70b9\u4e3a\u6587\u672c\u8282\u70b9\n      ele.textContent = nVnode.text;\n    } else {\n      const oldCh = oVnode.children;\n      const newCh = nVnode.children;\n      // \u65b0\u65e7\u8282\u70b9\u90fd\u5b58\u5728\u3002\u5bf9\u6bd4\u5b50\u8282\u70b9\n      if (util._isDef(oldCh) && util._isDef(newCh)) {\n        this.updateChildren(ele, newCh, oldCh)\n      } else if (util._isDef(oldCh)) {\n        // \u65b0\u8282\u70b9\u6ca1\u6709\u5b50\u8282\u70b9\n      } else {\n        // \u8001\u8282\u70b9\u6ca1\u6709\u5b50\u8282\u70b9\n      }\n    }\n  }\n}",lang:"js"}),l.createElement("p",null,"\u4e0a\u8ff0\u4f8b\u5b50\u5728",l.createElement("code",null,"patchVnode"),"\u8fc7\u7a0b\u4e2d\uff0c\u65b0\u65e7\u5b50\u8282\u70b9\u90fd\u5b58\u5728\uff0c\u6240\u4ee5\u4f1a\u8d70",l.createElement("code",null,"updateChildren"),"\u5206\u652f\u3002"),l.createElement("h3",{id:"845-updatechildren"},l.createElement(d.AnchorLink,{to:"#845-updatechildren","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.4.5 updateChildren"),l.createElement("p",null,"\u5b50\u8282\u70b9\u7684\u5bf9\u6bd4\uff0c\u6211\u4eec\u901a\u8fc7\u6587\u5b57\u548c\u753b\u56fe\u7684\u5f62\u5f0f\u5206\u6790\uff0c\u901a\u8fc7\u56fe\u89e3\u7684\u5f62\u5f0f\u53ef\u4ee5\u5f88\u6e05\u6670\u770b\u5230",l.createElement("code",null,"diff"),"\u7b97\u6cd5\u7684\u5de7\u5999\u4e4b\u5904\u3002"),l.createElement("p",null,"\u5927\u81f4\u903b\u8f91\u662f\uff1a"),l.createElement("ol",null,l.createElement("li",null,"\u65e7\u8282\u70b9\u7684\u8d77\u59cb\u4f4d\u7f6e\u4e3a",l.createElement("code",null,"oldStartIndex"),",\u622a\u81f3\u4f4d\u7f6e\u4e3a",l.createElement("code",null,"oldEndIndex"),",\u65b0\u8282\u70b9\u7684\u8d77\u59cb\u4f4d\u7f6e\u4e3a",l.createElement("code",null,"newStartIndex"),",\u622a\u81f3\u4f4d\u7f6e\u4e3a",l.createElement("code",null,"newEndIndex"),"\u3002"),l.createElement("li",null,"\u65b0\u65e7",l.createElement("code",null,"children"),"\u7684\u8d77\u59cb\u4f4d\u7f6e\u7684\u5143\u7d20\u4e24\u4e24\u5bf9\u6bd4\uff0c\u987a\u5e8f\u662f",l.createElement("code",null,"newStartVnode, oldStartVnode"),"; ",l.createElement("code",null,"newEndVnode, oldEndVnode"),";",l.createElement("code",null,"newEndVnode, oldStartVnode"),";",l.createElement("code",null,"newStartIndex, oldEndIndex")),l.createElement("li",null,l.createElement("code",null,"newStartVnode, oldStartVnode"),"\u8282\u70b9\u76f8\u540c\uff0c\u6267\u884c\u4e00\u6b21",l.createElement("code",null,"patchVnode"),"\u8fc7\u7a0b\uff0c\u4e5f\u5c31\u662f\u9012\u5f52\u5bf9\u6bd4\u76f8\u5e94\u5b50\u8282\u70b9\uff0c\u5e76\u66ff\u6362\u8282\u70b9\u7684\u8fc7\u7a0b\u3002",l.createElement("code",null,"oldStartIndex\uff0cnewStartIndex"),"\u90fd\u50cf\u53f3\u79fb\u52a8\u4e00\u4f4d\u3002"),l.createElement("li",null,l.createElement("code",null,"newEndVnode, oldEndVnode"),"\u8282\u70b9\u76f8\u540c\uff0c\u6267\u884c\u4e00\u6b21",l.createElement("code",null,"patchVnode"),"\u8fc7\u7a0b\uff0c\u9012\u5f52\u5bf9\u6bd4\u76f8\u5e94\u5b50\u8282\u70b9\uff0c\u5e76\u66ff\u6362\u8282\u70b9\u3002",l.createElement("code",null,"oldEndIndex\uff0c newEndIndex"),"\u90fd\u50cf\u5de6\u79fb\u52a8\u4e00\u4f4d\u3002"),l.createElement("li",null,l.createElement("code",null,"newEndVnode, oldStartVnode"),"\u8282\u70b9\u76f8\u540c\uff0c\u6267\u884c\u4e00\u6b21",l.createElement("code",null,"patchVnode"),"\u8fc7\u7a0b\uff0c\u5e76\u5c06\u65e7\u7684",l.createElement("code",null,"oldStartVnode"),"\u79fb\u52a8\u5230\u5c3e\u90e8,",l.createElement("code",null,"oldStartIndex"),"\u53f3\u79fb\u4e00\u5473\uff0c",l.createElement("code",null,"newEndIndex"),"\u5de6\u79fb\u4e00\u4f4d\u3002"),l.createElement("li",null,l.createElement("code",null,"newStartIndex, oldEndIndex"),"\u8282\u70b9\u76f8\u540c\uff0c\u6267\u884c\u4e00\u6b21",l.createElement("code",null,"patchVnode"),"\u8fc7\u7a0b\uff0c\u5e76\u5c06\u65e7\u7684",l.createElement("code",null,"oldEndVnode"),"\u79fb\u52a8\u5230\u5934\u90e8,",l.createElement("code",null,"oldEndIndex"),"\u5de6\u79fb\u4e00\u5473\uff0c",l.createElement("code",null,"newStartIndex"),"\u53f3\u79fb\u4e00\u4f4d\u3002"),l.createElement("li",null,"\u56db\u79cd\u7ec4\u5408\u90fd\u4e0d\u76f8\u540c\uff0c\u5219\u4f1a\u641c\u7d22\u65e7\u8282\u70b9\u6240\u6709\u5b50\u8282\u70b9\uff0c\u627e\u5230\u5c06\u8fd9\u4e2a\u65e7\u8282\u70b9\u548c",l.createElement("code",null,"newStartVnode"),"\u6267\u884c",l.createElement("code",null,"patchVnode"),"\u8fc7\u7a0b\u3002"),l.createElement("li",null,"\u4e0d\u65ad\u5bf9\u6bd4\u7684\u8fc7\u7a0b\u4f7f\u5f97",l.createElement("code",null,"oldStartIndex"),"\u4e0d\u65ad\u903c\u8fd1",l.createElement("code",null,"oldEndIndex"),"\uff0c",l.createElement("code",null,"newStartIndex"),"\u4e0d\u65ad\u903c\u8fd1",l.createElement("code",null,"newEndIndex"),"\u3002\u5f53",l.createElement("code",null,"oldEndIndex <= oldStartIndex"),"\u8bf4\u660e\u65e7\u8282\u70b9\u5df2\u7ecf\u904d\u5386\u5b8c\u4e86\uff0c\u6b64\u65f6\u53ea\u8981\u6279\u91cf\u589e\u52a0\u65b0\u8282\u70b9\u5373\u53ef\u3002\u5f53",l.createElement("code",null,"newEndIndex <= newStartIndex"),"\u8bf4\u660e\u65e7\u8282\u70b9\u8fd8\u6709\u5269\u4e0b\uff0c\u6b64\u65f6\u53ea\u8981\u6279\u91cf\u5220\u9664\u65e7\u8282\u70b9\u5373\u53ef\u3002")),l.createElement("p",null,"\u7ed3\u5408\u524d\u9762\u7684\u4f8b\u5b50\uff1a"),l.createElement("p",null,"\u7b2c\u4e00\u6b65\uff1a"),l.createElement("p",null,l.createElement("img",{src:"https://wongabner.coding.net/p/picgo/d/analysisOfVue/git/raw/master/8.3.png",alt:""})),l.createElement("p",null,"\u7b2c\u4e8c\u6b65\uff1a"),l.createElement("p",null,l.createElement("img",{src:"https://wongabner.coding.net/p/picgo/d/analysisOfVue/git/raw/master/8.4.png",alt:""})),l.createElement("p",null,"\u7b2c\u4e09\u6b65\uff1a"),l.createElement("p",null,l.createElement("img",{src:"https://wongabner.coding.net/p/picgo/d/analysisOfVue/git/raw/master/8.5.png",alt:""})),l.createElement("p",null,"\u7b2c\u4e09\u6b65\uff1a"),l.createElement("p",null,l.createElement("img",{src:"https://wongabner.coding.net/p/picgo/d/analysisOfVue/git/raw/master/8.6.png",alt:""})),l.createElement("p",null,"\u7b2c\u56db\u6b65\uff1a"),l.createElement("p",null,l.createElement("img",{src:"https://wongabner.coding.net/p/picgo/d/analysisOfVue/git/raw/master/8.7.png",alt:""})),l.createElement("p",null,"\u6839\u636e\u8fd9\u4e9b\u6b65\u9aa4\uff0c\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a"),l.createElement(a.Z,{code:"class Vn {\n  updateChildren(el, newCh, oldCh) {\n    // \u65b0children\u5f00\u59cb\u6807\u5fd7\n    let newStartIndex = 0;\n    // \u65e7children\u5f00\u59cb\u6807\u5fd7\n    let oldStartIndex = 0;\n    // \u65b0children\u7ed3\u675f\u6807\u5fd7\n    let newEndIndex = newCh.length - 1;\n    // \u65e7children\u7ed3\u675f\u6807\u5fd7\n    let oldEndIndex = oldCh.length - 1;\n    let oldKeyToId;\n    let idxInOld;\n    let newStartVnode = newCh[newStartIndex];\n    let oldStartVnode = oldCh[oldStartIndex];\n    let newEndVnode = newCh[newEndIndex];\n    let oldEndVnode = oldCh[oldEndIndex];\n    // \u904d\u5386\u7ed3\u675f\u6761\u4ef6\n    while (newStartIndex <= newEndIndex && oldStartIndex <= oldEndIndex) {\n      // \u65b0children\u5f00\u59cb\u8282\u70b9\u548c\u65e7\u5f00\u59cb\u8282\u70b9\u76f8\u540c\n      if (this._sameVnode(newStartVnode, oldStartVnode)) {\n        this.patchVnode(newCh[newStartIndex], oldCh[oldStartIndex]);\n        newStartVnode = newCh[++newStartIndex];\n        oldStartVnode = oldCh[++oldStartIndex]\n      } else if (this._sameVnode(newEndVnode, oldEndVnode)) {\n      // \u65b0childre\u7ed3\u675f\u8282\u70b9\u548c\u65e7\u7ed3\u675f\u8282\u70b9\u76f8\u540c\n        this.patchVnode(newCh[newEndIndex], oldCh[oldEndIndex])\n        oldEndVnode = oldCh[--oldEndIndex];\n        newEndVnode = newCh[--newEndIndex]\n      } else if (this._sameVnode(newEndVnode, oldStartVnode)) {\n      // \u65b0childre\u7ed3\u675f\u8282\u70b9\u548c\u65e7\u5f00\u59cb\u8282\u70b9\u76f8\u540c\n        this.patchVnode(newCh[newEndIndex], oldCh[oldStartIndex])\n        // \u65e7\u7684oldStartVnode\u79fb\u52a8\u5230\u5c3e\u90e8\n        el.insertBefore(oldCh[oldStartIndex].elm, null);\n        oldStartVnode = oldCh[++oldStartIndex];\n        newEndVnode = newCh[--newEndIndex];\n      } else if (this._sameVnode(newStartVnode, oldEndVnode)) {\n        // \u65b0children\u5f00\u59cb\u8282\u70b9\u548c\u65e7\u7ed3\u675f\u8282\u70b9\u76f8\u540c\n        this.patchVnode(newCh[newStartIndex], oldCh[oldEndIndex]);\n        el.insertBefore(oldCh[oldEndIndex].elm, oldCh[oldStartIndex].elm);\n        oldEndVnode = oldCh[--oldEndIndex];\n        newStartVnode = newCh[++newStartIndex];\n      } else {\n        // \u90fd\u4e0d\u7b26\u5408\u7684\u5904\u7406\uff0c\u67e5\u627e\u65b0\u8282\u70b9\u4e2d\u4e0e\u5bf9\u6bd4\u65e7\u8282\u70b9\u76f8\u540c\u7684vnode\n        this.findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);\n      }\n    }\n    // \u65b0\u8282\u70b9\u6bd4\u65e7\u8282\u70b9\u591a\uff0c\u6279\u91cf\u589e\u52a0\u8282\u70b9\n    if(oldEndIndex <= oldStartIndex) {\n      for (let i = newStartIndex; i <= newEndIndex; i++) {\n        // \u6279\u91cf\u589e\u52a0\u8282\u70b9\n        this.createElm(oldCh[oldEndIndex].elm, newCh[i])\n      }\n    }\n  }\n\n  createElm(el, vnode) {\n    let tag = vnode.tag;\n    const ele = document.createElement(tag);\n    this._setAttrs(ele, vnode.data);\n    const testEle = document.createTextNode(vnode.children);\n    ele.appendChild(testEle)\n    el.parentNode.insertBefore(ele, el.nextSibling)\n  }\n\n  // \u67e5\u627e\u5339\u914d\u503c\n  findIdxInOld(newStartVnode, oldCh, start, end) {\n    for (var i = start; i < end; i++) {\n      var c = oldCh[i];\n      if (util.isDef(c) && this.sameVnode(newStartVnode, c)) { return i }\n    }\n  }\n}",lang:"js"}),l.createElement("h2",{id:"85-diff\u7b97\u6cd5\u4f18\u5316"},l.createElement(d.AnchorLink,{to:"#85-diff\u7b97\u6cd5\u4f18\u5316","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.5 diff\u7b97\u6cd5\u4f18\u5316"),l.createElement("p",null,"\u524d\u9762\u6709\u4e2a\u5206\u652f\uff0c\u5f53\u56db\u79cd\u6bd4\u8f83\u8282\u70b9\u90fd\u627e\u4e0d\u5230\u5339\u914d\u65f6\uff0c\u4f1a\u8c03\u7528",l.createElement("code",null,"findIdxInOld"),"\u627e\u5230\u65e7\u8282\u70b9\u4e2d\u548c\u65b0\u7684\u6bd4\u8f83\u8282\u70b9\u4e00\u81f4\u7684\u8282\u70b9\u3002\u8282\u70b9\u641c\u7d22\u5728\u6570\u91cf\u7ea7\u8f83\u5927\u65f6\u662f\u7f13\u6162\u7684\u3002\u67e5\u770b",l.createElement("code",null,"Vue"),"\u7684\u6e90\u7801\uff0c\u53d1\u73b0\u5b83\u5728\u8fd9\u4e00\u4e2a\u73af\u8282\u505a\u4e86\u4f18\u5316\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u7ecf\u5e38\u5728\u7f16\u5199\u5217\u8868\u65f6\u88ab\u8981\u6c42\u52a0\u5165\u7684\u552f\u4e00\u5c5e\u6027",l.createElement("strong",null,"key"),"\uff0c\u6709\u4e86\u8fd9\u4e2a\u552f\u4e00\u7684\u6807\u5fd7\u4f4d\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u65e7\u8282\u70b9\u5efa\u7acb\u7b80\u5355\u7684\u5b57\u5178\u67e5\u8be2\uff0c\u53ea\u8981\u6709",l.createElement("code",null,"key"),"\u503c\u4fbf\u53ef\u4ee5\u65b9\u4fbf\u7684\u641c\u7d22\u5230\u7b26\u5408\u8981\u6c42\u7684\u65e7\u8282\u70b9\u3002\u4fee\u6539\u4ee3\u7801\uff1a"),l.createElement(a.Z,{code:"class Vn {\n  updateChildren() {\n    \xb7\xb7\xb7\n    } else {\n      // \u90fd\u4e0d\u7b26\u5408\u7684\u5904\u7406\uff0c\u67e5\u627e\u65b0\u8282\u70b9\u4e2d\u4e0e\u5bf9\u6bd4\u65e7\u8282\u70b9\u76f8\u540c\u7684vnode\n      if (!oldKeyToId) oldKeyToId = this.createKeyMap(oldCh, oldStartIndex, oldEndIndex);\n      idxInOld = util._isDef(newStartVnode.key) ? oldKeyToId[newStartVnode.key] : this.findIdxInOld(newStartVnode, oldCh, oldStartIndex, oldEndIndex);\n      // \u540e\u7eed\u64cd\u4f5c\n    }\n  }\n  // \u5efa\u7acb\u5b57\u5178\n  createKeyMap(oldCh, start, old) {\n    const map = {};\n    for(let i = start; i < old; i++) {\n      if(oldCh.key) map[key] = i;\n    }\n    return map;\n  }\n}",lang:"js"}),l.createElement("h2",{id:"86-\u95ee\u9898\u601d\u8003"},l.createElement(d.AnchorLink,{to:"#86-\u95ee\u9898\u601d\u8003","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"8.6 \u95ee\u9898\u601d\u8003"),l.createElement("p",null,"\u6700\u540e\u6211\u4eec\u601d\u8003\u4e00\u4e2a\u95ee\u9898\uff0c",l.createElement("code",null,"Virtual DOM")," \u7684\u91cd\u7ed8\u6027\u80fd\u771f\u7684\u6bd4\u5355\u7eaf\u7684",l.createElement("code",null,"innerHTML"),"\u8981\u597d\u5417\uff0c\u5176\u5b9e\u5e76\u4e0d\u662f\u8fd9\u6837\u7684\uff0c\u4f5c\u8005\u7684",l.createElement(d.Link,{to:"https://www.zhihu.com/question/31809713/answer/53544875"},"\u89e3\u91ca")),l.createElement("blockquote",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"innerHTML:  render html string O(template size) +")," \u91cd\u65b0\u521b\u5efa\u6240\u6709 ",l.createElement("code",null,"DOM")," \u5143\u7d20 ",l.createElement("code",null,"O(DOM size)")))),l.createElement("blockquote",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"Virtual DOM: render Virtual DOM + diff O(template size) +")," \u5fc5\u8981\u7684 ",l.createElement("code",null,"DOM")," \u66f4\u65b0 ",l.createElement("code",null,"O(DOM change)")))),l.createElement("blockquote",null,l.createElement("ul",null,l.createElement("li",null,l.createElement("code",null,"Virtual DOM render + diff")," \u663e\u7136\u6bd4\u6e32\u67d3 html \u5b57\u7b26\u4e32\u8981\u6162\uff0c\u4f46\u662f\uff01\u5b83\u4f9d\u7136\u662f\u7eaf js \u5c42\u9762\u7684\u8ba1\u7b97\uff0c\u6bd4\u8d77\u540e\u9762\u7684 ",l.createElement("code",null,"DOM")," \u64cd\u4f5c\u6765\u8bf4\uff0c\u4f9d\u7136\u4fbf\u5b9c\u4e86\u592a\u591a\u3002\u53ef\u4ee5\u770b\u5230\uff0c",l.createElement("code",null,"innerHTML")," \u7684\u603b\u8ba1\u7b97\u91cf\u4e0d\u7ba1\u662f ",l.createElement("code",null,"js")," \u8ba1\u7b97\u8fd8\u662f ",l.createElement("code",null,"DOM "),"\u64cd\u4f5c\u90fd\u662f\u548c\u6574\u4e2a\u754c\u9762\u7684\u5927\u5c0f\u76f8\u5173\uff0c\u4f46",l.createElement("code",null,"Virtual DOM")," \u7684\u8ba1\u7b97\u91cf\u91cc\u9762\uff0c\u53ea\u6709 ",l.createElement("code",null,"js")," \u8ba1\u7b97\u548c\u754c\u9762\u5927\u5c0f\u76f8\u5173\uff0cDOM \u64cd\u4f5c\u662f\u548c\u6570\u636e\u7684\u53d8\u52a8\u91cf\u76f8\u5173\u7684\u3002")))))}));n["default"]=e=>{var n=l.useContext(d.context),t=n.demos;return l.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&d.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.createElement(c,{demos:t})}}}]);