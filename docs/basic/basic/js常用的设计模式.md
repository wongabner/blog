---
title: 'jså¸¸ç”¨çš„è®¾è®¡æ¨¡å¼'
---

## ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿ

æ‰€è°“è®¾è®¡æ¨¡å¼ï¼Œæ˜¯å‰è¾ˆä»¬æ€»ç»“ä¸‹æ¥çš„ï¼Œåœ¨è½¯ä»¶è®¾è®¡ã€å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé’ˆå¯¹ç‰¹å®šåœºæ™¯ã€ç‰¹å®šé—®é¢˜çš„è¾ƒä¼˜è§£å†³æ–¹æ¡ˆã€‚

## ä¸ºä»€ä¹ˆéœ€è¦è®¾è®¡æ¨¡å¼ï¼Ÿ

å®é™…ä¸Šï¼Œä¸ä½¿ç”¨è®¾è®¡æ¨¡å¼ï¼Œç…§æ ·å¯ä»¥è¿›è¡Œéœ€æ±‚å¼€å‘ã€‚ä½†æ˜¯è¿™é€ æˆçš„åæœæ˜¯ï¼šå› è®¾è®¡ç¼ºé™·ã€ä»£ç å®ç°ç¼ºé™·ï¼Œç»™åæœŸç»´æŠ¤ã€å¼€å‘ã€è¿­ä»£å¸¦æ¥äº†éº»çƒ¦ã€‚

## è®¾è®¡æ¨¡å¼

è®¾è®¡æ¨¡å¼ä¸€å…±åˆ†ä¸º3å¤§ç±»23ç§ï¼Œä¸»è¦ä»‹ç»å¸¸ç”¨çš„å‡ ç§

| æ¨¡å¼ç±»å‹ | è®¾è®¡æ¨¡å¼ |
| :-----: | :-----: |
| åˆ›å»ºå‹æ¨¡å¼ | å•ä¾‹æ¨¡å¼ã€å·¥å‚æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ |
| ç»“æ„å‹æ¨¡å¼ | é€‚é…å™¨æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€ä»£ç†æ¨¡å¼ |
| è¡Œä¸ºå‹æ¨¡å¼ | ç­–ç•¥æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€å‘å¸ƒè®¢é˜…æ¨¡å¼ã€èŒè´£é“¾æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ |

### å•ä¾‹æ¨¡å¼

> ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®ä»–çš„å…¨å±€è®¿é—®ç‚¹ã€‚

`Singleton` ï¼šç‰¹å®šç±»ï¼Œè¿™æ˜¯æˆ‘ä»¬éœ€è¦è®¿é—®çš„ç±»ï¼Œè®¿é—®è€…è¦æ‹¿åˆ°çš„æ˜¯å®ƒçš„å®ä¾‹ï¼›

`instance` ï¼šå•ä¾‹ï¼Œæ˜¯ç‰¹å®šç±»çš„å®ä¾‹ï¼Œç‰¹å®šç±»ä¸€èˆ¬ä¼šæä¾› getInstance æ–¹æ³•æ¥è·å–è¯¥å•ä¾‹ï¼›

`getInstance` ï¼šè·å–å•ä¾‹çš„æ–¹æ³•ï¼›

![20220831133554](https://wonganber-picgo.oss-cn-hangzhou.aliyuncs.com/picgo/20220831133554.png)

```js
class Singleton {
    let _instance = null;
    static getInstance() {
        if (!Singleton._instance) {
          Singleton.instance = new Singleton()
        }
        // å¦‚æœè¿™ä¸ªå”¯ä¸€çš„å®ä¾‹å·²ç»å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›
        return Singleton._instance
    }
}

const s1 = Singleton.getInstance()
const s2 = Singleton.getInstance()

console.log(s1 === s2)  // true
```

#### æºç å®ä¾‹

**Vuex æºç ä¸­çš„å•ä¾‹æ¨¡å¼**

Vuexï¼šå®ç°äº†ä¸€ä¸ªå…¨å±€çš„storeç”¨æ¥å­˜å‚¨åº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ã€‚è¿™ä¸ªstoreçš„å®ç°å°±æ˜¯å•ä¾‹æ¨¡å¼çš„å…¸å‹åº”ç”¨ã€‚

```js
// å®‰è£…vuexæ’ä»¶
Vue.use(Vuex)

// storeæ³¨å…¥Vueå®ä¾‹
new Vue({
    el:"$app",
    store
})
```

é€šè¿‡è°ƒç”¨`Vue.use`æ–¹æ³•ï¼Œå®‰è£…Vuexæ’ä»¶ã€‚Vuexæ’ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå†…éƒ¨å®ç°äº†ä¸€ä¸ª`install`æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨æ’ä»¶å®‰è£…æ—¶è¢«è°ƒç”¨ï¼Œä»è€ŒæŠŠ`Store`æ³¨å…¥åˆ°`Vue`å®ä¾‹ä¸­ã€‚

```js
let Vue // instance å®ä¾‹

export function install (_Vue) {
  // åˆ¤æ–­ä¼ å…¥çš„Vueå®ä¾‹å¯¹è±¡æ˜¯å¦å·²ç»è¢«installè¿‡ï¼ˆæ˜¯å¦æœ‰äº†å”¯ä¸€çš„stateï¼‰
  if (Vue && _Vue === Vue) {
    if (process.env.NODE_ENV !== 'production') {
      console.error(
        '[vuex] already installed. Vue.use(Vuex) should be called only once.'
      )
    }
    return
  }
  // è‹¥æ²¡æœ‰ï¼Œåˆ™ä¸ºè¿™ä¸ªVueå®ä¾‹å¯¹è±¡installä¸€ä¸ªå”¯ä¸€çš„Vuex
  Vue = _Vue
  // å°†Vuexçš„åˆå§‹åŒ–é€»è¾‘å†™è¿›Vueçš„é’©å­å‡½æ•°é‡Œ
  applyMixin(Vue)
}
```

é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ä¿è¯ä¸€ä¸ª Vue å®ä¾‹åªä¼šè¢« install ä¸€æ¬¡ Vuex æ’ä»¶ï¼Œæ‰€ä»¥æ¯ä¸ª Vue å®ä¾‹åªä¼šæ‹¥æœ‰ä¸€ä¸ªå…¨å±€çš„ Storeã€‚

#### ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹ï¼š èŠ‚çº¦èµ„æºï¼Œä¿è¯è®¿é—®çš„ä¸€è‡´æ€§ã€‚

ç¼ºç‚¹ï¼š æ‰©å±•æ€§ä¸å‹å¥½ï¼Œå› ä¸ºå•ä¾‹æ¨¡å¼ä¸€èˆ¬è‡ªè¡Œå®ä¾‹åŒ–ï¼Œæ²¡æœ‰æ¥å£ã€‚

#### ä½¿ç”¨åœºæ™¯

1. å¦‚æœä¸€ä¸ªç±»å®ä¾‹åŒ–è¿‡ç¨‹æ¶ˆè€—èµ„æºæ¯”è¾ƒå¤šï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹é¿å…æ€§èƒ½æµªè´¹
2. éœ€è¦å…¬å…±çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹ä¿è¯è®¿é—®ä¸€è‡´æ€§ã€‚

### å·¥å‚æ¨¡å¼

> æ ¹æ®ä¸åŒçš„å‚æ•°ï¼Œè¿”å›ä¸åŒç±»çš„å®ä¾‹ã€‚

æ ¸å¿ƒæ€æƒ³ï¼šå°†å¯¹è±¡çš„åˆ›å»ºä¸å¯¹è±¡çš„å®ç°åˆ†ç¦»ã€‚å®ç°å¤æ‚ï¼Œä½†ä½¿ç”¨ç®€å•ã€‚å·¥å‚ä¼šç»™æˆ‘ä»¬æä¾›ä¸€ä¸ªå·¥å‚æ–¹æ³•ï¼Œæˆ‘ä»¬ç›´æ¥å»è°ƒç”¨å³å¯ã€‚

- Visitor ï¼šè®¿é—®è€…ï¼Œè®¿é—®å·¥å‚æ–¹æ³•ã€‚
- Factory ï¼šå·¥å‚ï¼Œè´Ÿè´£è¿”å›äº§å“å®ä¾‹ï¼›
- Product ï¼šäº§å“ï¼Œè®¿é—®è€…ä»å·¥å‚æ‹¿åˆ°çš„äº§å“å®ä¾‹ï¼›

![20220831133833](https://wonganber-picgo.oss-cn-hangzhou.aliyuncs.com/picgo/20220831133833.png)

#### ğŸŒ° ä¾‹å­

æˆ‘ä»¬å»ç¯çƒå½±åŸçš„é¤å…åƒé¥­ï¼Œç‚¹äº†ä¸€ä»½â€œç‰›è‚‰æ‹‰é¢â€ã€â€œé¦„é¥¨äº‘åé¢â€ï¼Œé¢ç…®å¥½äº†ï¼Œå°±ç›´æ¥ç«¯åˆ°æ¡Œå­ä¸Šï¼Œæˆ‘ä»¬åªç®¡åƒï¼Œä¸ç”¨åœ¨ä¹ç…®é¢çš„è¿‡ç¨‹ã€‚

è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ‰®æ¼”è®¿é—®è€…çš„è§’è‰²ï¼Œé¤å…æ‰®æ¼”çš„å°±æ˜¯å·¥å‚çš„è§’è‰²ï¼Œâ€œxxxâ€é¢å°±æ˜¯äº§å“ã€‚

```js
class Restaurant{
    constructor(){
        this.menuData = {};
    }
    // è·å–èœå“
    getDish(dish){
        if(!this.menuData[menu]){
            console.log("èœå“ä¸å­˜åœ¨ï¼Œè·å–å¤±è´¥");
            return;
        }
        return this.menuData[menu];
    },
    // æ·»åŠ èœå“
    addMenu(menu,description){
        if(this.menuData[menu]){
            console.log("èœå“å·²å­˜åœ¨ï¼Œè¯·å‹¿é‡å¤æ·»åŠ ");
            return;
        }
        this.menuData[menu] = menu;
    }
    // ç§»é™¤èœå“
    removeMenu(menu){
        if(!this.menuData[menu]){
            console.log("èœå“ä¸å­˜åœ¨ï¼Œç§»é™¤å¤±è´¥");
            return;
        }
        delete this.menuData[menu];
    },
}

class Dish{
    constructor(name,description){
        this.name = name;
        this.description = description;
    }
    
    eat(){
        console.log(`I'm eating ${this.name},it's ${`this.description);
    }
}
```

è¿™äº›åœºæ™¯éƒ½æœ‰ä¸€äº›ç‰¹ç‚¹ï¼šä½¿ç”¨è€…åªéœ€è¦çŸ¥é“äº§å“åå­—å°±å¯ä»¥æ‹¿åˆ°å®ä¾‹ï¼Œä¸å…³å¿ƒåˆ›å»ºè¿‡ç¨‹ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå¤æ‚çš„è¿‡ç¨‹å°è£…åœ¨ä¸€å—ï¼Œæ›´ä¾¿äºä½¿ç”¨ã€‚

#### æºç å®ä¾‹

**Vueã€React æºç ä¸­çš„å·¥å‚æ¨¡å¼**

> `document.createElement`åˆ›å»º`DOM`å…ƒç´ ã€‚è¿™ä¸ªæ–¹æ³•é‡‡ç”¨çš„å°±æ˜¯å·¥å‚æ¨¡å¼ï¼Œæ–¹æ³•å†…éƒ¨å¾ˆå¤æ‚ï¼Œä½†å¤–éƒ¨ä½¿ç”¨å¾ˆç®€å•ã€‚åªéœ€è¦ä¼ é€’æ ‡ç­¾åï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šè¿”å›å¯¹åº”çš„`DOM`å…ƒç´ ã€‚

å’ŒåŸç”Ÿçš„`document.createElement`ç±»ä¼¼ï¼Œ`Vue`å’Œ`React`è¿™ç§å…·æœ‰è™šæ‹Ÿ`DOM`æ ‘æœºåˆ¶çš„æ¡†æ¶åœ¨ç”Ÿæˆè™šæ‹Ÿ DOM çš„æ—¶å€™ï¼Œéƒ½æä¾›äº† createElement æ–¹æ³•ç”¨æ¥ç”Ÿæˆ VNodeï¼Œç”¨æ¥ä½œä¸ºçœŸå®`DOM`èŠ‚ç‚¹çš„æ˜ å°„ã€‚ä¸Šé¢å®ç°ä¸€è‡´ï¼Œè°ƒç”¨`createElement`åï¼Œè¿”å›`VNode`å…ƒç´ ã€‚

```js
// ä½¿ç”¨
ccreateElement('h3', { class: 'main-title' }, [
    createElement('p', { class: 'main-content' }, 'çœŸæœ‰æ„æ€')
])
```

```js
// å‡½æ•°å¤§è‡´ç»“æ„å¦‚ä¸‹
export function createElement(tag,data,children){
    //....å„ç§åˆ¤æ–­ åˆ¤æ–­ç”Ÿæˆä»€ä¹ˆæ ·çš„Vnode
    if(!tag){
        return createEmptyVNode()
    }
    return new VNode(tag,data,children);
}
```

**Vue-Router æºç ä¸­çš„å·¥å‚æ¨¡å¼**

`vue-router`ä¸­ä½¿ç”¨äº†å·¥å‚æ¨¡å¼çš„æ€æƒ³æ¥è·å¾—å“åº”è·¯ç”±æ§åˆ¶ç±»çš„å®ä¾‹ï¼Œ`this.history`ç”¨æ¥ä¿å­˜è·¯ç”±å®ä¾‹ã€‚

```js
export default class VueRouter{
    constructotr(options){
        const mode = options.mode || "hash";
        switch (mode) {
            case 'history':
                this.history = new HTML5History(this, options.base)
                break
            case 'hash':
                this.history = new HashHistory(this, options.base, this.fallback)
                break
            case 'abstract':
                this.history = new AbstractHistory(this, options.base)
                break
            default:
                if (process.env.NODE_ENV !== 'production') {
                  assert(false, `invalid mode: ${mode}`)
                }
        }
    }
}
```

#### ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹ï¼š

1. è‰¯å¥½çš„å°è£…ï¼Œè®¿é—®è€…æ— éœ€äº†è§£åˆ›å»ºè¿‡ç¨‹ï¼Œä»£ç ç»“æ„æ¸…æ™°ã€‚
2. æ‰©å±•æ€§è‰¯å¥½ï¼Œé€šè¿‡å·¥å‚æ–¹æ³•éš”ç¦»äº†ç”¨æˆ·å’Œåˆ›å»ºæµç¨‹ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ã€‚
3. è§£è€¦äº†é«˜å±‚é€»è¾‘å’Œåº•å±‚äº§å“ç±»ï¼Œç¬¦åˆæœ€å°‘çŸ¥è¯†åŸåˆ™ï¼Œä¸éœ€è¦çš„å°±ä¸è¦å»äº¤æµï¼›

ç¼ºç‚¹ï¼š

ç»™ç³»ç»Ÿå¢åŠ äº†æŠ½è±¡æ€§ï¼Œå¸¦æ¥äº†é¢å¤–çš„ç³»ç»Ÿå¤æ‚åº¦ï¼Œä¸èƒ½æ»¥ç”¨ã€‚ï¼ˆåˆç†æŠ½è±¡èƒ½æé«˜ç³»ç»Ÿç»´æŠ¤æ€§ï¼Œä½†å¯èƒ½ä¼šæé«˜é˜…è¯»éš¾åº¦ï¼Œè¿˜æ˜¯éœ€è¦åˆç†çœ‹å¾…ï¼‰

#### ä½¿ç”¨åœºæ™¯

- å¯¹è±¡åˆ›å»ºæ¯”è¾ƒå¤æ‚ï¼Œè®¿é—®è€…æ— éœ€äº†è§£åˆ›å»ºè¿‡ç¨‹ã€‚
- éœ€è¦å¤„ç†å¤§é‡å…·æœ‰ç›¸åŒ/ç±»ä¼¼å±æ€§çš„å°å¯¹è±¡ã€‚

æ»¥ç”¨åªæ˜¯å¢åŠ äº†ä¸å¿…è¦çš„ç³»ç»Ÿå¤æ‚åº¦ï¼Œè¿‡çŠ¹ä¸åŠã€‚

### é€‚é…å™¨æ¨¡å¼

> ç”¨äºè§£å†³å…¼å®¹é—®é¢˜ï¼Œæ¥å£/æ–¹æ³•/æ•°æ®ä¸å…¼å®¹ï¼Œå°†å…¶è½¬æ¢æˆè®¿é—®è€…æœŸæœ›çš„æ ¼å¼è¿›è¡Œä½¿ç”¨ã€‚

ç”Ÿæ´»æ¡ˆä¾‹ï¼š

1. è€³æœºè½¬æ¥çº¿ã€‚åœ†å­”è€³æœºæ’ä¸è¿›TypeCçš„æ‰‹æœºé‡Œï¼Œåªéœ€ä¸€ä¸ªTypeCè½¬æ¥å¤´ï¼Œæ­¤æ—¶TypeCè½¬æ¥å¤´å°±æ˜¯â€œé€‚é…å™¨â€ã€‚
2. ç¿»è¯‘å®˜ã€‚è€æ¿å¼ ä¸‰å»å›½å¤–è°ˆä¸šåŠ¡ï¼Œå¸¦ä¸Šç¿»è¯‘å®˜æå››ï¼Œæå››è¿™ä¸ªæ—¶å€™å°±æ˜¯ä½œä¸ºä¸åŒè¯­è¨€çš„äººä¹‹é—´äº¤æµçš„â€œé€‚é…å™¨â€ã€‚

åœºæ™¯ç‰¹ç‚¹ï¼š

1. åŒæ—¶å­˜åœ¨å¤šç§æ ¼å¼ï¼Œæ—§æœ‰æ¥å£æ ¼å¼ä¸æ»¡è¶³ç°åœ¨éœ€è¦ã€‚
2. å¢åŠ é€‚é…å™¨å¯ä»¥æ›´å¥½ä½¿ç”¨æ—§æ¥å£ã€‚

é€‚é…å™¨æ¨¡å¼å¿…é¡»åŒ…å«ç›®æ ‡ï¼ˆTargetï¼‰ã€æºï¼ˆAdapteeï¼‰å’Œé€‚é…å™¨ï¼ˆAdapterï¼‰ä¸‰ä¸ªè§’è‰²ã€‚

![20220831134331](https://wonganber-picgo.oss-cn-hangzhou.aliyuncs.com/picgo/20220831134331.png)

#### ğŸŒ° ä¾‹å­

åœºæ™¯ï¼šæˆ‘ä»¬è¦è·å–é€šè¿‡å¤šä¸ªæ¥å£è·å–åˆ—è¡¨æ•°æ®ï¼Œæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œåœ¨ä¸€ä¸ªç»„ä»¶å†…è¿›è¡Œå±•ç¤ºã€‚å› å†å²é—ç•™åŸå› ï¼Œè¿™äº›åˆ—è¡¨æ•°æ®çš„æ ¼å¼ä¸å¤ªä¸€æ ·ã€‚

```js
// æ ¼å¼ 1
{
    book_id: 1001
    status: 0,
    create: '2021-12-12 08:10:20',
    update: '2022-01-15 09:00:00',
},

// æ ¼å¼ 2
{
    id: 1002
    status: 0,
    createTime: 16782738393022,
    updateAt: '2022-01-15 09:00:00',
},

// æ ¼å¼ 3
{
    book_id: 1003
    status: 0,
    createTime: 16782738393022,
    updateAt: 16782738393022,
}
```

ä¸‰ä¸ªæ•°æ®æ¥æºï¼Œä¸‰ç§æ—¶å€™æ•°æ®ç»“æ„ï¼Œè¿™æ—¶å€™æˆ‘ä»¬æœ‰å‡ ç§å®ç°æ–¹å¼ã€‚

1. ç»„ä»¶é’ˆå¯¹ä¸åŒçš„æ•°æ®æ¥æºåˆ†åˆ«é‡‡ç”¨ä¸åŒçš„æ¸²æŸ“ã€‚ï¼ˆéœ€è¦å¯¹æ•°æ®ç±»å‹è¿›è¡ŒåŒºåˆ†ï¼‰
2. åœ¨å¤–éƒ¨å°†æ•°æ®è½¬æ¢æˆä¸€ç§æ•°æ®æ ¼å¼çš„åˆ—è¡¨ä¼ å…¥ï¼Œç»„ä»¶å•ä¸€èŒè´£ï¼šå±•ç¤ºã€‚

å¯¹æ¯”ä¹‹ä¸‹ï¼Œ**ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ ï¼Œå°†ä¸åŒçš„æ•°æ®ç»“æ„é€‚é…æˆå±•ç¤ºç»„ä»¶æ‰€èƒ½æ¥å—çš„æ•°æ®ç»“æ„ã€‚ä¿æŒäº†ç»„ä»¶çš„å•ä¸€èŒè´£ï¼Œæ›´ä¼˜ã€‚**


1. å®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„æ•°æ®ç»“æ„

```js
interface bookData {
  book_id: number;
  status: number;
  createAt: string; // æ—¶é—´æˆ³
  updateAt: string; // æ—¶é—´æˆ³
}
```

2. é€šè¿‡é€‚é…å™¨æ¨¡å—ï¼Œé€‚é…æˆè®¿é—®è€…æ‰€è¦æ•°æ®æ ¼å¼

```js
interface bookDataType1 {
  book_id: number;
  status: number;
  create: string;
  update: string;
}

interface bookDataType2 {
  id: number;
  status: number;
  createTime: number;
  updateAt: string;
}

interface bookDataType3 {
  book_id: number;
  status: number;
  createTime: number;
  updateAt: number;
}

const getTimeStamp = function (str: string): number {
  //.....è½¬åŒ–æˆæ—¶é—´æˆ³
  return timeStamp;
};

//é€‚é…å™¨
export const bookDataAdapter = {
  adapterType1(list: bookDataType1[]) {
    const bookDataList: bookData[] = list.map((item) => {
      return {
        book_id: item.book_id,
        status: item.status,
        createAt: getTimeStamp(item.create),
        updateAt: getTimeStamp(item.update),
      };
    });
    return bookDataList;
  },

  adapterType2(list: bookDataType2[]) {
    const bookDataList: bookData[] = list.map((item) => {
      return {
        book_id: item.id,
        status: item.status,
        createAt: item.createTime,
        updateAt: getTimeStamp(item.updateAt),
      };
    });
    return bookDataList;
  },

  adapterType3(list: bookDataType3[]) {
    const bookDataList: bookData[] = list.map((item) => {
      return {
        book_id: item.book_id,
        status: item.status,
        createAt: item.createTime,
        updateAt: item.updateAt,
      };
    });
    return bookDataList;
  },
};
```

3. å°†æ•°æ®ç»è¿‡é€‚é…å™¨å¤„ç†åè¿›è¡Œæ•´åˆï¼Œç»„ä»¶å±•ç¤º

```js
//æ•´åˆæ•°æ®
const bookDataList = [
  ...bookDataAdapter.adapterType1(type1MatailList),
  ...bookDataAdapter.adapterType2(type2MatailList),
  ...bookDataAdapter.adapterType3(type3MatailList),
];
```

#### ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹ï¼š å¯ä»¥ä½¿åŸæœ‰é€»è¾‘å¾—åˆ°æ›´å¥½çš„å¤ç”¨ï¼Œæœ‰åŠ©äºé¿å…å¤§è§„æ¨¡æ”¹å†™ç°æœ‰ä»£ç ï¼›

ç¼ºç‚¹ï¼š ä¼šè®©ç³»ç»Ÿå˜å¾—é›¶ä¹±ï¼Œæ˜æ˜è°ƒç”¨ Aï¼Œå´è¢«é€‚é…åˆ°äº† Bï¼Œå¦‚æœæ»¥ç”¨ï¼Œé‚£ä¹ˆå¯¹å¯é˜…è¯»æ€§ä¸å¤ªå‹å¥½ã€‚

#### ä½¿ç”¨åœºæ™¯

- æƒ³è¦ä½¿ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œä½†æ˜¯æ¥å£ä¸æ»¡è¶³éœ€æ±‚ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨é€‚é…å™¨æ¨¡å¼è½¬æ¢æˆä½ éœ€è¦çš„æ¥å£ã€‚
- æƒ³è¦åˆ›å»ºä¸€ä¸ªå¯ä»¥å¤ç”¨çš„å¯¹è±¡ï¼Œè€Œä¸”ç¡®å®šéœ€è¦å’Œä¸€äº›ä¸å…¼å®¹çš„å¯¹è±¡ä¸€èµ·å·¥ä½œï¼Œè¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ã€‚

### è£…é¥°å™¨æ¨¡å¼

> åœ¨ä¸æ”¹å˜åŸå¯¹è±¡çš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ–°å±æ€§/æ–¹æ³•/åŠŸèƒ½ã€‚

ä¸€ä¸ªå¯¹è±¡è¢«å¦ä¸€ä¸ªå¯¹è±¡åŒ…è£…ï¼Œå½¢æˆä¸€æ¡åŒ…è£…é“¾ï¼Œåœ¨åŸå¯¹è±¡ä¸Šå¢åŠ åŠŸèƒ½ã€‚

![20220831141024](https://wonganber-picgo.oss-cn-hangzhou.aliyuncs.com/picgo/20220831141024.png)

#### ğŸŒ° ä¾‹å­

æš‚æ—¶æƒ³ä¸åˆ°ä»€ä¹ˆå¥½çš„ä¾‹å­å’Œå®é™…åº”ç”¨åœºæ™¯ã€‚

#### ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹ï¼šå¯¹è±¡çš„æ ¸å¿ƒèŒè´£å’Œè£…é¥°åŠŸèƒ½åŒºåˆ†å¼€ï¼Œå¯ä»¥é€šè¿‡åŠ¨æ€å¢åˆ è£…é¥°å»é™¤ç›®æ ‡å¯¹è±¡ä¸­çš„è£…é¥°é€»è¾‘ã€‚

### ç­–ç•¥æ¨¡å¼

> å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼Œæ ¹æ®è¾“å…¥çš„å‚æ•°å†³å®šä½¿ç”¨å“ªä¸ªç®—æ³•ã€‚

![20220831135015](https://wonganber-picgo.oss-cn-hangzhou.aliyuncs.com/picgo/20220831135015.png)

**é‡ç‚¹ï¼šç®—æ³•çš„å®ç°å’Œç®—æ³•çš„ä½¿ç”¨åˆ†å¼€ã€‚**

- Context ï¼šå°è£…ä¸Šä¸‹æ–‡ï¼Œæ ¹æ®éœ€è¦è°ƒç”¨éœ€è¦çš„ç­–ç•¥ï¼Œå±è”½å¤–ç•Œå¯¹ç­–ç•¥çš„ç›´æ¥è°ƒç”¨ï¼Œåªå¯¹å¤–æä¾›ä¸€ä¸ªæ¥å£ï¼Œæ ¹æ®éœ€è¦è°ƒç”¨å¯¹åº”çš„ç­–ç•¥ï¼›
- Strategy ï¼šç­–ç•¥ï¼Œå«æœ‰å…·ä½“çš„ç®—æ³•ï¼Œå…¶æ–¹æ³•çš„å¤–è§‚ç›¸åŒï¼Œå› æ­¤å¯ä»¥äº’ç›¸ä»£æ›¿ï¼›
- StrategyMap ï¼šæ‰€æœ‰ç­–ç•¥çš„åˆé›†ï¼Œä¾›å°è£…ä¸Šä¸‹æ–‡è°ƒç”¨ï¼›

#### ğŸŒ° ä¾‹å­

åœºæ™¯ï¼šåŒåä¸€æ»¡å‡æ´»åŠ¨ã€‚æ»¡200-20ã€æ»¡300-50ã€æ»¡500-100ã€‚è¿™ä¸ªéœ€æ±‚ï¼Œæ€ä¹ˆå†™ï¼Ÿ

**if-elseæš´åŠ›æ³•ç›´æ¥æ¢­å“ˆã€‚**

é€šè¿‡åˆ¤æ–­è¾“å…¥çš„æŠ˜æ‰£ç±»å‹æ¥è®¡ç®—å•†å“æ€»ä»·çš„æ–¹å¼

```js
function priceCalculate(discountType,price){
    if(discountType === 'discount200-20'){
        return price - Math.floor(price/200) * 20;
    }else if(discountType === 'discount300-50'){
        return price - Math.floor(price/300) * 50;
    }else if(userType === 'discount500-100'){
        return price - Math.floor(price/500) * 100;
    }
}
```

ç¼ºç‚¹ï¼š

1. éšç€æŠ˜æ‰£ç±»å‹çš„å¢åŠ ï¼Œ`if-else`ä¼šå˜å¾—è¶Šæ¥è¶Šè‡ƒè‚¿ã€‚
2. æŠ˜æ‰£æ´»åŠ¨ç®—æ³•æ”¹å˜æˆ–æŠ˜æ‰£ç±»å‹å¢åŠ æ—¶ï¼Œéƒ½éœ€è¦æ”¹åŠ¨`priceCalculate`æ–¹æ³•ï¼Œè¿åå¼€é—­åŸåˆ™ã€‚
3. å¤ç”¨æ€§å·®ï¼Œå¦‚æœå…¶ä»–åœ°æ–¹æœ‰ç±»ä¼¼çš„ç®—æ³•ï¼Œä½†è§„åˆ™ä¸ä¸€æ ·ï¼Œä¸Šè¿°ä»£ç ä¸èƒ½å¤ç”¨ã€‚

**ä½¿ç”¨ç­–ç•¥æ¨¡å¼å¯¹ä»£ç æ”¹å†™**

```js
// ç®—æ³•çš„å®ç°
const discountMap = {
    'discount200-20': function(price) {
        return price - Math.floor(price / 200) * 20;
    },
    'discount300-50': function(price) {
        return price - Math.floor(price/300) * 50;
    },
    'discount500-100': function(price) {
        return price - Math.floor(price/500) * 100;
    },
}

// ç®—æ³•çš„ä½¿ç”¨
function priceCalculate(discountType,price){
    return discountMap[discountType] && discountMap[discountType](price);
}
```

ä»¥ä¸Šä»£ç å°±å°†ç®—æ³•çš„å®ç°å’Œç®—æ³•çš„ä½¿ç”¨åˆ†å¼€ï¼Œä»¥åä¸ç®¡å¢åŠ æˆ–ä¿®æ”¹äº†ç®—æ³•ï¼Œéƒ½æ— éœ€å¯¹`priceCalculate`æ–¹æ³•è¿›è¡Œæ”¹åŠ¨ã€‚

å½“ç„¶ä»¥ä¸Šä»£ç çš„æŠ½è±¡ç¨‹åº¦å¹¶ä¸é«˜ï¼Œå¦‚æœæˆ‘ä»¬æƒ³éšè—è®¡ç®—ç®—æ³•ï¼Œå¯ä»¥å€ŸåŠ© IIFE ä½¿ç”¨é—­åŒ…çš„æ–¹å¼ï¼Œæä¾›ä¸€ä¸ªæ·»åŠ ç­–ç•¥çš„æ–¹æ³•ã€‚

```js
const priceCalculate = (function(){
    const discountMap = {
        'discount200-20': function(price) {
            return price - Math.floor(price / 200) * 20;
        },
        'discount300-50': function(price) {
            return price - Math.floor(price/300) * 50;
        },
        'discount500-100': function(price) {
            return price - Math.floor(price/500) * 100;
        },
    };
    return {
        addStategy(stategyName,fn){
            if(discountMap[stategyName]) return;
            discountMap[stategyName] = fn;
        },
        priceCal(discountType,price){
            return discountMap[discountType] && discountMap[discountType](price);
        }
    }
})()

// ä½¿ç”¨
priceCalculate.priceCal('discount200-20',250); // 230

priceCalculate.addStategy('discount800-200',function(price){
    return price - Math.floor(price/800) * 200;
})
```

è¿™æ ·ç®—æ³•å°±è¢«éšè—èµ·æ¥ï¼Œå¹¶ä¸”é¢„ç•™äº†å¢åŠ ç­–ç•¥çš„å…¥å£ï¼Œä¾¿äºæ‰©å±•ã€‚

åœºæ™¯ï¼šè¡¨å•éªŒè¯ã€‚

è¡¨å•éªŒè¯é¡¹ä¸€èˆ¬ä¼šæ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥éœ€è¦ç»™æ¯ä¸ªè¡¨å•é¡¹å¢åŠ `validator`è‡ªå®šä¹‰æ ¡éªŒæ–¹æ³•ã€‚ä»¥ElementUI çš„ Form è¡¨å•ä¸ºä¾‹ã€‚

æˆ‘ä»¬å¯ä»¥åƒå®˜ç½‘ç¤ºä¾‹ä¸€æ ·æŠŠè¡¨å•éªŒè¯éƒ½å†™åœ¨ç»„ä»¶çš„çŠ¶æ€ data å‡½æ•°ä¸­ã€‚

ç¼ºç‚¹ï¼šä¸å¥½å¤ç”¨ä½¿ç”¨é¢‘ç‡æ¯”è¾ƒé«˜çš„è¡¨å•éªŒè¯æ–¹æ³•ï¼Œé€ æˆä»£ç å†—ä½™ã€‚

**ä½¿ç”¨ç­–ç•¥æ¨¡å¼å’Œå‡½æ•° æŸ¯é‡ŒåŒ– å¯¹ä»£ç è¿›è¡Œæ”¹å†™ã€‚**

`utils/validates.js`ä¸ºé€šç”¨éªŒè¯è§„åˆ™ï¼Œå³ä¸º`StrategyMap`ã€‚

`utils/index.js`ä¸­çš„`formValidateGene`é€šè¿‡æŸ¯é‡ŒåŒ–åŠ¨æ€é€‰æ‹©è¡¨å•éªŒè¯æ–¹æ³•ï¼Œå³ä¸º`Context`ã€‚

```js
// src/utils/validates.js
// å§“åæ ¡éªŒ ç”±2-10ä½æ±‰å­—ç»„æˆ 
export function validateUsername(str) {
    const reg = /^[\u4e00-\u9fa5]{2,10}$/
    return reg.test(str)
}

// æ‰‹æœºå·æ ¡éªŒ ç”±ä»¥1å¼€å¤´çš„11ä½æ•°å­—ç»„æˆ
export function validateMobile(str) {
    const reg = /^1\d{10}$/
    return reg.test(str)
}

// é‚®ç®±æ ¡éªŒ 
export function validateEmail(str) {
    const reg = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$/
    return reg.test(str)
}

// src/utils/index.js
import * as Validates from './validates.js';

export function formValidateGene = (key,msg) => {
    return function(rule,value,cb){
        if(Validates[key] && Validates[key](value)){
            cb()
        }else{
            cb(new Error(msg))
        }
    }
}

// ä½¿ç”¨
<script>
  import { formValidateGene } from '@/utils'
  export default {
    data() {
      return {
        ruleForm: {
          username: '',
          telephone: '',
        },
        rules: {
          username: [
            { validator: formValidateGene('validateUsername','ç”¨æˆ·åæ ¼å¼ä¸º2ï½10ä¸ªæ±‰å­—ï¼Œè¯·é‡æ–°è¾“å…¥'), trigger: 'blur' }
          ],
          telephone: [
            { validator: formValidateGene('validateMobile','æ‰‹æœºå·æ ¼å¼é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥'), trigger: 'blur' }
          ],
        }
      };
    }
  }
</script>
```

#### ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹ï¼š

1. ç­–ç•¥ç›¸äº’ç‹¬ç«‹ï¼Œå¯ä»¥äº’ç›¸åˆ‡æ¢ã€‚æé«˜äº†çµæ´»æ€§ä»¥åŠå¤ç”¨æ€§ã€‚
2. ä¸éœ€è¦ä½¿ç”¨`if-else`è¿›è¡Œç­–ç•¥é€‰æ‹©ï¼Œæé«˜äº†ç»´æŠ¤æ€§ã€‚
3. å¯æ‰©å±•æ€§å¥½ï¼Œæ»¡è¶³å¼€é—­åŸåˆ™ã€‚

ç¼ºç‚¹ï¼š

1. ç­–ç•¥ç›¸äº’ç‹¬ç«‹ï¼Œä¸€äº›å¤æ‚çš„ç®—æ³•é€»è¾‘æ— æ³•å…±äº«ï¼Œé€ æˆèµ„æºæµªè´¹ã€‚
2. ç”¨æˆ·åœ¨ä½¿ç”¨ç­–ç•¥æ—¶ï¼Œéœ€è¦äº†è§£å…·ä½“çš„ç­–ç•¥å®ç°ã€‚ä¸æ»¡è¶³æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼Œå¢åŠ äº†ä½¿ç”¨æˆæœ¬ã€‚

#### ä½¿ç”¨åœºæ™¯

1. ç®—æ³•éœ€è¦è‡ªç”±åˆ‡æ¢çš„åœºæ™¯ã€‚
2. å¤šä¸ªç®—æ³•åªæœ‰è¡Œä¸ºä¸Šæœ‰äº›ä¸åŒï¼Œå¯ä»¥è€ƒè™‘ç­–ç•¥æ¨¡å¼åŠ¨æ€é€‰æ‹©ç®—æ³•ã€‚
3. éœ€è¦å¤šé‡åˆ¤æ–­ï¼Œå¯ä»¥è€ƒè™‘ç­–ç•¥æ¨¡å¼è§„é¿å¤šé‡æ¡ä»¶åˆ¤æ–­ã€‚

### è§‚å¯Ÿè€…æ¨¡å¼

> ä¸€ä¸ªå¯¹è±¡ï¼ˆç§°ä¸ºsubjectï¼‰ç»´æŒä¸€ç³»åˆ—ä¾èµ–äºå®ƒçš„å¯¹è±¡ï¼ˆç§°ä¸ºobserverï¼‰ï¼Œå°†æœ‰å…³çŠ¶æ€çš„ä»»ä½•å˜æ›´è‡ªåŠ¨é€šçŸ¥ç»™å®ƒä»¬ï¼ˆè§‚å¯Ÿè€…ï¼‰ã€‚

**è§‚å¯Ÿè€…æ¨¡å¼ä¸­çš„è§’è‰²æœ‰ä¸¤ç±»ï¼š`è§‚å¯Ÿè€…`å’Œ`è¢«è§‚å¯Ÿè€…`ã€‚**

- è§‚å¯Ÿè€…å¿…é¡»è®¢é˜…å†…å®¹æ”¹å˜çš„äº‹ä»¶ï¼Œå®šä¹‰ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ã€‚

![20220831135437](https://wonganber-picgo.oss-cn-hangzhou.aliyuncs.com/picgo/20220831135437.png)

ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼šé¢†å¯¼ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰åœ¨å°ä¸Šä»‹ç»é˜²ç–«æ”¿ç­–ï¼Œåº•ä¸‹çš„å·¥ä½œäººå‘˜ï¼ˆè§‚å¯Ÿè€…ï¼‰â€œè§‚å¯Ÿâ€é¢†å¯¼è¯´çš„é˜²ç–«æ”¿ç­–çš„å˜åŒ–ï¼Œå½“æ”¿ç­–å˜åŒ–æ—¶ï¼Œé€šçŸ¥ï¼ˆupdateï¼‰åˆ°è¡—é“ã€‚

å·¥ä½œäººå‘˜ï¼ˆè§‚å¯Ÿè€…ï¼‰å¿…é¡»è®¢é˜…å†…å®¹æ”¹å˜çš„äº‹ä»¶ï¼Œå³ç”¨è€³æœµå»å¬æ”¿ç­–çš„å˜åŒ–ã€‚

#### ğŸŒ° ä¾‹å­

ç®€å•çš„ä»£ç åŸºæœ¬å®ç°

```js
// è§‚å¯Ÿè€…æ¨¡å¼ è¢«è§‚å¯Ÿè€…Subject è§‚å¯Ÿè€…Observer Subjectå˜åŒ– notifyè§‚å¯Ÿè€…
let observerIds = 0;

// è¢«è§‚å¯Ÿè€…Subject
class Subject {
  constructor() {
    this.observers = [];
  }

  // æ·»åŠ è§‚å¯Ÿè€…
  addObserver(observer) {
    this.observers.push(observer);
  }

  // ç§»é™¤è§‚å¯Ÿè€…
  removeObserver(observer) {
    this.observers = this.observers.filter((obs) => {
      return obs.id !== observer.id;
    });
  }

  // é€šçŸ¥notifyè§‚å¯Ÿè€…
  notify() {
    this.observers.forEach((observer) => observer.update(this));
  }
}

// è§‚å¯Ÿè€…Observer
class Observer {
  constructor() {
    this.id = observerIds++;
  }

  update(subject) {
    // æ›´æ–°
  }
}
```

#### ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹ï¼šç›®æ ‡å˜åŒ–å°±ä¼šé€šçŸ¥è§‚å¯Ÿè€…ï¼Œè¿™æ˜¯è§‚å¯Ÿè€…æ¨¡å¼æœ€å¤§çš„ä¼˜ç‚¹ã€‚

ç¼ºç‚¹ï¼š ä¸çµæ´»ã€‚ç›®æ ‡å’Œè§‚å¯Ÿè€…æ˜¯è€¦åˆåœ¨ä¸€èµ·çš„ï¼Œè¦å®ç°è§‚å¯Ÿè€…æ¨¡å¼ï¼Œå¿…é¡»åŒæ—¶å¼•å…¥è¢«è§‚å¯Ÿè€…å’Œè§‚å¯Ÿè€…æ‰èƒ½è¾¾åˆ°å“åº”å¼çš„æ•ˆæœã€‚

#### ä½¿ç”¨åœºæ™¯

### å‘å¸ƒ-è®¢é˜…æ¨¡å¼

> åŸºäºä¸€ä¸ªä¸»é¢˜/äº‹ä»¶é€šé“ï¼Œå¸Œæœ›æ¥æ”¶é€šçŸ¥çš„å¯¹è±¡ï¼ˆç§°ä¸ºsubscriberï¼‰é€šè¿‡è‡ªå®šä¹‰äº‹ä»¶è®¢é˜…ä¸»é¢˜ï¼Œè¢«æ¿€æ´»äº‹ä»¶çš„å¯¹è±¡ï¼ˆç§°ä¸ºpublisherï¼‰é€šè¿‡å‘å¸ƒä¸»é¢˜äº‹ä»¶çš„æ–¹å¼è¢«é€šçŸ¥ã€‚

**å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„è§’è‰²æœ‰ä¸¤ç±»ï¼šå‘å¸ƒè€…å’Œè®¢é˜…è€…**

- ä½¿ç”¨ä¸€ä¸ªä¸»é¢˜é€šé“ï¼Œè¿™ä¸ªé€šé“ä»‹äºå‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´ã€‚

![20220831135624](https://wonganber-picgo.oss-cn-hangzhou.aliyuncs.com/picgo/20220831135624.png)

#### ğŸŒ° ä¾‹å­

æˆ‘ä»¬å¾®ä¿¡ä¼šå…³æ³¨å¾ˆå¤šå…¬ä¼—å·ï¼Œå…¬ä¼—å·æœ‰æ–°æ–‡ç« å‘å¸ƒæ—¶ï¼Œå°±ä¼šæœ‰æ¶ˆæ¯åŠæ—¶é€šçŸ¥æˆ‘ä»¬æ–‡ç« æ›´æ–°äº†ã€‚

è¿™ä¸ªæ—¶å€™å…¬ä¼—å·ä¸ºå‘å¸ƒè€…ï¼Œç”¨æˆ·ä¸ºè®¢é˜…è€…ï¼Œç”¨æˆ·å°†è®¢é˜…å…¬ä¼—å·çš„äº‹ä»¶æ³¨å†Œåˆ°äº‹ä»¶è°ƒåº¦ä¸­å¿ƒï¼Œå½“å‘å¸ƒè€…å‘å¸ƒæ–°æ–‡ç« æ—¶ï¼Œä¼šå‘å¸ƒäº‹ä»¶è‡³äº‹ä»¶è°ƒåº¦ä¸­å¿ƒï¼Œè°ƒåº¦ä¸­å¿ƒä¼šå‘æ¶ˆæ¯å‘Šè¯‰è®¢é˜…è€…ã€‚

```js
class Event {
  constructor() {
    this.eventEmitter = {};
  }

  // è®¢é˜…
  on(type, fn) {
    if (!this.eventEmitter[type]) {
      this.eventEmitter[type] = [];
    }
    this.eventEmitter[type].push(fn);
  }

  // å–æ¶ˆè®¢é˜…
  off(type, fn) {
    if (!this.eventEmitter[type]) {
      return;
    }
    this.eventEmitter[type] = this.eventEmitter[type].filter((event) => {
      return event !== fn;
    });
  }

  // å‘å¸ƒ
  emit(type) {
    if (!this.eventEmitter[type]) {
      return;
    }
    this.eventEmitter[type].forEach((event) => {
      event();
    });
  }
}
```

#### æºç å®ä¾‹

**Vue åŒå‘ç»‘å®šä¸­çš„å‘å¸ƒè®¢é˜…æ¨¡å¼**

![20220831135729](https://wonganber-picgo.oss-cn-hangzhou.aliyuncs.com/picgo/20220831135729.png)

`Vue`åŒå‘ç»‘å®šé€šè¿‡`æ•°æ®åŠ«æŒ`å’Œ`å‘å¸ƒ-è®¢é˜…æ¨¡å¼`å®ç°ã€‚

1. é€šè¿‡`DefineProperty`åŠ«æŒå„ä¸ªæ•°æ®çš„`setter`å’Œ`getter`ï¼Œå¹¶ä¸ºæ¯ä¸ªæ•°æ®æ·»åŠ ä¸€ä¸ªè®¢é˜…è€…åˆ—è¡¨ï¼Œè¿™ä¸ªåˆ—è¡¨å°†ä¼šè®°å½•æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ•°æ®çš„ç»„ä»¶ã€‚å“åº”å¼åçš„æ•°æ®ç›¸å½“äºæ¶ˆæ¯çš„å‘å¸ƒè€…ã€‚
2. æ¯ä¸ªç»„ä»¶éƒ½å¯¹åº”ä¸€ä¸ª`Watcher`è®¢é˜…è€…ï¼Œå½“ç»„ä»¶æ¸²æŸ“å‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼šå°†æœ¬ç»„ä»¶çš„`Watcher`åŠ å…¥åˆ°æ‰€ä¾èµ–çš„å“åº”å¼æ•°æ®çš„è®¢é˜…è€…åˆ—è¡¨ä¸­ã€‚ç›¸å½“äºå®Œæˆäº†ä¸€æ¬¡è®¢é˜…ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšâ€œä¾èµ–æ”¶é›†â€ã€‚
3.å½“å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šå‡º`setter`ï¼Œ`setter`è´Ÿè´£é€šçŸ¥æ•°æ®çš„è®¢é˜…è€…åˆ—è¡¨ä¸­çš„`Watcher`ï¼Œ`Watcher`è§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“æ¥æ›´æ–°è§†å›¾ã€‚è§†å›¾å±‚ç›¸å½“äºæ¶ˆæ¯çš„è®¢é˜…è€…ã€‚

#### EventEmitter

> è·Ÿ ğŸŒ° å·®ä¸å¤šï¼Œç•¥ã€‚

#### ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹ï¼š

1. æ—¶é—´è§£è€¦ï¼šæ³¨å†Œçš„è®¢é˜…è¡Œä¸ºç”±å‘å¸ƒè€…å†³å®šä½•æ—¶è°ƒç”¨ï¼Œè®¢é˜…è€…æ— éœ€æŒç»­å…³æ³¨ï¼Œç”±å‘å¸ƒè€…è´Ÿè´£é€šçŸ¥ã€‚
2. å¯¹è±¡è§£è€¦ï¼šå‘å¸ƒè€…æ— éœ€çŸ¥é“æ¶ˆæ¯çš„æ¥å—è€…ï¼Œåªéœ€éå†è®¢é˜…è¯¥æ¶ˆæ¯ç±»å‹çš„è®¢é˜…è€…å‘é€æ¶ˆæ¯ï¼Œè§£è€¦äº†å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¹‹é—´çš„è”ç³»ï¼Œäº’ä¸æŒæœ‰ï¼Œéƒ½ä¾èµ–äºæŠ½è±¡ã€‚

ç¼ºç‚¹ï¼š

1. èµ„æºæ¶ˆè€—ï¼šåˆ›å»ºè®¢é˜…è€…éœ€è¦ä¸€å®šçš„æ—¶é—´å’Œå†…å­˜ã€‚
2. å¢åŠ å¤æ‚åº¦ï¼šå¼±åŒ–äº†è”ç³»ï¼Œéš¾ä»¥ç»´æŠ¤è°ƒç”¨å…³ç³»ï¼Œå¢åŠ äº†ç†è§£æˆæœ¬ã€‚

#### ä½¿ç”¨åœºæ™¯

- å„æ¨¡å—ç›¸äº’ç‹¬ç«‹
- å­˜åœ¨ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»
- ä¾èµ–æ¨¡å—ä¸ç¨³å®šã€ä¾èµ–å…³ç³»ä¸ç¨³å®š
- å„æ¨¡å—ç”±ä¸åŒçš„äººå‘˜å¼€å‘
