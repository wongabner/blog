(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[1361],{29201:function(e,t,n){"use strict";n.r(t);var l=n(67294),o=n(96089),c=n(65659),r=l.memo((e=>{e.demos;return l.createElement(l.Fragment,null,l.createElement("div",{className:"markdown"},l.createElement("h1",{id:"typeof-\u4e0e-instanceof-\u533a\u522b"},l.createElement(o.AnchorLink,{to:"#typeof-\u4e0e-instanceof-\u533a\u522b","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"typeof \u4e0e instanceof \u533a\u522b"),l.createElement("p",null,l.createElement("img",{src:"https://static.vue-js.com/3fc158f0-7710-11eb-ab90-d9ae814b240d.png",alt:""})),l.createElement("h2",{id:"\u4e00typeof"},l.createElement(o.AnchorLink,{to:"#\u4e00typeof","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e00\u3001typeof"),l.createElement("p",null,l.createElement("code",null,"typeof")," \u64cd\u4f5c\u7b26\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8868\u793a\u672a\u7ecf\u8ba1\u7b97\u7684\u64cd\u4f5c\u6570\u7684\u7c7b\u578b"),l.createElement("p",null,"\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a"),l.createElement(c.Z,{code:"typeof operand\ntypeof(operand)",lang:"js"}),l.createElement("p",null,l.createElement("code",null,"operand"),"\u8868\u793a\u5bf9\u8c61\u6216\u539f\u59cb\u503c\u7684\u8868\u8fbe\u5f0f\uff0c\u5176\u7c7b\u578b\u5c06\u88ab\u8fd4\u56de"),l.createElement("p",null,"\u4e3e\u4e2a\u4f8b\u5b50"),l.createElement(c.Z,{code:"typeof 1 // 'number'\ntypeof '1' // 'string'\ntypeof undefined // 'undefined'\ntypeof true // 'boolean'\ntypeof Symbol() // 'symbol'\ntypeof null // 'object'\ntypeof [] // 'object'\ntypeof {} // 'object'\ntypeof console // 'object'\ntypeof console.log // 'function'",lang:"js"}),l.createElement("p",null,"\u4ece\u4e0a\u9762\u4f8b\u5b50\uff0c\u524d6\u4e2a\u90fd\u662f\u57fa\u7840\u6570\u636e\u7c7b\u578b\u3002\u867d\u7136",l.createElement("code",null,"typeof null"),"\u4e3a",l.createElement("code",null,"object"),"\uff0c\u4f46\u8fd9\u53ea\u662f",l.createElement("code",null," JavaScript")," \u5b58\u5728\u7684\u4e00\u4e2a\u60a0\u4e45 ",l.createElement("code",null,"Bug"),"\uff0c\u4e0d\u4ee3\u8868",l.createElement("code",null,"null "),"\u5c31\u662f\u5f15\u7528\u6570\u636e\u7c7b\u578b\uff0c\u5e76\u4e14",l.createElement("code",null,"null "),"\u672c\u8eab\u4e5f\u4e0d\u662f\u5bf9\u8c61"),l.createElement("p",null,"\u6240\u4ee5\uff0c",l.createElement("code",null,"null "),"\u5728 ",l.createElement("code",null,"typeof "),"\u4e4b\u540e\u8fd4\u56de\u7684\u662f\u6709\u95ee\u9898\u7684\u7ed3\u679c\uff0c\u4e0d\u80fd\u4f5c\u4e3a\u5224\u65ad",l.createElement("code",null,"null"),"\u7684\u65b9\u6cd5\u3002\u5982\u679c\u4f60\u9700\u8981\u5728 ",l.createElement("code",null,"if")," \u8bed\u53e5\u4e2d\u5224\u65ad\u662f\u5426\u4e3a ",l.createElement("code",null,"null"),"\uff0c\u76f4\u63a5\u901a\u8fc7",l.createElement("code",null,"===null"),"\u6765\u5224\u65ad\u5c31\u597d"),l.createElement("p",null,"\u540c\u65f6\uff0c\u53ef\u4ee5\u53d1\u73b0\u5f15\u7528\u7c7b\u578b\u6570\u636e\uff0c\u7528",l.createElement("code",null,"typeof"),"\u6765\u5224\u65ad\u7684\u8bdd\uff0c\u9664\u4e86",l.createElement("code",null,"function"),"\u4f1a\u88ab\u8bc6\u522b\u51fa\u6765\u4e4b\u5916\uff0c\u5176\u4f59\u7684\u90fd\u8f93\u51fa",l.createElement("code",null,"object")),l.createElement("p",null,"\u5982\u679c\u6211\u4eec\u60f3\u8981\u5224\u65ad\u4e00\u4e2a\u53d8\u91cf\u662f\u5426\u5b58\u5728\uff0c\u53ef\u4ee5\u4f7f\u7528",l.createElement("code",null,"typeof"),"\uff1a(\u4e0d\u80fd\u4f7f\u7528",l.createElement("code",null,"if(a)"),"\uff0c \u82e5",l.createElement("code",null,"a"),"\u672a\u58f0\u660e\uff0c\u5219\u62a5\u9519)"),l.createElement(c.Z,{code:"if(typeof a != 'undefined'){\n    //\u53d8\u91cf\u5b58\u5728\n}",lang:"js"}),l.createElement("h2",{id:"\u4e8cinstanceof"},l.createElement(o.AnchorLink,{to:"#\u4e8cinstanceof","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e8c\u3001instanceof"),l.createElement("p",null,l.createElement("code",null,"instanceof")," \u8fd0\u7b97\u7b26\u7528\u4e8e\u68c0\u6d4b\u6784\u9020\u51fd\u6570\u7684 ",l.createElement("code",null,"prototype")," \u5c5e\u6027\u662f\u5426\u51fa\u73b0\u5728\u67d0\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a"),l.createElement("p",null,"\u4f7f\u7528\u5982\u4e0b\uff1a"),l.createElement(c.Z,{code:"object instanceof constructor",lang:"js"}),l.createElement("p",null,l.createElement("code",null,"object"),"\u4e3a\u5b9e\u4f8b\u5bf9\u8c61\uff0c",l.createElement("code",null,"constructor"),"\u4e3a\u6784\u9020\u51fd\u6570"),l.createElement("p",null,"\u6784\u9020\u51fd\u6570\u901a\u8fc7",l.createElement("code",null,"new"),"\u53ef\u4ee5\u5b9e\u4f8b\u5bf9\u8c61\uff0c",l.createElement("code",null,"instanceof "),"\u80fd\u5224\u65ad\u8fd9\u4e2a\u5bf9\u8c61\u662f\u5426\u662f\u4e4b\u524d\u90a3\u4e2a\u6784\u9020\u51fd\u6570\u751f\u6210\u7684\u5bf9\u8c61"),l.createElement(c.Z,{code:"// \u5b9a\u4e49\u6784\u5efa\u51fd\u6570\nlet Car = function() {}\nlet benz = new Car()\nbenz instanceof Car // true\nlet car = new String('xxx')\ncar instanceof String // true\nlet str = 'xxx'\nstr instanceof String // false",lang:"js"}),l.createElement("p",null,"\u5173\u4e8e",l.createElement("code",null,"instanceof"),"\u7684\u5b9e\u73b0\u539f\u7406\uff0c\u53ef\u4ee5\u53c2\u8003\u4e0b\u9762\uff1a"),l.createElement(c.Z,{code:"function myInstanceof(left, right) {\n    // \u8fd9\u91cc\u5148\u7528typeof\u6765\u5224\u65ad\u57fa\u7840\u6570\u636e\u7c7b\u578b\uff0c\u5982\u679c\u662f\uff0c\u76f4\u63a5\u8fd4\u56defalse\n    if(typeof left !== 'object' || left === null) return false;\n    // getProtypeOf\u662fObject\u5bf9\u8c61\u81ea\u5e26\u7684API\uff0c\u80fd\u591f\u62ff\u5230\u53c2\u6570\u7684\u539f\u578b\u5bf9\u8c61\n    let proto = Object.getPrototypeOf(left);\n    while(true) {                  \n        if(proto === null) return false;\n        if(proto === right.prototype) return true;//\u627e\u5230\u76f8\u540c\u539f\u578b\u5bf9\u8c61\uff0c\u8fd4\u56detrue\n        proto = Object.getPrototypeof(proto);\n    }\n}",lang:"js"}),l.createElement("p",null,"\u4e5f\u5c31\u662f\u987a\u7740\u539f\u578b\u94fe\u53bb\u627e\uff0c\u76f4\u5230\u627e\u5230\u76f8\u540c\u7684\u539f\u578b\u5bf9\u8c61\uff0c\u8fd4\u56de",l.createElement("code",null,"true"),"\uff0c\u5426\u5219\u4e3a",l.createElement("code",null,"false")),l.createElement("h2",{id:"\u4e09\u533a\u522b"},l.createElement(o.AnchorLink,{to:"#\u4e09\u533a\u522b","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e09\u3001\u533a\u522b"),l.createElement("p",null,l.createElement("code",null,"typeof"),"\u4e0e",l.createElement("code",null,"instanceof"),"\u90fd\u662f\u5224\u65ad\u6570\u636e\u7c7b\u578b\u7684\u65b9\u6cd5\uff0c\u533a\u522b\u5982\u4e0b\uff1a"),l.createElement("ul",null,l.createElement("li",null,l.createElement("p",null,l.createElement("code",null,"typeof"),"\u4f1a\u8fd4\u56de\u4e00\u4e2a\u53d8\u91cf\u7684\u57fa\u672c\u7c7b\u578b\uff0c",l.createElement("code",null,"instanceof"),"\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5e03\u5c14\u503c")),l.createElement("li",null,l.createElement("p",null,l.createElement("code",null,"instanceof")," \u53ef\u4ee5\u51c6\u786e\u5730\u5224\u65ad\u590d\u6742\u5f15\u7528\u6570\u636e\u7c7b\u578b\uff0c\u4f46\u662f\u4e0d\u80fd\u6b63\u786e\u5224\u65ad\u57fa\u7840\u6570\u636e\u7c7b\u578b")),l.createElement("li",null,l.createElement("p",null,"\u800c",l.createElement("code",null," typeof")," \u4e5f\u5b58\u5728\u5f0a\u7aef\uff0c\u5b83\u867d\u7136\u53ef\u4ee5\u5224\u65ad\u57fa\u7840\u6570\u636e\u7c7b\u578b\uff08",l.createElement("code",null,"null")," \u9664\u5916\uff09\uff0c\u4f46\u662f\u5f15\u7528\u6570\u636e\u7c7b\u578b\u4e2d\uff0c\u9664\u4e86",l.createElement("code",null," function")," \u7c7b\u578b\u4ee5\u5916\uff0c\u5176\u4ed6\u7684\u4e5f\u65e0\u6cd5\u5224\u65ad"))),l.createElement("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u4e0a\u8ff0\u4e24\u79cd\u65b9\u6cd5\u90fd\u6709\u5f0a\u7aef\uff0c\u5e76\u4e0d\u80fd\u6ee1\u8db3\u6240\u6709\u573a\u666f\u7684\u9700\u6c42"),l.createElement("p",null,"\u5982\u679c\u9700\u8981\u901a\u7528\u68c0\u6d4b\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u91c7\u7528",l.createElement("code",null,"Object.prototype.toString"),"\uff0c\u8c03\u7528\u8be5\u65b9\u6cd5\uff0c\u7edf\u4e00\u8fd4\u56de\u683c\u5f0f",l.createElement("code",null,"\u201c[object Xxx]\u201d "),"\u7684\u5b57\u7b26\u4e32"),l.createElement("p",null,"\u5982\u4e0b"),l.createElement(c.Z,{code:'Object.prototype.toString({})       // "[object Object]"\nObject.prototype.toString.call({})  // \u540c\u4e0a\u7ed3\u679c\uff0c\u52a0\u4e0acall\u4e5fok\nObject.prototype.toString.call(1)    // "[object Number]"\nObject.prototype.toString.call(\'1\')  // "[object String]"\nObject.prototype.toString.call(true)  // "[object Boolean]"\nObject.prototype.toString.call(function(){})  // "[object Function]"\nObject.prototype.toString.call(null)   //"[object Null]"\nObject.prototype.toString.call(undefined) //"[object Undefined]"\nObject.prototype.toString.call(/123/g)    //"[object RegExp]"\nObject.prototype.toString.call(new Date()) //"[object Date]"\nObject.prototype.toString.call([])       //"[object Array]"\nObject.prototype.toString.call(document)  //"[object HTMLDocument]"\nObject.prototype.toString.call(window)   //"[object Window]"',lang:"js"}),l.createElement("p",null,"\u4e86\u89e3\u4e86",l.createElement("code",null,"toString"),"\u7684\u57fa\u672c\u7528\u6cd5\uff0c\u4e0b\u9762\u5c31\u5b9e\u73b0\u4e00\u4e2a\u5168\u5c40\u901a\u7528\u7684\u6570\u636e\u7c7b\u578b\u5224\u65ad\u65b9\u6cd5"),l.createElement(c.Z,{code:"function getType(obj){\n  let type  = typeof obj;\n  if (type !== \"object\") {    // \u5148\u8fdb\u884ctypeof\u5224\u65ad\uff0c\u5982\u679c\u662f\u57fa\u7840\u6570\u636e\u7c7b\u578b\uff0c\u76f4\u63a5\u8fd4\u56de\n    return type;\n  }\n  // \u5bf9\u4e8etypeof\u8fd4\u56de\u7ed3\u679c\u662fobject\u7684\uff0c\u518d\u8fdb\u884c\u5982\u4e0b\u7684\u5224\u65ad\uff0c\u6b63\u5219\u8fd4\u56de\u7ed3\u679c\n  return Object.prototype.toString.call(obj).replace(/^\\[object (\\S+)\\]$/, '$1'); \n}",lang:"js"}),l.createElement("p",null,"\u4f7f\u7528\u5982\u4e0b"),l.createElement(c.Z,{code:'getType([])     // "Array" typeof []\u662fobject\uff0c\u56e0\u6b64toString\u8fd4\u56de\ngetType(\'123\')  // "string" typeof \u76f4\u63a5\u8fd4\u56de\ngetType(window) // "Window" toString\u8fd4\u56de\ngetType(null)   // "Null"\u9996\u5b57\u6bcd\u5927\u5199\uff0ctypeof null\u662fobject\uff0c\u9700toString\u6765\u5224\u65ad\ngetType(undefined)   // "undefined" typeof \u76f4\u63a5\u8fd4\u56de\ngetType()            // "undefined" typeof \u76f4\u63a5\u8fd4\u56de\ngetType(function(){}) // "function" typeof\u80fd\u5224\u65ad\uff0c\u56e0\u6b64\u9996\u5b57\u6bcd\u5c0f\u5199\ngetType(/123/g)      //"RegExp" toString\u8fd4\u56de',lang:"js"})))}));t["default"]=e=>{var t=l.useContext(o.context),n=t.demos;return l.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&o.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.createElement(r,{demos:n})}}}]);