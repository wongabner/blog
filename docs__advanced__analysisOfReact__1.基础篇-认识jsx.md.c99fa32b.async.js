(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[6685],{8036:function(){},61490:function(e,t,n){"use strict";n.r(t);var l=n(67294),r=n(96089),a=n(65659),c=n(4187),m=l.memo((e=>{e.demos;return l.createElement(l.Fragment,null,l.createElement("div",{className:"markdown"},l.createElement("h2",{id:"\u4e00-\u6211\u4eec\u5199\u7684-jsx-\u7ec8\u5c06\u53d8\u6210\u4ec0\u4e48"},l.createElement(r.AnchorLink,{to:"#\u4e00-\u6211\u4eec\u5199\u7684-jsx-\u7ec8\u5c06\u53d8\u6210\u4ec0\u4e48","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e00 \u6211\u4eec\u5199\u7684 JSX \u7ec8\u5c06\u53d8\u6210\u4ec0\u4e48"),l.createElement("p",null,"\u4e07\u7269\u59cb\u4e8e ",l.createElement("code",null,"jsx"),"\uff0c\u60f3\u8981\u6df1\u5165\u5b66\u4e60 react \uff0c\u5c31\u5e94\u8be5\u4ece jsx \u5165\u624b\u3002\u5f04\u6e05\u695a jsx \uff0c\u65b9\u4fbf\u5b66\u4e60\u638c\u63e1\u4ee5\u4e0b\u5185\u5bb9\uff1a"),l.createElement("ul",null,l.createElement("li",null,"\u4e86\u89e3\u5e38\u7528\u7684\u5143\u7d20\u4f1a\u88ab React \u5904\u7406\u6210\u4ec0\u4e48\uff0c\u6709\u5229\u4e8e\u540e\u7eed\u7406\u89e3 react fiber \u7c7b\u578b\uff1b"),l.createElement("li",null,"\u7406\u89e3 jsx \u7684\u7f16\u8bd1\u8fc7\u7a0b\uff0c\u65b9\u4fbf\u64cd\u7eb5 children\u3001\u63a7\u5236 React \u6e32\u67d3\uff0c\u6709\u5229\u4e8e\u4fbf\u6377\u4f7f\u7528 React \u63d2\u69fd\u7ec4\u4ef6\u3002")),l.createElement("p",null,"\u6211\u5199\u4e86\u4e00\u6bb5 react JSX \u4ee3\u7801\uff0c\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4e00\u6b65\u6b65\u770b\u770b\u5b83\u6700\u540e\u4f1a\u53d8\u6210\u4ec0\u4e48\u6837\u5b50\u3002"),l.createElement(a.Z,{code:"const toLearn = [ 'react' , 'vue' , 'webpack' , 'nodejs'  ]\n\nconst TextComponent = ()=> <div> hello , i am function component </div> \n\nclass Index extends React.Component{\n    status = false /* \u72b6\u6001 */\n    renderFoot=()=> <div> i am foot</div>\n    render(){\n        /* \u4ee5\u4e0b\u90fd\u662f\u5e38\u7528\u7684jsx\u5143\u7d20\u8282 */\n        return <div style={{ marginTop:'100px' }}   >\n            { /* element \u5143\u7d20\u7c7b\u578b */ }\n            <div>hello,world</div>\n            { /* fragment \u7c7b\u578b */ }\n            <React.Fragment>\n                <div> \ud83d\udc7d\ud83d\udc7d </div>\n            </React.Fragment>\n            { /* text \u6587\u672c\u7c7b\u578b */ }\n            my name is alien \n            { /* \u6570\u7ec4\u8282\u70b9\u7c7b\u578b */ }\n            { toLearn.map(item=> <div key={item} >let us learn { item } </div> ) }\n            { /* \u7ec4\u4ef6\u7c7b\u578b */ }\n            <TextComponent/>\n            { /* \u4e09\u5143\u8fd0\u7b97 */  }\n            { this.status ? <TextComponent /> : <div>\u4e09\u5143\u8fd0\u7b97</div> }\n            { /* \u51fd\u6570\u6267\u884c */ } \n            { this.renderFoot() }\n            <button onClick={ ()=> console.log( this.render() ) } >\u6253\u5370render\u540e\u7684\u5185\u5bb9</button>\n        </div>\n    }\n}",lang:"js"}),l.createElement("p",null,l.createElement("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c830651f91244fdba008bff4824736f6~tplv-k3u1fbpfcp-watermark.awebp",alt:"jsx_02.jpg"})),l.createElement("h3",{id:"1-babel-\u5904\u7406\u540e\u7684\u6837\u5b50"},l.createElement(r.AnchorLink,{to:"#1-babel-\u5904\u7406\u540e\u7684\u6837\u5b50","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"1 babel \u5904\u7406\u540e\u7684\u6837\u5b50"),l.createElement("p",null,l.createElement("strong",null,"\u9996\u5148\uff0c\u770b\u4e00\u4e0b\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\u7684 jsx \u6a21\u7248\u4f1a\u88abbabel\u7f16\u8bd1\u6210\u4ec0\u4e48\uff1f")),l.createElement("p",null,l.createElement("img",{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/63f79f34c6184f46bd628ea24351a40a~tplv-k3u1fbpfcp-watermark.awebp",alt:"jsx_03.jpg"})),l.createElement("p",null,"\u548c\u5982\u4e0a\u770b\u5230\u7684\u4e00\u6837\uff0c\u6211\u5199\u7684 JSX \u5143\u7d20\u8282\u70b9\u4f1a\u88ab\u7f16\u8bd1\u6210 React Element \u5f62\u5f0f\u3002\u90a3\u4e48\uff0c\u6211\u4eec\u9996\u5148\u6765\u770b\u4e00\u4e0b React.createElement \u7684\u7528\u6cd5\u3002"),l.createElement(a.Z,{code:"React.createElement(\n  type,\n  [props],\n  [...children]\n)",lang:"js"}),l.createElement("p",null,l.createElement("code",null,"createElement")," \u53c2\u6570\uff1a"),l.createElement("ul",null,l.createElement("li",null,"\u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u5982\u679c\u662f\u7ec4\u4ef6\u7c7b\u578b\uff0c\u4f1a\u4f20\u5165\u7ec4\u4ef6\u5bf9\u5e94\u7684\u7c7b\u6216\u51fd\u6570\uff1b\u5982\u679c\u662f dom \u5143\u7d20\u7c7b\u578b\uff0c\u4f20\u5165 div \u6216\u8005 span \u4e4b\u7c7b\u7684\u5b57\u7b26\u4e32\u3002"),l.createElement("li",null,"\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5728 dom \u7c7b\u578b\u4e2d\u4e3a\u6807\u7b7e\u5c5e\u6027\uff0c\u5728\u7ec4\u4ef6\u7c7b\u578b\u4e2d\u4e3a props \u3002"),l.createElement("li",null,"\u5176\u4ed6\u53c2\u6570\uff1a\u4f9d\u6b21\u4e3a children\uff0c\u6839\u636e\u987a\u5e8f\u6392\u5217\u3002")),l.createElement("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff1a"),l.createElement(a.Z,{code:"<div>\n   <TextComponent />\n   <div>hello,world</div>\n   let us learn React!\n</div>",lang:"js"}),l.createElement("p",null,"\u4e0a\u9762\u7684\u4ee3\u7801\u4f1a\u88ab babel \u5148\u7f16\u8bd1\u6210\uff1a"),l.createElement(a.Z,{code:'React.createElement("div", null,\n        React.createElement(TextComponent, null),\n        React.createElement("div", null, "hello,world"),\n        "let us learn React!"\n    )',lang:"js"}),l.createElement("p",null,l.createElement("strong",null,"\uff5c--------\u95ee\u4e0e\u7b54--------\uff5c")),l.createElement("p",null,"\u95ee\uff1a\u8001\u7248\u672c\u7684 React \u4e2d\uff0c\u4e3a\u4ec0\u4e48\u5199 jsx \u7684\u6587\u4ef6\u8981\u9ed8\u8ba4\u5f15\u5165 React? \u5982\u4e0b"),l.createElement(a.Z,{code:"import React from 'react'\nfunction Index(){\n    return <div>hello,world</div>\n}",lang:"js"}),l.createElement("p",null,"\u7b54\uff1a\u56e0\u4e3a jsx \u5728\u88ab babel \u7f16\u8bd1\u540e\uff0c\u5199\u7684 jsx \u4f1a\u53d8\u6210\u4e0a\u8ff0 React.createElement \u5f62\u5f0f\uff0c\u6240\u4ee5\u9700\u8981\u5f15\u5165 React\uff0c\u9632\u6b62\u627e\u4e0d\u5230 React \u5f15\u8d77\u62a5\u9519\u3002"),l.createElement("p",null,l.createElement("strong",null,"\uff5c---------end---------\uff5c")),l.createElement("h3",{id:"2-createelement-\u5904\u7406\u540e\u7684\u6837\u5b50"},l.createElement(r.AnchorLink,{to:"#2-createelement-\u5904\u7406\u540e\u7684\u6837\u5b50","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"2 createElement \u5904\u7406\u540e\u7684\u6837\u5b50"),l.createElement("p",null,"\u7136\u540e\u70b9\u51fb\u6309\u94ae\uff0c\u770b\u4e00\u4e0b\u5199\u7684 demo \u4f1a\u88ab React.createElement \u53d8\u6210\u4ec0\u4e48:"),l.createElement("p",null,l.createElement("img",{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b03ba798b2c2471eb00e5ecab6fe91fe~tplv-k3u1fbpfcp-watermark.awebp",alt:"jsx_01.jpg"})),l.createElement("p",null,"\u4ece\u4e0a\u9762\u5199\u7684 jsx \u7ed3\u6784\u6765\u770b\uff0c\u5916\u5c42\u7684 div \u88ab react.createElement \u8f6c\u6362\u6210 react element \u5bf9\u8c61\uff0cdiv \u91cc\u9762\u7684 8 \u4e2a\u5143\u7d20\u5206\u522b\u8f6c\u6362\u6210 children \u5b50\u5143\u7d20\u5217\u8868\u3002\u4e0b\u9762\u5c31\u662f jsx \u7684\u8f6c\u6362\u89c4\u5219\uff0c\u8bf7\u4e00\u5b9a\u8981\u8bb0\u4f4f\uff0c\u4ee5\u4fbf\u540e\u7eed\u80fd\u66f4\u6d41\u7545\u5730\u4f7f\u7528 jsx \u8bed\u6cd5\u3002"),l.createElement(c.Z,null,l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,l.createElement("code",null,"jsx"),"\u5143\u7d20\u7c7b\u578b"),l.createElement("th",null,l.createElement("code",null,"react.createElement")," \u8f6c\u6362\u540e"),l.createElement("th",null,l.createElement("code",null,"type")," \u5c5e\u6027"))),l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"elment"),"\u5143\u7d20\u7c7b\u578b"),l.createElement("td",null,l.createElement("code",null,"react element"),"\u7c7b\u578b"),l.createElement("td",null,"\u6807\u7b7e\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982 ",l.createElement("code",null,"div"))),l.createElement("tr",null,l.createElement("td",null,l.createElement("code",null,"fragment"),"\u7c7b\u578b"),l.createElement("td",null,l.createElement("code",null,"react element"),"\u7c7b\u578b"),l.createElement("td",null,l.createElement("code",null,"symbol")," ",l.createElement("code",null,"react.fragment"),"\u7c7b\u578b")),l.createElement("tr",null,l.createElement("td",null,"\u6587\u672c\u7c7b\u578b"),l.createElement("td",null,"\u76f4\u63a5\u5b57\u7b26\u4e32"),l.createElement("td",null,"\u65e0")),l.createElement("tr",null,l.createElement("td",null,"\u6570\u7ec4\u7c7b\u578b"),l.createElement("td",null,"\u8fd4\u56de\u6570\u7ec4\u7ed3\u6784\uff0c\u91cc\u9762\u5143\u7d20\u88ab",l.createElement("code",null,"react.createElement"),"\u8f6c\u6362"),l.createElement("td",null,"\u65e0")),l.createElement("tr",null,l.createElement("td",null,"\u7ec4\u4ef6\u7c7b\u578b"),l.createElement("td",null,l.createElement("code",null,"react element"),"\u7c7b\u578b"),l.createElement("td",null,"\u7ec4\u4ef6\u7c7b\u6216\u8005\u7ec4\u4ef6\u51fd\u6570\u672c\u8eab")),l.createElement("tr",null,l.createElement("td",null,"\u4e09\u5143\u8fd0\u7b97 / \u8868\u8fbe\u5f0f"),l.createElement("td",null,"\u5148\u6267\u884c\u4e09\u5143\u8fd0\u7b97\uff0c\u7136\u540e\u6309\u7167\u4e0a\u8ff0\u89c4\u5219\u5904\u7406"),l.createElement("td",null,"\u770b\u4e09\u5143\u8fd0\u7b97\u8fd4\u56de\u7ed3\u679c")),l.createElement("tr",null,l.createElement("td",null,"\u51fd\u6570\u6267\u884c"),l.createElement("td",null,"\u5148\u6267\u884c\u51fd\u6570\uff0c\u7136\u540e\u6309\u7167\u4e0a\u8ff0\u89c4\u5219\u5904\u7406"),l.createElement("td",null,"\u770b\u51fd\u6570\u6267\u884c\u8fd4\u56de\u7ed3\u679c")))),l.createElement("h3",{id:"3-react-\u5e95\u5c42\u8c03\u548c\u5904\u7406\u540e\u7ec8\u5c06\u53d8\u6210\u4ec0\u4e48"},l.createElement(r.AnchorLink,{to:"#3-react-\u5e95\u5c42\u8c03\u548c\u5904\u7406\u540e\u7ec8\u5c06\u53d8\u6210\u4ec0\u4e48","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"3 React \u5e95\u5c42\u8c03\u548c\u5904\u7406\u540e\uff0c\u7ec8\u5c06\u53d8\u6210\u4ec0\u4e48\uff1f"),l.createElement("p",null,"\u6700\u7ec8\uff0c\u5728\u8c03\u548c\u9636\u6bb5\uff0c\u4e0a\u8ff0 React element \u5bf9\u8c61\u7684\u6bcf\u4e00\u4e2a\u5b50\u8282\u70b9\u90fd\u4f1a\u5f62\u6210\u4e00\u4e2a\u4e0e\u4e4b\u5bf9\u5e94\u7684 fiber \u5bf9\u8c61\uff0c\u7136\u540e\u901a\u8fc7 sibling\u3001return\u3001child \u5c06\u6bcf\u4e00\u4e2a fiber \u5bf9\u8c61\u8054\u7cfb\u8d77\u6765\u3002"),l.createElement("p",null,"\u6240\u4ee5\uff0c\u6211\u4eec\u6709\u5fc5\u8981\u5148\u6765\u770b\u4e00\u4e0b React \u5e38\u7528\u7684 fiber \u7c7b\u578b\uff0c\u4ee5\u53ca element \u5bf9\u8c61\u548c fiber \u7c7b\u578b\u7684\u5bf9\u5e94\u5173\u7cfb\u3002"),l.createElement("h4",{id:"\u4e0d\u540c\u79cd\u7c7b\u7684-fiber-tag"},l.createElement(r.AnchorLink,{to:"#\u4e0d\u540c\u79cd\u7c7b\u7684-fiber-tag","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e0d\u540c\u79cd\u7c7b\u7684 fiber Tag"),l.createElement("p",null,"React \u9488\u5bf9\u4e0d\u540c React element \u5bf9\u8c61\u4f1a\u4ea7\u751f\u4e0d\u540c tag (\u79cd\u7c7b) \u7684fiber \u5bf9\u8c61\u3002\u9996\u5148\uff0c\u6765\u770b\u4e00\u4e0b tag \u4e0e element \u7684\u5bf9\u5e94\u5173\u7cfb\uff1a"),l.createElement(a.Z,{code:"export const FunctionComponent = 0;       // \u51fd\u6570\u7ec4\u4ef6\nexport const ClassComponent = 1;          // \u7c7b\u7ec4\u4ef6\nexport const IndeterminateComponent = 2;  // \u521d\u59cb\u5316\u7684\u65f6\u5019\u4e0d\u77e5\u9053\u662f\u51fd\u6570\u7ec4\u4ef6\u8fd8\u662f\u7c7b\u7ec4\u4ef6 \nexport const HostRoot = 3;                // Root Fiber \u53ef\u4ee5\u7406\u89e3\u4e3a\u6839\u5143\u7d20 \uff0c \u901a\u8fc7reactDom.render()\u4ea7\u751f\u7684\u6839\u5143\u7d20\nexport const HostPortal = 4;              // \u5bf9\u5e94  ReactDOM.createPortal \u4ea7\u751f\u7684 Portal \nexport const HostComponent = 5;           // dom \u5143\u7d20 \u6bd4\u5982 <div>\nexport const HostText = 6;                // \u6587\u672c\u8282\u70b9\nexport const Fragment = 7;                // \u5bf9\u5e94 <React.Fragment> \nexport const Mode = 8;                    // \u5bf9\u5e94 <React.StrictMode>   \nexport const ContextConsumer = 9;         // \u5bf9\u5e94 <Context.Consumer>\nexport const ContextProvider = 10;        // \u5bf9\u5e94 <Context.Provider>\nexport const ForwardRef = 11;             // \u5bf9\u5e94 React.ForwardRef\nexport const Profiler = 12;               // \u5bf9\u5e94 <Profiler/ >\nexport const SuspenseComponent = 13;      // \u5bf9\u5e94 <Suspense>\nexport const MemoComponent = 14;          // \u5bf9\u5e94 React.memo \u8fd4\u56de\u7684\u7ec4\u4ef6",lang:"js"}),l.createElement("h4",{id:"jsx-\u6700\u7ec8\u5f62\u6210\u7684-fiber-\u7ed3\u6784\u56fe"},l.createElement(r.AnchorLink,{to:"#jsx-\u6700\u7ec8\u5f62\u6210\u7684-fiber-\u7ed3\u6784\u56fe","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"jsx \u6700\u7ec8\u5f62\u6210\u7684 fiber \u7ed3\u6784\u56fe"),l.createElement("p",null,"\u6700\u7ec8\u5199\u7684 jsx \u4f1a\u53d8\u6210\u5982\u4e0b\u683c\u5f0f\uff1a"),l.createElement("p",null,l.createElement("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/873f00b1255d4f5f8dac4954cf37dc9f~tplv-k3u1fbpfcp-watermark.awebp",alt:"jsx7.jpg"})),l.createElement("p",null,"fiber \u5bf9\u5e94\u5173\u7cfb"),l.createElement("ul",null,l.createElement("li",null,"child\uff1a \u4e00\u4e2a\u7531\u7236\u7ea7 fiber \u6307\u5411\u5b50\u7ea7 fiber \u7684\u6307\u9488\u3002"),l.createElement("li",null,"return\uff1a\u4e00\u4e2a\u5b50\u7ea7 fiber \u6307\u5411\u7236\u7ea7 fiber \u7684\u6307\u9488\u3002"),l.createElement("li",null,"sibiling: \u4e00\u4e2a fiber \u6307\u5411\u4e0b\u4e00\u4e2a\u5144\u5f1f fiber \u7684\u6307\u9488\u3002")),l.createElement("p",null,"\u6e29\u99a8\u63d0\u793a\uff1a"),l.createElement("ul",null,l.createElement("li",null,"\u5bf9\u4e8e\u4e0a\u8ff0\u5728 jsx \u4e2d\u5199\u7684 map \u6570\u7ec4\u7ed3\u6784\u7684\u5b50\u8282\u70b9\uff0c\u5916\u5c42\u4f1a\u88ab\u52a0\u4e0a fragment \uff1b"),l.createElement("li",null,"map \u8fd4\u56de\u6570\u7ec4\u7ed3\u6784\uff0c\u4f5c\u4e3a fragment \u7684\u5b50\u8282\u70b9\u3002")),l.createElement("h2",{id:"\u4e8c-\u8fdb\u9636\u5b9e\u8df5-\u53ef\u63a7\u6027-render"},l.createElement(r.AnchorLink,{to:"#\u4e8c-\u8fdb\u9636\u5b9e\u8df5-\u53ef\u63a7\u6027-render","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e8c \u8fdb\u9636\u5b9e\u8df5-\u53ef\u63a7\u6027 render"),l.createElement("p",null,"\u4e0a\u9762\u7684 demo \u66b4\u9732\u51fa\u4e86\u5982\u4e0b\u95ee\u9898\uff1a"),l.createElement("ol",null,l.createElement("li",null,"\u8fd4\u56de\u7684 ",l.createElement("code",null,"children")," \u867d\u7136\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u4f46\u662f\u6570\u7ec4\u91cc\u9762\u7684\u6570\u636e\u7c7b\u578b\u5374\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u6709\u5bf9\u8c61\u7c7b\u578b( \u5982",l.createElement("code",null,"ReactElement")," ) \uff0c\u6709\u6570\u7ec4\u7c7b\u578b(\u5982 ",l.createElement("code",null,"map")," \u904d\u5386\u8fd4\u56de\u7684\u5b50\u8282\u70b9)\uff0c\u8fd8\u6709\u5b57\u7b26\u4e32\u7c7b\u578b(\u5982\u6587\u672c)\uff1b"),l.createElement("li",null,"\u65e0\u6cd5\u5bf9 render \u540e\u7684 React element \u5143\u7d20\u8fdb\u884c\u53ef\u63a7\u6027\u64cd\u4f5c\u3002")),l.createElement("p",null,"\u9488\u5bf9\u4e0a\u8ff0\u95ee\u9898\uff0c\u6211\u4eec\u9700\u8981\u5bf9demo\u9879\u76ee\u8fdb\u884c\u6539\u9020\u5904\u7406\uff0c\u5177\u4f53\u8fc7\u7a0b\u53ef\u4ee5\u5206\u4e3a4\u6b65\uff1a"),l.createElement("ol",null,l.createElement("li",null,l.createElement("p",null,"\u5c06\u4e0a\u8ff0children\u6241\u5e73\u5316\u5904\u7406\uff0c\u5c06\u6570\u7ec4\u7c7b\u578b\u7684\u5b50\u8282\u70b9\u6253\u5f00 \uff1b")),l.createElement("li",null,l.createElement("p",null,"\u5e72\u6389children\u4e2d\u6587\u672c\u7c7b\u578b\u8282\u70b9\uff1b")),l.createElement("li",null,l.createElement("p",null,"\u5411children\u6700\u540e\u63d2\u5165"),l.createElement("p",null,"say goodbye"),l.createElement("p",null,"\u5143\u7d20\uff1b")),l.createElement("li",null,l.createElement("p",null,"\u514b\u9686\u65b0\u7684\u5143\u7d20\u8282\u70b9\u5e76\u6e32\u67d3\u3002"))),l.createElement("p",null,"\u5e0c\u671b\u901a\u8fc7\u8fd9\u4e2a\u5b9e\u8df5 demo \uff0c\u5927\u5bb6\u53ef\u4ee5",l.createElement("strong",null,"\u52a0\u6df1\u5bf9 jsx \u7f16\u8bd1\u540e\u7ed3\u6784\u7684\u8ba4\u8bc6\uff0c\u5b66\u4f1a\u5bf9 jsx \u7f16\u8bd1\u540e\u7684 React.element \u8fdb\u884c\u4e00\u7cfb\u5217\u64cd\u4f5c\uff0c\u8fbe\u5230\u7406\u60f3\u5316\u7684\u76ee\u7684\uff0c\u4ee5\u53ca\u719f\u6089 React API \u7684\u4f7f\u7528\u3002")),l.createElement("p",null,"\u7531\u4e8e\uff0c\u6211\u4eec\u60f3\u8981\u628a render \u8fc7\u7a0b\u53d8\u6210\u53ef\u63a7\u7684\uff0c\u56e0\u6b64\u9700\u8981\u628a\u4e0a\u8ff0\u4ee3\u7801\u8fdb\u884c\u6539\u9020\u3002"),l.createElement(a.Z,{code:"class Index extends React.Component{\n    status = false /* \u72b6\u6001 */\n    renderFoot=()=> <div> i am foot</div>\n    /* \u63a7\u5236\u6e32\u67d3 */\n    controlRender=()=>{\n        const reactElement = (\n            <div style={{ marginTop:'100px' }} className=\"container\"  >   \n                 { /* element \u5143\u7d20\u7c7b\u578b */ }\n                <div>hello,world</div>  \n                { /* fragment \u7c7b\u578b */ }\n                <React.Fragment>      \n                    <div> \ud83d\udc7d\ud83d\udc7d </div>\n                </React.Fragment>\n                { /* text \u6587\u672c\u7c7b\u578b */ }\n                my name is alien       \n                { /* \u6570\u7ec4\u8282\u70b9\u7c7b\u578b */ }\n                { toLearn.map(item=> <div key={item} >let us learn { item } </div> ) } \n                { /* \u7ec4\u4ef6\u7c7b\u578b */ }\n                <TextComponent/>  \n                { /* \u4e09\u5143\u8fd0\u7b97 */  }\n                { this.status ? <TextComponent /> :  <div>\u4e09\u5143\u8fd0\u7b97</div> }  \n                { /* \u51fd\u6570\u6267\u884c */ } \n                { this.renderFoot() }  \n                <button onClick={ ()=> console.log( this.render() ) } >\u6253\u5370render\u540e\u7684\u5185\u5bb9</button>\n            </div>\n        )\n        console.log(reactElement)\n        const { children } = reactElement.props\n        /* \u7b2c1\u6b65 \uff1a \u6241\u5e73\u5316 children  */\n        const flatChildren = React.Children.toArray(children)\n        console.log(flatChildren)\n        /* \u7b2c2\u6b65 \uff1a \u9664\u53bb\u6587\u672c\u8282\u70b9 */\n        const newChildren :any= []\n        React.Children.forEach(flatChildren,(item)=>{\n            if(React.isValidElement(item)) newChildren.push(item)\n        })\n        /* \u7b2c3\u6b65\uff0c\u63d2\u5165\u65b0\u7684\u8282\u70b9 */\n        const lastChildren = React.createElement(`div`,{ className :'last' } ,`say goodbye`)\n        newChildren.push(lastChildren)\n        \n        /* \u7b2c4\u6b65\uff1a\u4fee\u6539\u5bb9\u5668\u8282\u70b9 */\n        const newReactElement =  React.cloneElement(reactElement,{} ,...newChildren )\n        return newReactElement\n    }\n    render(){\n        return this.controlRender()\n    }\n}",lang:"js"}),l.createElement("p",null,l.createElement("strong",null,"\u7b2c 1 \u6b65\uff1a",l.createElement("code",null,"React.Children.toArray")," \u6241\u5e73\u5316\uff0c\u89c4\u8303\u5316 children \u6570\u7ec4\u3002")),l.createElement(a.Z,{code:"const flatChildren = React.Children.toArray(children)\nconsole.log(flatChildren)",lang:"js"}),l.createElement("p",null,"React.Children.toArray \u53ef\u4ee5\u6241\u5e73\u5316\u3001\u89c4\u8303\u5316 React.element \u7684 children \u7ec4\u6210\u7684\u6570\u7ec4\uff0c\u53ea\u8981 children \u4e2d\u7684\u6570\u7ec4\u5143\u7d20\u88ab\u6253\u5f00\uff0c\u5bf9\u904d\u5386 children \u5f88\u6709\u5e2e\u52a9\uff0c\u800c\u4e14 React.Children.toArray \u8fd8\u53ef\u4ee5\u6df1\u5c42\u6b21 flat \u3002"),l.createElement("p",null,"\u6253\u5370\u7ed3\u679c\uff1a"),l.createElement("p",null,l.createElement("img",{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/901d83b9ee574e74bf982336f48813cf~tplv-k3u1fbpfcp-watermark.awebp",alt:"jsx5.jpg"})),l.createElement("p",null,l.createElement("strong",null,"\u7b2c 2 \u6b65\uff1a\u904d\u5386 children \uff0c\u9a8c\u8bc1 React.element \u5143\u7d20\u8282\u70b9\uff0c\u9664\u53bb\u6587\u672c\u8282\u70b9\u3002")),l.createElement(a.Z,{code:"const newChildren :any= []\nReact.Children.forEach(flatChildren,(item)=>{\n    if(React.isValidElement(item)) newChildren.push(item)\n})",lang:"js"}),l.createElement("p",null,"\u7528 React.Children.forEach \u53bb\u904d\u5386\u5b50\u8282\u70b9\uff0c\u5982\u679c\u662f react Element \u5143\u7d20\uff0c\u5c31\u6dfb\u52a0\u5230\u65b0\u7684 children \u6570\u7ec4\u4e2d\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u8fc7\u6ee4\u6389\u975e React element \u8282\u70b9\u3002React.isValidElement \u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u7528\u6765\u68c0\u6d4b\u662f\u5426\u4e3a React element \u5143\u7d20\uff0c\u63a5\u6536\u4e00\u4e2a\u53c2\u6570\u2014\u2014\u5f85\u9a8c\u8bc1\u5bf9\u8c61\uff0c\u5982\u679c\u662f\u8fd4\u56de true \uff0c \u5426\u5219\u8fd4\u56de false \u3002"),l.createElement("p",null,"\u8fd9\u91cc\u53ef\u80fd\u4f1a\u6709\u4e00\u4e2a\u7591\u95ee\u5c31\u662f\u5982\u4e0b\uff1a"),l.createElement("p",null,"\u96be\u9053\u7528\u6570\u7ec4\u672c\u8eab\u65b9\u6cd5 filter \u8fc7\u6ee4\u4e0d\u884c\u4e48 \uff1f \u4e3a\u4ec0\u4e48\u8981\u7528 React.Children.forEach \u904d\u5386\uff1f"),l.createElement("p",null,"\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u662f\u5b8c\u5168\u53ef\u4ee5\u7528\u6570\u7ec4\u65b9\u6cd5\u8fc7\u6ee4\u7684\uff0c\u56e0\u4e3a React.Children.toArray \u5df2\u7ecf\u5904\u7406\u4e86 children \uff0c\u4f7f\u5b83\u53d8\u6210\u4e86\u6b63\u5e38\u7684\u6570\u7ec4\u7ed3\u6784 \u4e5f\u5c31\u662f\u8bf4 ",l.createElement("code",null,"React.Children.forEach")," = ",l.createElement("code",null,"React.Children.toArray")," + ",l.createElement("code",null,"Array.prototype.forEach"),"\u3002"),l.createElement("p",null,"React.Children.forEach \u672c\u8eab\u5c31\u53ef\u4ee5\u628a children \u6241\u5e73\u5316\u4e86\uff0c\u4e5f\u5c31\u662f\u4e0a\u8ff0\u7b2c\u4e00\u6b65\u64cd\u4f5c\u591a\u6b64\u4e00\u4e3e\u4e86\u3002\u4e3a\u4ec0\u4e48\u8981\u6709\u7b2c\u4e00\u6b65\uff0c\u4e3b\u8981\u662f\u66f4\u591a\u7684\u5b66\u4e60\u4e00\u4e0b React api\u3002"),l.createElement("p",null,l.createElement("strong",null,"\u7b2c 3 \u6b65\uff1a\u7528 React.createElement \uff0c\u63d2\u5165\u5230 children \u6700\u540e")),l.createElement(a.Z,{code:"/* \u7b2c\u4e09\u6b65\uff0c\u63d2\u5165\u65b0\u7684\u8282\u70b9 */\nconst lastChildren = React.createElement(`div`,{ className :'last' } ,`say goodbye`)\nnewChildren.push(lastChildren)",lang:"js"}),l.createElement("p",null,"\u4e0a\u8ff0\u4ee3\u7801\u5b9e\u9645\u7b49\u4e8e\u7528 ",l.createElement("code",null,"JSX")," \u8fd9\u4e48\u5199\uff1a"),l.createElement(a.Z,{code:'newChildren.push(<div className="last" >say goodbye</div>)',lang:"js"}),l.createElement("p",null,l.createElement("strong",null,"\u7b2c 4 \u6b65: \u5df2\u7ecf\u4fee\u6539\u4e86 children\uff0c\u73b0\u5728\u505a\u7684\u662f\uff0c\u901a\u8fc7 cloneElement \u521b\u5efa\u65b0\u7684\u5bb9\u5668\u5143\u7d20\u3002")),l.createElement("p",null,"\u4e3a\u4ec0\u4e48\u8981\u7528 React.cloneElement \uff0ccreateElement \u628a\u4e0a\u9762\u5199\u7684 jsx\uff0c\u53d8\u6210 element \u5bf9\u8c61; \u800c cloneElement \u7684\u4f5c\u7528\u662f\u4ee5 element \u5143\u7d20\u4e3a\u6837\u677f\u514b\u9686\u5e76\u8fd4\u56de\u65b0\u7684 React element \u5143\u7d20\u3002\u8fd4\u56de\u5143\u7d20\u7684 props \u662f\u5c06\u65b0\u7684 props \u4e0e\u539f\u59cb\u5143\u7d20\u7684 props \u6d45\u5c42\u5408\u5e76\u540e\u7684\u7ed3\u679c\u3002"),l.createElement("p",null,"\u8fd9\u91cc React.cloneElement \u505a\u7684\u4e8b\u60c5\u5c31\u662f\uff0c\u628a reactElement \u590d\u5236\u4e00\u4efd\uff0c\u518d\u7528\u65b0\u7684 children \u5c5e\u6027\uff0c\u4ece\u800c\u8fbe\u5230\u6539\u53d8 render \u7ed3\u679c\u7684\u76ee\u7684\u3002"),l.createElement(a.Z,{code:"/* \u7b2c 4 \u6b65\uff1a\u4fee\u6539\u5bb9\u5668\u8282\u70b9 */\nconst newReactElement =  React.cloneElement(reactElement,{} ,...newChildren )",lang:"js"}),l.createElement("p",null,l.createElement("strong",null,"\u6548\u679c")),l.createElement("p",null,l.createElement("img",{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ee3697b1d4094724b236b37a6a5c34e2~tplv-k3u1fbpfcp-watermark.awebp",alt:"jsx6.jpg"})),l.createElement("p",null,"\u9a8c\u8bc1 \uff1a"),l.createElement("ul",null,l.createElement("li",null,"\u2460 children \u5df2\u7ecf\u88ab\u6241\u5e73\u5316\u3002"),l.createElement("li",null,"\u2461 \u6587\u672c\u8282\u70b9 ",l.createElement("code",null,"my name is alien")," \u5df2\u7ecf\u88ab\u5220\u9664\u3002"),l.createElement("li",null,"\u2462 ",l.createElement("code",null,'<div className="last" > say goodbye</div>')," \u5143\u7d20\u6210\u529f\u63d2\u5165\u3002")),l.createElement("p",null,l.createElement("strong",null,"\u8fbe\u5230\u4e86\u9884\u671f\u6548\u679c\u3002")),l.createElement("p",null,l.createElement("strong",null,"\uff5c--------\u95ee\u4e0e\u7b54--------\uff5c")),l.createElement("p",null,"\u95ee: React.createElement \u548c React.cloneElement \u5230\u5e95\u6709\u4ec0\u4e48\u533a\u522b\u5462?"),l.createElement("p",null,"\u7b54: \u53ef\u4ee5\u5b8c\u5168\u7406\u89e3\u4e3a\uff0c\u4e00\u4e2a\u662f\u7528\u6765\u521b\u5efa element \u3002\u53e6\u4e00\u4e2a\u662f\u7528\u6765\u4fee\u6539 element\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 React.element \u5bf9\u8c61\u3002"),l.createElement("p",null,l.createElement("strong",null,"\uff5c---------end---------\uff5c")),l.createElement("h2",{id:"\u4e09\u603b\u7ed3"},l.createElement(r.AnchorLink,{to:"#\u4e09\u603b\u7ed3","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4e09\u3001\u603b\u7ed3"),l.createElement("p",null,"\u672c\u7ae0\u8282\u4e3b\u8981\u8bb2\u5230\u4e86\u4e24\u65b9\u9762\u7684\u77e5\u8bc6\u3002"),l.createElement("p",null,"\u4e00\u65b9\u9762\uff0c\u6211\u4eec\u5199\u7684 JSX \u4f1a\u5148\u8f6c\u6362\u6210 React.element\uff0c\u518d\u8f6c\u5316\u6210 React.fiber \u7684\u8fc7\u7a0b\u3002\u8fd9\u91cc\u8981\u7262\u7262\u8bb0\u4f4f jsx \u8f6c\u5316\u6210 element \u7684\u5904\u7406\u903b\u8f91\uff0c\u8fd8\u6709\u5c31\u662f element \u7c7b\u578b\u4e0e\u8f6c\u5316\u6210 fiber \u7684 tag \u7c7b\u578b\u7684\u5bf9\u5e94\u5173\u7cfb\u3002\u8fd9\u5bf9\u540e\u7eed\u7684\u5b66\u4e60\u4f1a\u5f88\u6709\u5e2e\u52a9\u3002"),l.createElement("p",null,"\u53e6\u4e00\u65b9\u9762\uff0c\u901a\u8fc7\u5b66\u4e60\u7b2c\u4e00\u4e2a\u5b9e\u8df5 demo\uff0c\u6211\u4eec\u638c\u63e1\u4e86\u5982\u4f55\u63a7\u5236\u7ecf\u8fc7 render \u4e4b\u540e\u7684 React element \u5bf9\u8c61\u3002")))}));t["default"]=e=>{var t=l.useContext(r.context),n=t.demos;return l.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&r.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.createElement(m,{demos:n})}},4187:function(e,t,n){"use strict";var l=n(67294),r=n(97397),a=n.n(r);n(8036);function c(e,t){return u(e)||d(e,t)||o(e,t)||m()}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,r,a=[],c=!0,m=!1;try{for(n=n.call(e);!(c=(l=n.next()).done);c=!0)if(a.push(l.value),t&&a.length===t)break}catch(o){m=!0,r=o}finally{try{c||null==n["return"]||n["return"]()}finally{if(m)throw r}}return a}}function u(e){if(Array.isArray(e))return e}var s=function(e){var t=e.children,n=(0,l.useRef)(),r=(0,l.useState)(!1),m=c(r,2),o=m[0],i=m[1],d=(0,l.useState)(!1),u=c(d,2),s=u[0],E=u[1];return(0,l.useEffect)((function(){var e=n.current,t=a()((function(){i(e.scrollLeft>0),E(e.scrollLeft<e.scrollWidth-e.offsetWidth)}),100);return t(),e.addEventListener("scroll",t),window.addEventListener("resize",t),function(){e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}}),[]),l.createElement("div",{className:"__dumi-default-table"},l.createElement("div",{className:"__dumi-default-table-content",ref:n,"data-left-folded":o||void 0,"data-right-folded":s||void 0},l.createElement("table",null,t)))};t["Z"]=s}}]);