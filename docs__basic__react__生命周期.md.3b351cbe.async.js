(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[5007],{26277:function(e,t,l){"use strict";l.r(t);var n=l(67294),a=l(96089),r=l(65659),c=n.memo((e=>{e.demos;return n.createElement(n.Fragment,null,n.createElement("div",{className:"markdown"},n.createElement("p",null,n.createElement("img",{src:"https://gitee.com/wongabner/picgo/raw/master/2022-03-22-03-37-13.png",alt:"\u56fe 1"})),n.createElement("ul",null,n.createElement("li",null,"\u521d\u59cb\u5316\u9636\u6bb5\uff1a",n.createElement("ul",null,n.createElement("li",null,"getDefaultProps:\u83b7\u53d6\u5b9e\u4f8b\u7684\u9ed8\u8ba4\u5c5e\u6027(\u5e9f\u5f03)"),n.createElement("li",null,"getInitialState:\u83b7\u53d6\u6bcf\u4e2a\u5b9e\u4f8b\u7684\u521d\u59cb\u5316\u72b6\u6001(\u5e9f\u5f03)"),n.createElement("li",null,"componentWillMount\uff1a\u7ec4\u4ef6\u5373\u5c06\u88ab\u88c5\u8f7d\u3001\u6e32\u67d3\u5230\u9875\u9762\u4e0a(\u5373\u5c06\u5e9f\u5f03)"),n.createElement("li",null,"render:\u7ec4\u4ef6\u5728\u8fd9\u91cc\u751f\u6210\u865a\u62df\u7684 DOM \u8282\u70b9"),n.createElement("li",null,"componentDidMount:\u7ec4\u4ef6\u771f\u6b63\u5728\u88ab\u88c5\u8f7d\u4e4b\u540e"))),n.createElement("li",null,"\u8fd0\u884c\u4e2d\u72b6\u6001\uff1a",n.createElement("ul",null,n.createElement("li",null,"componentWillReceiveProps:\u7ec4\u4ef6\u5c06\u8981\u63a5\u6536\u5230\u5c5e\u6027\u7684\u65f6\u5019\u8c03\u7528"),n.createElement("li",null,"shouldComponentUpdate:\u7ec4\u4ef6\u63a5\u53d7\u5230\u65b0\u5c5e\u6027\u6216\u8005\u65b0\u72b6\u6001\u7684\u65f6\u5019\uff08\u53ef\u4ee5\u8fd4\u56de false\uff0c\u63a5\u6536\u6570\u636e\u540e\u4e0d\u66f4\u65b0\uff0c\u963b\u6b62 render \u8c03\u7528\uff0c\u540e\u9762\u7684\u51fd\u6570\u4e0d\u4f1a\u88ab\u7ee7\u7eed\u6267\u884c\u4e86\uff09"),n.createElement("li",null,"componentWillUpdate:\u7ec4\u4ef6\u5373\u5c06\u66f4\u65b0\u4e0d\u80fd\u4fee\u6539\u5c5e\u6027\u548c\u72b6\u6001(\u5373\u5c06\u5e9f\u5f03)"),n.createElement("li",null,"render:\u7ec4\u4ef6\u91cd\u65b0\u63cf\u7ed8"),n.createElement("li",null,"componentDidUpdate:\u7ec4\u4ef6\u5df2\u7ecf\u66f4\u65b0"))),n.createElement("li",null,"\u9500\u6bc1\u9636\u6bb5\uff1a",n.createElement("ul",null,n.createElement("li",null,"componentWillUnmount:\u7ec4\u4ef6\u5373\u5c06\u9500\u6bc1")))),n.createElement("p",null,n.createElement("img",{src:"https://gitee.com/wongabner/picgo/raw/master/2021-03-23-19-11-07.png",alt:"\u56fe 12"})),n.createElement("h3",{id:"mount\u88c5\u8f7d"},n.createElement(a.AnchorLink,{to:"#mount\u88c5\u8f7d","aria-hidden":"true",tabIndex:-1},n.createElement("span",{className:"icon icon-link"})),"mount\uff08\u88c5\u8f7d\uff09"),n.createElement("ol",null,n.createElement("li",null,"constructor(\u53ea\u6267\u884c\u4e00\u6b21)")),n.createElement("p",null,"\u521d\u59cb\u5316state\uff08\u6839\u636eprops\u751f\u6210state\u4e5f\u53ef\u4ee5\u5728\u8fd9\u91cc\u8fdb\u884c\uff09"),n.createElement(r.Z,{code:"constructor(props) {\n    super(props)\n    \u2026\u2026\n    this.state = {\n        \n    }\n    \u2026\u2026\n}",lang:"js"}),n.createElement("ol",{start:2},n.createElement("li",null,"componentWillMount")),n.createElement("ul",null,n.createElement("li",null,"\u572817\u7248\u672c\u4e2d\u5c06\u53d8\u6210",n.createElement("code",null,"UNSAFE_componentWillMount")),n.createElement("li",null,"\u7ec4\u4ef6\u5c06\u8981mount,\u8fd9\u91cc\u662f\u552f\u4e00\u4e00\u4e2a\u53ef\u4ee5\u76f4\u63a5\u540c\u6b65\u4fee\u6539state\u5e76\u4e14\u5728\u9875\u9762\u6b63\u786e\uff08\u540c\u6b65\uff09\u6e32\u67d3\u7684\u5730\u65b9"),n.createElement("li",null,"\u5c06\u8981\u88ab\u5e9f\u5f03\u7684\u7ec4\u4ef6\uff0c\u5b9e\u9645\u4e0a\u6ca1\u4ec0\u4e48\u4f5c\u7528\uff0c\u6709\u4eba\u559c\u6b22\u5728\u8fd9\u91cc\u505aajax\u8bf7\u6c42\uff0c\u4f46\u5b98\u65b9\u4e0d\u63a8\u8350\u5728\u8fd9\u91cc\u505aajax\u8bf7\u6c42")),n.createElement("ol",{start:3},n.createElement("li",null,n.createElement("p",null,"render \u6784\u5efa\u865a\u62dfDOM")),n.createElement("li",null,n.createElement("p",null,"componentDidMount(\u53ea\u6267\u884c\u4e00\u6b21)"))),n.createElement("ul",null,n.createElement("li",null,n.createElement("p",null,"\u771f\u5b9e\u7684DOM\u5df2\u7ecf\u6e32\u67d3\u5230\u9875\u9762\u4e0a\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u83b7\u53d6\u771f\u5b9e\u7684DOM")),n.createElement("li",null,n.createElement("p",null,"\u5982\u679c\u8981\u4f7f\u7528\u7b2c\u4e09\u65b9\u7684DOM\u6846\u67b6\uff0c\u5e94\u8be5\u5728\u8fd9\u91cc\u53bb\u521d\u59cb\u5316")),n.createElement("li",null,n.createElement("p",null,"ajax\u8bf7\u6c42\u4e5f\u63a8\u8350\u5728\u8fd9\u4e2a\u5468\u671f\u6765\u8fdb\u884c\uff0c\u6709\u6570\u636e\u8fd4\u56de\u4e4b\u540e\uff0c\u53bb",n.createElement("code",null,"setState"),"\uff0c\u5c06\u4f1a\u6267\u884c\u5230",n.createElement("code",null,"update"),"\u9636\u6bb5"))),n.createElement("h3",{id:"update\u66f4\u65b0"},n.createElement(a.AnchorLink,{to:"#update\u66f4\u65b0","aria-hidden":"true",tabIndex:-1},n.createElement("span",{className:"icon icon-link"})),"update\uff08\u66f4\u65b0\uff09"),n.createElement("ol",null,n.createElement("li",null,"props\u6709\u6539\u53d8\uff1a")),n.createElement("p",null,"\u572817\u7248\u672c\u4e2d\u5c06\u53d8\u6210",n.createElement("code",null,"UNSAFE_componentWillReceiveProps")),n.createElement("p",null,n.createElement("code",null,"componentWillReceiveProps(nextProps,nextState)"),",\u5982\u679c\u5728",n.createElement("code",null,"constructor"),"\u91cc\u9762\uff0c\u6709\u901a\u8fc7props\u6765\u751f\u6210state\u8fd9\u6837\u7684\u64cd\u4f5c\uff0c\u8fd9\u91cc\u4e5f\u5f97\u505a\u540c\u6837\u7684\u64cd\u4f5c\uff0c\u5728\u8fd9\u7684this.props\u8fd8\u662f\u539f\u6765\u7684"),n.createElement("ol",{start:2},n.createElement("li",null,"shouldComponentUpdate(nextProps, nextState)")),n.createElement("p",null,"\u552f\u4e00\u4e00\u4e2a\u505areact\u4f18\u5316\u7684\u751f\u547d\u5468\u671f\uff0c\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u5e03\u5c14\u503c\uff0c\u5982\u679c\u662ffalse,\u5c31\u4e0d\u4f1a\u518d\u5f80\u4e0b\u6267\u884c\uff0c\u4e00\u822c\u4f1a\u6839\u636e",n.createElement("code",null,"nextProps VS this.props")," \u6216\u8005 ",n.createElement("code",null,"nextStste VS this.state"),"\u53bb\u5224\u65ad\u8fd4\u56detrue\u8fd8\u662ffalse"),n.createElement("ol",{start:3},n.createElement("li",null,"componentWillUpdate")),n.createElement("p",null,"\u572817\u7248\u672c\u4e2d\u5c06\u53d8\u6210",n.createElement("code",null,"UNSAFE_componentWillUpdate")),n.createElement("ol",{start:4},n.createElement("li",null,n.createElement("p",null,"render \u91cd\u65b0\u6784\u5efa\u865a\u62dfDOM")),n.createElement("li",null,n.createElement("p",null,"componentDidUpdate \u771f\u7684DOM\u5df2\u7ecf\u66f4\u65b0\u5230\u9875\u9762\u4e0a"))),n.createElement("h3",{id:"unmount\u9500\u6bc1"},n.createElement(a.AnchorLink,{to:"#unmount\u9500\u6bc1","aria-hidden":"true",tabIndex:-1},n.createElement("span",{className:"icon icon-link"})),"unMount\uff08\u9500\u6bc1\uff09"),n.createElement("ol",null,n.createElement("li",null,"componentWillUnMount")),n.createElement("p",null,"\u5728\u8fd9\u91cc\u53bb\u6e05\u7a7a\u5b9a\u65f6\u5668\u4e4b\u7c7b\u7684\u4e1c\u897f"),n.createElement("p",null,"\u65b0\u589e"),n.createElement(r.Z,{code:"static getDerivedStateFromProps(props, state) {\n    \u5728\u8fd9\u91cc\u6ca1\u6709this\n    \u9700\u8981return \u4e00\u4e2a\u5bf9\u8c61\n}",lang:"js"}),n.createElement("p",null,"\u4e0d\u7ba1\u662fmount\u8fd8\u662fupdate\u9636\u6bb5\u90fd\u4f1a\u6267\u884c"),n.createElement("p",null,n.createElement("strong",null,"\u6ce8\u610f\uff1a")),n.createElement("p",null,"\u5728\u8001\u7248\u672c\u91cc\uff08<16\uff09\uff0c\u4f7f\u7528createClass,\u8fd9\u91cc\u53ef\u4ee5\u6709"),n.createElement("p",null,"getDefaultProps(\u65b0\u7248\u672c\u76f4\u63a5\u5728class\u91cc\u5199 static defaultProps = ","{","}",")"),n.createElement("p",null,"\u548c"),n.createElement("p",null,"getInitialState(\u65b0\u7248\u672c\u76f4\u63a5\u5728constructor\u91cc\u5199this.state= ","{","}","\u6216\u8005\u76f4\u63a5\u5728class\u91cc\u5199 state = ","{","}",")"),n.createElement("p",null,"\u4e24\u4e2a\u751f\u547d\u5468\u671f")))}));t["default"]=e=>{var t=n.useContext(a.context),l=t.demos;return n.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&a.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),n.createElement(c,{demos:l})}}}]);