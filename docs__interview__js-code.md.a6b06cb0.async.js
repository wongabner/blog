(self["webpackChunkblog"]=self["webpackChunkblog"]||[]).push([[2097],{55864:function(e,n,t){"use strict";t.r(n);var r=t(67294),l=t(96089),a=t(65659),c=r.memo((e=>{e.demos;return r.createElement(r.Fragment,null,r.createElement("div",{className:"markdown"},r.createElement("h2",{id:"1call\u7684\u5b9e\u73b0"},r.createElement(l.AnchorLink,{to:"#1call\u7684\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"1.call\u7684\u5b9e\u73b0"),r.createElement("ul",null,r.createElement("li",null,"\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3anull\u6216\u8005undefined\u65f6\uff0cthis\u6307\u5411\u5168\u5c40\u5bf9\u8c61window\uff0c\u503c\u4e3a\u539f\u59cb\u503c\u7684\u6307\u5411\u8be5\u539f\u59cb\u503c\u7684\u81ea\u52a8\u5305\u88c5\u5bf9\u8c61\uff0c\u5982 String\u3001Number\u3001Boolean"),r.createElement("li",null,"\u4e3a\u4e86\u907f\u514d\u51fd\u6570\u540d\u4e0e\u4e0a\u4e0b\u6587(context)\u7684\u5c5e\u6027\u53d1\u751f\u51b2\u7a81\uff0c\u4f7f\u7528Symbol\u7c7b\u578b\u4f5c\u4e3a\u552f\u4e00\u503c"),r.createElement("li",null,"\u5c06\u51fd\u6570\u4f5c\u4e3a\u4f20\u5165\u7684\u4e0a\u4e0b\u6587(context)\u5c5e\u6027\u6267\u884c"),r.createElement("li",null,"\u51fd\u6570\u6267\u884c\u5b8c\u6210\u540e\u5220\u9664\u8be5\u5c5e\u6027"),r.createElement("li",null,"\u8fd4\u56de\u6267\u884c\u7ed3\u679c")),r.createElement(a.Z,{code:"Function.prototype.myCall = function(context,...args){\n    let cxt = context || window;\n    //\u5c06\u5f53\u524d\u88ab\u8c03\u7528\u7684\u65b9\u6cd5\u5b9a\u4e49\u5728cxt.func\u4e0a.(\u4e3a\u4e86\u80fd\u4ee5\u5bf9\u8c61\u8c03\u7528\u5f62\u5f0f\u7ed1\u5b9athis)\n    //\u65b0\u5efa\u4e00\u4e2a\u552f\u4e00\u7684Symbol\u53d8\u91cf\u907f\u514d\u91cd\u590d\n    let func = Symbol() \n    cxt[func] = this;\n    args = args ? args : []\n    //\u4ee5\u5bf9\u8c61\u8c03\u7528\u5f62\u5f0f\u8c03\u7528func,\u6b64\u65f6this\u6307\u5411cxt \u4e5f\u5c31\u662f\u4f20\u5165\u7684\u9700\u8981\u7ed1\u5b9a\u7684this\u6307\u5411\n    const res = args.length > 0 ? cxt[func](...args) : cxt[func]();\n    //\u5220\u9664\u8be5\u65b9\u6cd5\uff0c\u4e0d\u7136\u4f1a\u5bf9\u4f20\u5165\u5bf9\u8c61\u9020\u6210\u6c61\u67d3\uff08\u6dfb\u52a0\u8be5\u65b9\u6cd5\uff09\n    delete cxt[func];\n    return res;\n}",lang:"js"}),r.createElement("h2",{id:"2apply\u7684\u5b9e\u73b0"},r.createElement(l.AnchorLink,{to:"#2apply\u7684\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"2.apply\u7684\u5b9e\u73b0"),r.createElement("ul",null,r.createElement("li",null,"\u524d\u90e8\u5206\u4e0ecall\u4e00\u6837"),r.createElement("li",null,"\u7b2c\u4e8c\u4e2a\u53c2\u6570\u53ef\u4ee5\u4e0d\u4f20\uff0c\u4f46\u7c7b\u578b\u5fc5\u987b\u4e3a\u6570\u7ec4\u6216\u8005\u7c7b\u6570\u7ec4")),r.createElement(a.Z,{code:"Function.prototype.myApply = function(context,args = []){\n    let cxt = context || window;\n    //\u5c06\u5f53\u524d\u88ab\u8c03\u7528\u7684\u65b9\u6cd5\u5b9a\u4e49\u5728cxt.func\u4e0a.(\u4e3a\u4e86\u80fd\u4ee5\u5bf9\u8c61\u8c03\u7528\u5f62\u5f0f\u7ed1\u5b9athis)\n    //\u65b0\u5efa\u4e00\u4e2a\u552f\u4e00\u7684Symbol\u53d8\u91cf\u907f\u514d\u91cd\u590d\n    let func = Symbol()\n    cxt[func] = this;\n    //\u4ee5\u5bf9\u8c61\u8c03\u7528\u5f62\u5f0f\u8c03\u7528func,\u6b64\u65f6this\u6307\u5411cxt \u4e5f\u5c31\u662f\u4f20\u5165\u7684\u9700\u8981\u7ed1\u5b9a\u7684this\u6307\u5411\n    const res = args.length > 0 ? cxt[func](...args) : cxt[func]();\n    delete cxt[func];\n    return res;\n}",lang:"js"}),r.createElement("h2",{id:"3bind\u7684\u5b9e\u73b0"},r.createElement(l.AnchorLink,{to:"#3bind\u7684\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"3.bind\u7684\u5b9e\u73b0"),r.createElement("p",null,"\u9700\u8981\u8003\u8651\uff1a"),r.createElement("ul",null,r.createElement("li",null,"bind() \u9664\u4e86 this \u5916\uff0c\u8fd8\u53ef\u4f20\u5165\u591a\u4e2a\u53c2\u6570\uff1b"),r.createElement("li",null,"bind \u521b\u5efa\u7684\u65b0\u51fd\u6570\u53ef\u80fd\u4f20\u5165\u591a\u4e2a\u53c2\u6570\uff1b"),r.createElement("li",null,"\u65b0\u51fd\u6570\u53ef\u80fd\u88ab\u5f53\u505a\u6784\u9020\u51fd\u6570\u8c03\u7528\uff1b"),r.createElement("li",null,"\u51fd\u6570\u53ef\u80fd\u6709\u8fd4\u56de\u503c\uff1b")),r.createElement("p",null,"\u5b9e\u73b0\u65b9\u6cd5\uff1a"),r.createElement("ul",null,r.createElement("li",null,"bind \u65b9\u6cd5\u4e0d\u4f1a\u7acb\u5373\u6267\u884c\uff0c\u9700\u8981\u8fd4\u56de\u4e00\u4e2a\u5f85\u6267\u884c\u7684\u51fd\u6570\uff1b\uff08\u95ed\u5305\uff09"),r.createElement("li",null,"\u5b9e\u73b0\u4f5c\u7528\u57df\u7ed1\u5b9a\uff08apply\uff09"),r.createElement("li",null,"\u53c2\u6570\u4f20\u9012\uff08apply \u7684\u6570\u7ec4\u4f20\u53c2\uff09"),r.createElement("li",null,"\u5f53\u4f5c\u4e3a\u6784\u9020\u51fd\u6570\u7684\u65f6\u5019\uff0c\u8fdb\u884c\u539f\u578b\u7ee7\u627f")),r.createElement(a.Z,{code:"Function.prototype.myBind = function (context, ...args) {\n    //\u65b0\u5efa\u4e00\u4e2a\u53d8\u91cf\u8d4b\u503c\u4e3athis\uff0c\u8868\u793a\u5f53\u524d\u51fd\u6570\n    const fn = this\n    //\u5224\u65ad\u6709\u6ca1\u6709\u4f20\u53c2\u8fdb\u6765\uff0c\u82e5\u4e3a\u7a7a\u5219\u8d4b\u503c[]\n    args = args ? args : []\n    //\u8fd4\u56de\u4e00\u4e2anewFn\u51fd\u6570\uff0c\u5728\u91cc\u9762\u8c03\u7528fn\n    return function newFn(...newFnArgs) {\n        if (this instanceof newFn) {\n            return new fn(...args, ...newFnArgs)\n        }\n        return fn.apply(context, [...args,...newFnArgs])\n    }\n}",lang:"js"}),r.createElement("ul",null,r.createElement("li",null,"\u6d4b\u8bd5")),r.createElement(a.Z,{code:"let name = '\u5c0f\u738b',age =17;\nlet obj = {\n    name:'\u5c0f\u5f20',\n    age: this.age,\n    myFun: function(from,to){\n        console.log(this.name + ' \u5e74\u9f84 ' + this.age+'\u6765\u81ea '+from+'\u53bb\u5f80'+ to)\n    }\n}\nlet db = {\n    name: '\u5fb7\u739b',\n    age: 99\n}\n\n//\u7ed3\u679c\nobj.myFun.myCall(db,'\u6210\u90fd','\u4e0a\u6d77');     // \u5fb7\u739b \u5e74\u9f84 99  \u6765\u81ea \u6210\u90fd\u53bb\u5f80\u4e0a\u6d77\nobj.myFun.myApply(db,['\u6210\u90fd','\u4e0a\u6d77']);      // \u5fb7\u739b \u5e74\u9f84 99  \u6765\u81ea \u6210\u90fd\u53bb\u5f80\u4e0a\u6d77\nobj.myFun.myBind(db,'\u6210\u90fd','\u4e0a\u6d77')();       // \u5fb7\u739b \u5e74\u9f84 99  \u6765\u81ea \u6210\u90fd\u53bb\u5f80\u4e0a\u6d77\nobj.myFun.myBind(db,['\u6210\u90fd','\u4e0a\u6d77'])();   // \u5fb7\u739b \u5e74\u9f84 99  \u6765\u81ea \u6210\u90fd, \u4e0a\u6d77\u53bb\u5f80 undefined",lang:"js"}),r.createElement("h2",{id:"4\u5bc4\u751f\u5f0f\u7ec4\u5408\u7ee7\u627f"},r.createElement(l.AnchorLink,{to:"#4\u5bc4\u751f\u5f0f\u7ec4\u5408\u7ee7\u627f","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"4.\u5bc4\u751f\u5f0f\u7ec4\u5408\u7ee7\u627f"),r.createElement(a.Z,{code:'function Person(obj) {\n    this.name = obj.name\n    this.age = obj.age\n}\nPerson.prototype.add = function(value){\n    console.log(value)\n}\nvar p1 = new Person({name:"\u756a\u8304", age: 18})\n\nfunction Person1(obj) {\n    Person.call(this, obj)\n    this.sex = obj.sex\n}\n// \u8fd9\u4e00\u6b65\u662f\u7ee7\u627f\u7684\u5173\u952e\nPerson1.prototype = Object.create(Person.prototype);\nPerson1.prototype.constructor = Person1;\n\nPerson1.prototype.play = function(value){\n    console.log(value)\n}\nvar p2 = new Person1({name:"\u9e21\u86cb", age: 118, sex: "\u7537"})',lang:"js"}),r.createElement("h2",{id:"5es6\u7ee7\u627f"},r.createElement(l.AnchorLink,{to:"#5es6\u7ee7\u627f","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"5.ES6\u7ee7\u627f"),r.createElement(a.Z,{code:"//class \u76f8\u5f53\u4e8ees5\u4e2d\u6784\u9020\u51fd\u6570\n//class\u4e2d\u5b9a\u4e49\u65b9\u6cd5\u65f6\uff0c\u524d\u540e\u4e0d\u80fd\u52a0function\uff0c\u5168\u90e8\u5b9a\u4e49\u5728class\u7684protopyte\u5c5e\u6027\u4e2d\n//class\u4e2d\u5b9a\u4e49\u7684\u6240\u6709\u65b9\u6cd5\u662f\u4e0d\u53ef\u679a\u4e3e\u7684\n//class\u4e2d\u53ea\u80fd\u5b9a\u4e49\u65b9\u6cd5\uff0c\u4e0d\u80fd\u5b9a\u4e49\u5bf9\u8c61\uff0c\u53d8\u91cf\u7b49\n//class\u548c\u65b9\u6cd5\u5185\u9ed8\u8ba4\u90fd\u662f\u4e25\u683c\u6a21\u5f0f\n//es5\u4e2dconstructor\u4e3a\u9690\u5f0f\u5c5e\u6027\nclass People{\n  constructor(name='wang',age='27'){\n    this.name = name;\n    this.age = age;\n  }\n  eat(){\n    console.log(`${this.name} ${this.age} eat food`)\n  }\n}\n//\u7ee7\u627f\u7236\u7c7b\nclass Woman extends People{ \n   constructor(name = 'ren',age = '27'){ \n     //\u7ee7\u627f\u7236\u7c7b\u5c5e\u6027\n     super(name, age); \n   } \n    eat(){ \n     //\u7ee7\u627f\u7236\u7c7b\u65b9\u6cd5\n      super.eat() \n    } \n} \nlet wonmanObj=new Woman('xiaoxiami'); \nwonmanObj.eat();\n\n//es5\u7ee7\u627f\u5148\u521b\u5efa\u5b50\u7c7b\u7684\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u7136\u540e\u518d\u5c06\u7236\u7c7b\u7684\u65b9\u6cd5\u6dfb\u52a0\u5230this\u4e0a\uff08Parent.apply(this)\uff09\u3002 \n//es6\u7ee7\u627f\u662f\u4f7f\u7528\u5173\u952e\u5b57super\u5148\u521b\u5efa\u7236\u7c7b\u7684\u5b9e\u4f8b\u5bf9\u8c61this\uff0c\u6700\u540e\u5728\u5b50\u7c7bclass\u4e2d\u4fee\u6539this\u3002",lang:"js"}),r.createElement("h2",{id:"6new\u7684\u5b9e\u73b0"},r.createElement(l.AnchorLink,{to:"#6new\u7684\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"6.new\u7684\u5b9e\u73b0"),r.createElement("ul",null,r.createElement("li",null,"\u4e00\u4e2a\u7ee7\u627f\u81ea Foo.prototype \u7684\u65b0\u5bf9\u8c61\u88ab\u521b\u5efa\u3002"),r.createElement("li",null,"\u4f7f\u7528\u6307\u5b9a\u7684\u53c2\u6570\u8c03\u7528\u6784\u9020\u51fd\u6570 Foo\uff0c\u5e76\u5c06 this \u7ed1\u5b9a\u5230\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u3002new Foo \u7b49\u540c\u4e8e new Foo()\uff0c\u4e5f\u5c31\u662f\u6ca1\u6709\u6307\u5b9a\u53c2\u6570\u5217\u8868\uff0cFoo \u4e0d\u5e26\u4efb\u4f55\u53c2\u6570\u8c03\u7528\u7684\u60c5\u51b5\u3002"),r.createElement("li",null,"\u7531\u6784\u9020\u51fd\u6570\u8fd4\u56de\u7684\u5bf9\u8c61\u5c31\u662f new \u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u3002\u5982\u679c\u6784\u9020\u51fd\u6570\u6ca1\u6709\u663e\u5f0f\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5219\u4f7f\u7528\u6b65\u9aa41\u521b\u5efa\u7684\u5bf9\u8c61\u3002"),r.createElement("li",null,"\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6784\u9020\u51fd\u6570\u4e0d\u8fd4\u56de\u503c\uff0c\u4f46\u662f\u7528\u6237\u53ef\u4ee5\u9009\u62e9\u4e3b\u52a8\u8fd4\u56de\u5bf9\u8c61\uff0c\u6765\u8986\u76d6\u6b63\u5e38\u7684\u5bf9\u8c61\u521b\u5efa\u6b65\u9aa4")),r.createElement(a.Z,{code:"function Ctor(){\n    ....\n}\n\nfunction myNew(ctor,...args){\n    if(typeof ctor !== 'function'){\n      throw 'myNew function the first param must be a function';\n    }\n    var newObj = Object.create(ctor.prototype); //\u521b\u5efa\u4e00\u4e2a\u7ee7\u627f\u81eactor.prototype\u7684\u65b0\u5bf9\u8c61\n    var ctorReturnResult = ctor.apply(newObj, args); //\u5c06\u6784\u9020\u51fd\u6570ctor\u7684this\u7ed1\u5b9a\u5230newObj\u4e2d\n    var isObject = typeof ctorReturnResult === 'object' && ctorReturnResult !== null;\n    var isFunction = typeof ctorReturnResult === 'function';\n    if(isObject || isFunction){\n        return ctorReturnResult;\n    }\n    return newObj;\n}\n\nlet c = myNew(Ctor);",lang:"js"}),r.createElement("h2",{id:"7instanceof\u7684\u5b9e\u73b0"},r.createElement(l.AnchorLink,{to:"#7instanceof\u7684\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"7.instanceof\u7684\u5b9e\u73b0"),r.createElement("ul",null,r.createElement("li",null,"instanceof \u662f\u7528\u6765\u5224\u65adA\u662f\u5426\u4e3aB\u7684\u5b9e\u4f8b\uff0c\u8868\u8fbe\u5f0f\u4e3a\uff1aA instanceof B\uff0c\u5982\u679cA\u662fB\u7684\u5b9e\u4f8b\uff0c\u5219\u8fd4\u56detrue,\u5426\u5219\u8fd4\u56defalse\u3002"),r.createElement("li",null,"instanceof \u8fd0\u7b97\u7b26\u7528\u6765\u6d4b\u8bd5\u4e00\u4e2a\u5bf9\u8c61\u5728\u5176\u539f\u578b\u94fe\u4e2d\u662f\u5426\u5b58\u5728\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u3002"),r.createElement("li",null,"\u4e0d\u80fd\u68c0\u6d4b\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u5728\u539f\u578b\u94fe\u4e0a\u7684\u7ed3\u679c\u672a\u5fc5\u51c6\u786e\uff0c\u4e0d\u80fd\u68c0\u6d4bnull,undefined"),r.createElement("li",null,"\u5b9e\u73b0\uff1a\u904d\u5386\u5de6\u8fb9\u53d8\u91cf\u7684\u539f\u578b\u94fe\uff0c\u76f4\u5230\u627e\u5230\u53f3\u8fb9\u53d8\u91cf\u7684 prototype\uff0c\u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u8fd4\u56de false")),r.createElement(a.Z,{code:"function myInstanceOf(a,b){\n    let left = a.__proto__;\n    let right = b.prototype;\n    while(true){\n        if(left == null){\n            return false\n        }\n        if(left == right){\n            return true\n        }\n        left = left.__proto__\n    }\n}\n\n//instanceof \u8fd0\u7b97\u7b26\u7528\u4e8e\u5224\u65ad\u6784\u9020\u51fd\u6570\u7684 prototype \u5c5e\u6027\u662f\u5426\u51fa\u73b0\u5728\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\nfunction myInstanceof(left, right) {\n    let proto = Object.getPrototypeOf(left), // \u83b7\u53d6\u5bf9\u8c61\u7684\u539f\u578b\n    prototype = right.prototype; // \u83b7\u53d6\u6784\u9020\u51fd\u6570\u7684 prototype \u5bf9\u8c61\n    // \u5224\u65ad\u6784\u9020\u51fd\u6570\u7684 prototype \u5bf9\u8c61\u662f\u5426\u5728\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\n    while (true) {\n        if (!proto) return false;\n        if (proto === prototype) return true;\n        proto = Object.getPrototypeOf(proto);\n    }\n}",lang:"js"}),r.createElement("h2",{id:"8objectcreate\u7684\u5b9e\u73b0"},r.createElement(l.AnchorLink,{to:"#8objectcreate\u7684\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"8.Object.create()\u7684\u5b9e\u73b0"),r.createElement("ul",null,r.createElement("li",null,"MDN\u6587\u6863"),r.createElement("li",null,"Object.create()\u4f1a\u5c06\u53c2\u6570\u5bf9\u8c61\u4f5c\u4e3a\u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u7a7a\u5bf9\u8c61\u7684\u539f\u578b, \u5e76\u8fd4\u56de\u8fd9\u4e2a\u7a7a\u5bf9\u8c61")),r.createElement(a.Z,{code:"//\u7b80\u7565\u7248\nfunction myCreate(obj){\n    // \u65b0\u58f0\u660e\u4e00\u4e2a\u51fd\u6570\n    function C(){};\n    // \u5c06\u51fd\u6570\u7684\u539f\u578b\u6307\u5411obj\n    C.prototype = obj;\n    // \u8fd4\u56de\u8fd9\u4e2a\u51fd\u6570\u7684\u5b9e\u529b\u5316\u5bf9\u8c61\n    return new C()\n}\n//\u5b98\u65b9\u7248Polyfill\nif (typeof Object.create !== \"function\") {\n    Object.create = function (proto, propertiesObject) {\n        if (typeof proto !== 'object' && typeof proto !== 'function') {\n            throw new TypeError('Object prototype may only be an Object: ' + proto);\n        } else if (proto === null) {\n            throw new Error(\"This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.\");\n        }\n\n        if (typeof propertiesObject !== 'undefined') throw new Error(\"This browser's implementation of Object.create is a shim and doesn't support a second argument.\");\n\n        function F() {}\n        F.prototype = proto;\n\n        return new F();\n    };\n}",lang:"js"}),r.createElement("h2",{id:"9\u5b9e\u73b0-objectassign"},r.createElement(l.AnchorLink,{to:"#9\u5b9e\u73b0-objectassign","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"9.\u5b9e\u73b0 Object.assign"),r.createElement(a.Z,{code:"Object.assign2 = function(target, ...source) {\n    if (target == null) {\n        throw new TypeError('Cannot convert undefined or null to object')\n    }\n    let ret = Object(target) \n    source.forEach(function(obj) {\n        if (obj != null) {\n            for (let key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                    ret[key] = obj[key]\n                }\n            }\n        }\n    })\n    return ret\n}",lang:"js"}),r.createElement("h2",{id:"10promise\u7684\u5b9e\u73b0"},r.createElement(l.AnchorLink,{to:"#10promise\u7684\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"10.Promise\u7684\u5b9e\u73b0"),r.createElement("p",null,"\u5b9e\u73b0 Promise \u9700\u8981\u5b8c\u5168\u8bfb\u61c2 Promise A+ \u89c4\u8303\uff0c\u4e0d\u8fc7\u4ece\u603b\u4f53\u7684\u5b9e\u73b0\u4e0a\u770b\uff0c\u6709\u5982\u4e0b\u51e0\u4e2a\u70b9\u9700\u8981\u8003\u8651\u5230\uff1a"),r.createElement("ul",null,r.createElement("li",null,"Promise\u672c\u8d28\u662f\u4e00\u4e2a\u72b6\u6001\u673a\uff0c\u4e14\u72b6\u6001\u53ea\u80fd\u4e3a\u4ee5\u4e0b\u4e09\u79cd\uff1aPending\uff08\u7b49\u5f85\u6001\uff09\u3001Fulfilled\uff08\u6267\u884c\u6001\uff09\u3001Rejected\uff08\u62d2\u7edd\u6001\uff09\uff0c\u72b6\u6001\u7684\u53d8\u66f4\u662f\u5355\u5411\u7684\uff0c\u53ea\u80fd\u4ecePending -> Fulfilled \u6216 Pending -> Rejected\uff0c\u72b6\u6001\u53d8\u66f4\u4e0d\u53ef\u9006"),r.createElement("li",null,"then \u9700\u8981\u652f\u6301\u94fe\u5f0f\u8c03\u7528")),r.createElement(a.Z,{code:"class Promise {\n    callbacks = [];\n    state = 'pending';//\u589e\u52a0\u72b6\u6001\n    value = null;//\u4fdd\u5b58\u7ed3\u679c\n    constructor(fn) {\n        fn(this._resolve.bind(this), this._reject.bind(this));\n    }\n    then(onFulfilled, onRejected) {\n        return new Promise((resolve, reject) => {\n            this._handle({\n                onFulfilled: onFulfilled || null,\n                onRejected: onRejected || null,\n                resolve: resolve,\n                reject: reject\n            });\n        });\n    }\n    _handle(callback) {\n        if (this.state === 'pending') {\n            this.callbacks.push(callback);\n            return;\n        }\n \n        let cb = this.state === 'fulfilled' ? callback.onFulfilled : callback.onRejected;\n \n        if (!cb) {//\u5982\u679cthen\u4e2d\u6ca1\u6709\u4f20\u9012\u4efb\u4f55\u4e1c\u897f\n            cb = this.state === 'fulfilled' ? callback.resolve : callback.reject;\n            cb(this.value);\n            return;\n        }\n \n        let ret = cb(this.value);\n        cb = this.state === 'fulfilled' ? callback.resolve : callback.reject;\n        cb(ret);\n    }\n    _resolve(value) {\n \n        if (value && (typeof value === 'object' || typeof value === 'function')) {\n            var then = value.then;\n            if (typeof then === 'function') {\n                then.call(value, this._resolve.bind(this), this._reject.bind(this));\n                return;\n            }\n        }\n \n        this.state = 'fulfilled';//\u6539\u53d8\u72b6\u6001\n        this.value = value;//\u4fdd\u5b58\u7ed3\u679c\n        this.callbacks.forEach(callback => this._handle(callback));\n    }\n    _reject(error) {\n        this.state = 'rejected';\n        this.value = error;\n        this.callbacks.forEach(callback => this._handle(callback));\n    }\n}",lang:"js"}),r.createElement("h3",{id:"promiseresolve"},r.createElement(l.AnchorLink,{to:"#promiseresolve","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"Promise.resolve"),r.createElement("ul",null,r.createElement("li",null,"Promsie.resolve(value) \u53ef\u4ee5\u5c06\u4efb\u4f55\u503c\u8f6c\u6210\u503c\u4e3a value \u72b6\u6001\u662f fulfilled \u7684 Promise\uff0c\u4f46\u5982\u679c\u4f20\u5165\u7684\u503c\u672c\u8eab\u662f Promise \u5219\u4f1a\u539f\u6837\u8fd4\u56de\u5b83\u3002")),r.createElement(a.Z,{code:"Promise.resolve(value) {\n  if (value && value instanceof Promise) {\n    return value;\n  } else if (value && typeof value === 'object' && typeof value.then === 'function') {\n    let then = value.then;\n    return new Promise(resolve => {\n      then(resolve);\n    });\n  } else if (value) {\n    return new Promise(resolve => resolve(value));\n  } else {\n    return new Promise(resolve => resolve());\n  }\n}",lang:"js"}),r.createElement("h3",{id:"promisereject"},r.createElement(l.AnchorLink,{to:"#promisereject","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"Promise.reject"),r.createElement("ul",null,r.createElement("li",null,"\u548c Promise.resolve() \u7c7b\u4f3c\uff0cPromise.reject() \u4f1a\u5b9e\u4f8b\u5316\u4e00\u4e2a rejected \u72b6\u6001\u7684 Promise\u3002\u4f46\u4e0e Promise.resolve() \u4e0d\u540c\u7684\u662f\uff0c\u5982\u679c\u7ed9 Promise.reject() \u4f20\u9012\u4e00\u4e2a Promise \u5bf9\u8c61\uff0c\u5219\u8fd9\u4e2a\u5bf9\u8c61\u4f1a\u6210\u4e3a\u65b0 Promise \u7684\u503c\u3002")),r.createElement(a.Z,{code:"Promise.reject = function(reason) {\n    return new Promise((resolve, reject) => reject(reason))\n}",lang:"js"}),r.createElement("h3",{id:"promiseall"},r.createElement(l.AnchorLink,{to:"#promiseall","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"Promise.all"),r.createElement("ul",null,r.createElement("li",null,"\u4f20\u5165\u7684\u6240\u6709 Promsie \u90fd\u662f fulfilled\uff0c\u5219\u8fd4\u56de\u7531\u4ed6\u4eec\u7684\u503c\u7ec4\u6210\u7684\uff0c\u72b6\u6001\u4e3a fulfilled \u7684\u65b0 Promise\uff1b"),r.createElement("li",null,"\u53ea\u8981\u6709\u4e00\u4e2a Promise \u662f rejected\uff0c\u5219\u8fd4\u56de rejected \u72b6\u6001\u7684\u65b0 Promsie\uff0c\u4e14\u5b83\u7684\u503c\u662f\u7b2c\u4e00\u4e2a rejected \u7684 Promise \u7684\u503c\uff1b"),r.createElement("li",null,"\u53ea\u8981\u6709\u4e00\u4e2a Promise \u662f pending\uff0c\u5219\u8fd4\u56de\u4e00\u4e2a pending \u72b6\u6001\u7684\u65b0 Promise\uff1b")),r.createElement(a.Z,{code:"Promise.all = function(promiseArr) {\n    let index = 0, result = []\n    return new Promise((resolve, reject) => {\n        promiseArr.forEach((p, i) => {\n            Promise.resolve(p).then(val => {\n                index++\n                result[i] = val\n                if (index === promiseArr.length) {\n                    resolve(result)\n                }\n            }, err => {\n                reject(err)\n            })\n        })\n    })\n}",lang:"js"}),r.createElement("h3",{id:"promiserace"},r.createElement(l.AnchorLink,{to:"#promiserace","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"Promise.race"),r.createElement("ul",null,r.createElement("li",null,"Promise.race \u4f1a\u8fd4\u56de\u4e00\u4e2a\u7531\u6240\u6709\u53ef\u8fed\u4ee3\u5b9e\u4f8b\u4e2d\u7b2c\u4e00\u4e2a fulfilled \u6216 rejected \u7684\u5b9e\u4f8b\u5305\u88c5\u540e\u7684\u65b0\u5b9e\u4f8b\u3002")),r.createElement(a.Z,{code:"Promise.race = function(promiseArr) {\n    return new Promise((resolve, reject) => {\n        promiseArr.forEach(p => {\n            Promise.resolve(p).then(val => {\n                resolve(val)\n            }, err => {\n                rejecte(err)\n            })\n        })\n    })\n}",lang:"js"}),r.createElement("h2",{id:"11ajax\u7684\u5b9e\u73b0"},r.createElement(l.AnchorLink,{to:"#11ajax\u7684\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"11.Ajax\u7684\u5b9e\u73b0"),r.createElement(a.Z,{code:"function ajax(url,method,body,headers){\n    return new Promise((resolve,reject)=>{\n        let req = new XMLHttpRequest();\n        req.open(methods,url);\n        for(let key in headers){\n            req.setRequestHeader(key,headers[key])\n        }\n        req.onreadystatechange(()=>{\n            if(req.readystate == 4){\n                if(req.status >= '200' && req.status <= 300){\n                    resolve(req.responeText)\n                }else{\n                    reject(req)\n                }\n            }\n        })\n        req.send(body)\n    })\n}",lang:"js"}),r.createElement("h2",{id:"12\u5b9e\u73b0\u9632\u6296\u51fd\u6570debounce"},r.createElement(l.AnchorLink,{to:"#12\u5b9e\u73b0\u9632\u6296\u51fd\u6570debounce","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"12.\u5b9e\u73b0\u9632\u6296\u51fd\u6570\uff08debounce\uff09"),r.createElement("ul",null,r.createElement("li",null,"\u8fde\u7eed\u89e6\u53d1\u5728\u6700\u540e\u4e00\u6b21\u6267\u884c\u65b9\u6cd5\uff0c\u573a\u666f\uff1a\u8f93\u5165\u6846\u5339\u914d")),r.createElement(a.Z,{code:"let debounce = (fn,time = 1000) => {\n    let timeLock = null\n\n    return function (...args){\n        clearTimeout(timeLock)\n        timeLock = setTimeout(()=>{\n            fn(...args)\n        },time)\n    }\n}",lang:"js"}),r.createElement("h2",{id:"13\u5b9e\u73b0\u8282\u6d41\u51fd\u6570throttle"},r.createElement(l.AnchorLink,{to:"#13\u5b9e\u73b0\u8282\u6d41\u51fd\u6570throttle","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"13.\u5b9e\u73b0\u8282\u6d41\u51fd\u6570\uff08throttle\uff09"),r.createElement("ul",null,r.createElement("li",null,"\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u53ea\u89e6\u53d1\u4e00\u6b21\uff0c\u573a\u666f\uff1a\u957f\u5217\u8868\u6eda\u52a8\u8282\u6d41")),r.createElement(a.Z,{code:"let throttle = (fn,time = 1000) => {\n    let flag = true;\n\n    return function (...args){\n        if(flag){\n            flag = false;\n            setTimeout(()=>{\n                flag = true;\n                fn(...args)\n            },time)\n        }\n    }\n}",lang:"js"}),r.createElement("h2",{id:"14\u6df1\u62f7\u8d1ddeepclone"},r.createElement(l.AnchorLink,{to:"#14\u6df1\u62f7\u8d1ddeepclone","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"14.\u6df1\u62f7\u8d1d\uff08deepclone\uff09"),r.createElement("ul",null,r.createElement("li",null,"\u5224\u65ad\u7c7b\u578b\uff0c\u6b63\u5219\u548c\u65e5\u671f\u76f4\u63a5\u8fd4\u56de\u65b0\u5bf9\u8c61"),r.createElement("li",null,"\u7a7a\u6216\u8005\u975e\u5bf9\u8c61\u7c7b\u578b\uff0c\u76f4\u63a5\u8fd4\u56de\u539f\u503c"),r.createElement("li",null,"\u8003\u8651\u5faa\u73af\u5f15\u7528\uff0c\u5224\u65ad\u5982\u679chash\u4e2d\u542b\u6709\u76f4\u63a5\u8fd4\u56dehash\u4e2d\u7684\u503c"),r.createElement("li",null,"\u65b0\u5efa\u4e00\u4e2a\u76f8\u5e94\u7684new obj.constructor\u52a0\u5165hash"),r.createElement("li",null,"\u904d\u5386\u5bf9\u8c61\u9012\u5f52\uff08\u666e\u901akey\u548ckey\u662fsymbol\u60c5\u51b5\uff09")),r.createElement(a.Z,{code:"function deepClone(obj,hash = new WeakMap()){\n    if(obj instanceof RegExp) return new RegExp(obj);\n    if(obj instanceof Date) return new Date(obj);\n    if(obj === null || typeof obj !== 'object') return obj;\n    //\u5faa\u73af\u5f15\u7528\u7684\u60c5\u51b5\n    if(hash.has(obj)){\n        return hash.get(obj)\n    }\n    //new \u4e00\u4e2a\u76f8\u5e94\u7684\u5bf9\u8c61\n    //obj\u4e3aArray\uff0c\u76f8\u5f53\u4e8enew Array()\n    //obj\u4e3aObject\uff0c\u76f8\u5f53\u4e8enew Object()\n    let constr = new obj.constructor();\n    hash.set(obj,constr);\n    for(let key in obj){\n        if(obj.hasOwnProperty(key)){\n            constr[key] = deepClone(obj[key],hash)\n        }\n    }\n    //\u8003\u8651symbol\u7684\u60c5\u51b5\n    let symbolObj = Object.getOwnPropertySymbols(obj)\n    for(let i=0;i<symbolObj.length;i++){\n        if(obj.hasOwnProperty(symbolObj[i])){\n            constr[symbolObj[i]] = deepClone(obj[symbolObj[i]],hash)\n        }\n    }\n    return constr\n}",lang:"js"}),r.createElement("h2",{id:"15\u6570\u7ec4\u6241\u5e73\u5316\u7684\u5b9e\u73b0flat"},r.createElement(l.AnchorLink,{to:"#15\u6570\u7ec4\u6241\u5e73\u5316\u7684\u5b9e\u73b0flat","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"15.\u6570\u7ec4\u6241\u5e73\u5316\u7684\u5b9e\u73b0(flat)"),r.createElement(a.Z,{code:"let arr = [1,2,[3,4,[5,[6]]]]\nconsole.log(arr.flat(Infinity))//flat\u53c2\u6570\u4e3a\u6307\u5b9a\u8981\u63d0\u53d6\u5d4c\u5957\u6570\u7ec4\u7684\u7ed3\u6784\u6df1\u5ea6\uff0c\u9ed8\u8ba4\u503c\u4e3a 1",lang:"js"}),r.createElement(a.Z,{code:"//\u7528reduce\u5b9e\u73b0\nfunction fn(arr){\n   return arr.reduce((prev,cur)=>{\n      return prev.concat(Array.isArray(cur)?fn(cur):cur)\n   },[])\n}",lang:"js"}),r.createElement("h2",{id:"16\u51fd\u6570\u67ef\u91cc\u5316"},r.createElement(l.AnchorLink,{to:"#16\u51fd\u6570\u67ef\u91cc\u5316","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"16.\u51fd\u6570\u67ef\u91cc\u5316"),r.createElement(a.Z,{code:"function sumFn(a,b,c){return a+ b + c};\nlet sum = curry(sumFn);\nsum(2)(3)(5)//10\nsum(2,3)(5)//10",lang:"js"}),r.createElement(a.Z,{code:"function curry(fn,...args){\n  let fnLen = fn.length,\n      argsLen = args.length;\n  //\u5bf9\u6bd4\u51fd\u6570\u7684\u53c2\u6570\u548c\u5f53\u524d\u4f20\u5165\u53c2\u6570\n  //\u82e5\u53c2\u6570\u4e0d\u591f\u5c31\u7ee7\u7eed\u9012\u5f52\u8fd4\u56decurry\n  //\u82e5\u53c2\u6570\u591f\u5c31\u8c03\u7528\u51fd\u6570\u8fd4\u56de\u76f8\u5e94\u7684\u503c\n  if(fnLen > argsLen){\n    return function(...arg2s){\n      return curry(fn,...args,...arg2s)\n    }\n  }else{\n    return fn(...args)\n  }\n}",lang:"js"}),r.createElement("h2",{id:"17\u4f7f\u7528\u95ed\u5305\u5b9e\u73b0\u6bcf\u9694\u4e00\u79d2\u6253\u5370-1234"},r.createElement(l.AnchorLink,{to:"#17\u4f7f\u7528\u95ed\u5305\u5b9e\u73b0\u6bcf\u9694\u4e00\u79d2\u6253\u5370-1234","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"17.\u4f7f\u7528\u95ed\u5305\u5b9e\u73b0\u6bcf\u9694\u4e00\u79d2\u6253\u5370 1,2,3,4"),r.createElement(a.Z,{code:"for (var i=1; i<=5; i++) {\n  (function (i) {\n    setTimeout(() => console.log(i), 1000*i)\n  })(i)\n}",lang:"js"}),r.createElement("h2",{id:"18\u624b\u5199\u4e00\u4e2a-jsonp"},r.createElement(l.AnchorLink,{to:"#18\u624b\u5199\u4e00\u4e2a-jsonp","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"18.\u624b\u5199\u4e00\u4e2a jsonp"),r.createElement(a.Z,{code:"const jsonp = function (url, data) {\n    return new Promise((resolve, reject) => {\n        // \u521d\u59cb\u5316url\n        let dataString = url.indexOf('?') === -1 ? '?' : ''\n        let callbackName = `jsonpCB_${Date.now()}`\n        url += `${dataString}callback=${callbackName}`\n        if (data) {\n            // \u6709\u8bf7\u6c42\u53c2\u6570\uff0c\u4f9d\u6b21\u6dfb\u52a0\u5230url\n            for (let k in data) {\n                url += `${k}=${data[k]}`\n            }\n        }\n        let jsNode = document.createElement('script')\n        jsNode.src = url\n        // \u89e6\u53d1callback\uff0c\u89e6\u53d1\u540e\u5220\u9664js\u6807\u7b7e\u548c\u7ed1\u5b9a\u5728window\u4e0a\u7684callback\n        window[callbackName] = result => {\n            delete window[callbackName]\n            document.body.removeChild(jsNode)\n            if (result) {\n                resolve(result)\n            } else {\n                reject('\u6ca1\u6709\u8fd4\u56de\u6570\u636e')\n            }\n        }\n        // js\u52a0\u8f7d\u5f02\u5e38\u7684\u60c5\u51b5\n        jsNode.addEventListener('error', () => {\n            delete window[callbackName]\n            document.body.removeChild(jsNode)\n            reject('JavaScript\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25')\n        }, false)\n        // \u6dfb\u52a0js\u8282\u70b9\u5230document\u4e0a\u65f6\uff0c\u5f00\u59cb\u8bf7\u6c42\n        document.body.appendChild(jsNode)\n    })\n}\njsonp('http://192.168.0.103:8081/jsonp', {\n    a: 1,\n    b: 'heiheihei'\n})\n.then(result => {\n    console.log(result)\n})\n.catch(err => {\n    console.error(err)\n})",lang:"js"}),r.createElement("h2",{id:"19\u624b\u5199\u4e00\u4e2a\u89c2\u5bdf\u8005\u6a21\u5f0f"},r.createElement(l.AnchorLink,{to:"#19\u624b\u5199\u4e00\u4e2a\u89c2\u5bdf\u8005\u6a21\u5f0f","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"19.\u624b\u5199\u4e00\u4e2a\u89c2\u5bdf\u8005\u6a21\u5f0f"),r.createElement(a.Z,{code:"class Subject{\n  constructor(name){\n    this.name = name\n    this.observers = []\n    this.state = 'XXXX'\n  }\n  // \u88ab\u89c2\u5bdf\u8005\u8981\u63d0\u4f9b\u4e00\u4e2a\u63a5\u53d7\u89c2\u5bdf\u8005\u7684\u65b9\u6cd5\n  attach(observer){\n    this.observers.push(observer)\n  }\n\n  // \u6539\u53d8\u88ab\u89c2\u5bdf\u7740\u7684\u72b6\u6001\n  setState(newState){\n    this.state = newState\n    this.observers.forEach(o=>{\n      o.update(newState)\n    })\n  }\n}\n\nclass Observer{\n  constructor(name){\n    this.name = name\n  }\n\n  update(newState){\n    console.log(`${this.name}say:${newState}`)\n  }\n}\n\n// \u88ab\u89c2\u5bdf\u8005 \u706f\nlet sub = new Subject('\u706f')\nlet mm = new Observer('\u5c0f\u660e')\nlet jj = new Observer('\u5c0f\u5065')\n \n// \u8ba2\u9605 \u89c2\u5bdf\u8005\nsub.attach(mm)\nsub.attach(jj)\n \nsub.setState('\u706f\u4eae\u4e86\u6765\u7535\u4e86')",lang:"js"}),r.createElement("h2",{id:"20eventemitter-\u5b9e\u73b0"},r.createElement(l.AnchorLink,{to:"#20eventemitter-\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"20.EventEmitter \u5b9e\u73b0"),r.createElement(a.Z,{code:"class EventEmitter {\n    constructor() {\n        this.events = {};\n    }\n    on(event, callback) {\n        let callbacks = this.events[event] || [];\n        callbacks.push(callback);\n        this.events[event] = callbacks;\n        return this;\n    }\n    off(event, callback) {\n        let callbacks = this.events[event];\n        this.events[event] = callbacks && callbacks.filter(fn => fn !== callback);\n        return this;\n    }\n    emit(event, ...args) {\n        let callbacks = this.events[event];\n        callbacks.forEach(fn => {\n            fn(...args);\n        });\n        return this;\n    }\n    once(event, callback) {\n        let wrapFun = function (...args) {\n            callback(...args);\n            this.off(event, wrapFun);\n        };\n        this.on(event, wrapFun);\n        return this;\n    }\n}",lang:"js"}),r.createElement("h2",{id:"21\u751f\u6210\u968f\u673a\u6570\u7684\u5404\u79cd\u65b9\u6cd5"},r.createElement(l.AnchorLink,{to:"#21\u751f\u6210\u968f\u673a\u6570\u7684\u5404\u79cd\u65b9\u6cd5","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"21.\u751f\u6210\u968f\u673a\u6570\u7684\u5404\u79cd\u65b9\u6cd5\uff1f"),r.createElement(a.Z,{code:"function getRandom(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min   \n}",lang:"js"}),r.createElement("h2",{id:"22\u5982\u4f55\u5b9e\u73b0\u6570\u7ec4\u7684\u968f\u673a\u6392\u5e8f"},r.createElement(l.AnchorLink,{to:"#22\u5982\u4f55\u5b9e\u73b0\u6570\u7ec4\u7684\u968f\u673a\u6392\u5e8f","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"22.\u5982\u4f55\u5b9e\u73b0\u6570\u7ec4\u7684\u968f\u673a\u6392\u5e8f\uff1f"),r.createElement(a.Z,{code:"let arr = [2,3,454,34,324,32]\narr.sort(randomSort)\nfunction randomSort(a, b) {\n  return Math.random() > 0.5 ? -1 : 1;\n}",lang:"js"}),r.createElement("h2",{id:"23\u5199\u4e00\u4e2a\u901a\u7528\u7684\u4e8b\u4ef6\u4fa6\u542c\u5668\u51fd\u6570"},r.createElement(l.AnchorLink,{to:"#23\u5199\u4e00\u4e2a\u901a\u7528\u7684\u4e8b\u4ef6\u4fa6\u542c\u5668\u51fd\u6570","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"23.\u5199\u4e00\u4e2a\u901a\u7528\u7684\u4e8b\u4ef6\u4fa6\u542c\u5668\u51fd\u6570\u3002"),r.createElement(a.Z,{code:'const EventUtils = {\n  // \u89c6\u80fd\u529b\u5206\u522b\u4f7f\u7528dom0||dom2||IE\u65b9\u5f0f \u6765\u7ed1\u5b9a\u4e8b\u4ef6\n  // \u6dfb\u52a0\u4e8b\u4ef6\n  addEvent: function(element, type, handler) {\n    if (element.addEventListener) {\n      element.addEventListener(type, handler, false);\n    } else if (element.attachEvent) {\n      element.attachEvent("on" + type, handler);\n    } else {\n      element["on" + type] = handler;\n    }\n  },\n  // \u79fb\u9664\u4e8b\u4ef6\n  removeEvent: function(element, type, handler) {\n    if (element.removeEventListener) {\n      element.removeEventListener(type, handler, false);\n    } else if (element.detachEvent) {\n      element.detachEvent("on" + type, handler);\n    } else {\n      element["on" + type] = null;\n    }\n  },\n // \u83b7\u53d6\u4e8b\u4ef6\u76ee\u6807\n  getTarget: function(event) {\n    return event.target || event.srcElement;\n  },\n  // \u83b7\u53d6 event \u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u53d6\u5230\u4e8b\u4ef6\u7684\u6240\u6709\u4fe1\u606f\uff0c\u786e\u4fdd\u968f\u65f6\u80fd\u4f7f\u7528 event\n  getEvent: function(event) {\n    return event || window.event;\n  },\n // \u963b\u6b62\u4e8b\u4ef6\uff08\u4e3b\u8981\u662f\u4e8b\u4ef6\u5192\u6ce1\uff0c\u56e0\u4e3a IE \u4e0d\u652f\u6301\u4e8b\u4ef6\u6355\u83b7\uff09\n  stopPropagation: function(event) {\n    if (event.stopPropagation) {\n      event.stopPropagation();\n    } else {\n      event.cancelBubble = true;\n    }\n  },\n  // \u53d6\u6d88\u4e8b\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\n  preventDefault: function(event) {\n    if (event.preventDefault) {\n      event.preventDefault();\n    } else {\n      event.returnValue = false;\n    }\n  }\n};',lang:"js"}),r.createElement("h2",{id:"24\u4f7f\u7528\u8fed\u4ee3\u7684\u65b9\u5f0f\u5b9e\u73b0-flatten-\u51fd\u6570"},r.createElement(l.AnchorLink,{to:"#24\u4f7f\u7528\u8fed\u4ee3\u7684\u65b9\u5f0f\u5b9e\u73b0-flatten-\u51fd\u6570","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"24.\u4f7f\u7528\u8fed\u4ee3\u7684\u65b9\u5f0f\u5b9e\u73b0 flatten \u51fd\u6570\u3002"),r.createElement(a.Z,{code:"var arr = [1, 2, 3, [4, 5], [6, [7, [8]]]]\n/** * \u4f7f\u7528\u9012\u5f52\u7684\u65b9\u5f0f\u5904\u7406 * wrap \u5185\u4fdd\n\u5b58\u7ed3\u679c ret * \u8fd4\u56de\u4e00\u4e2a\u9012\u5f52\u51fd\u6570 **/\nfunction wrap() {\n    var ret = [];\n    return function flat(a) {\n        for (var item of\n            a) {\n                if (item.constructor === Array) {\n                    ret.concat(flat(item))\n                } else {\n                    ret.push(item)\n                }\n        }\n        return ret\n    }\n} \nconsole.log(wrap()(arr));",lang:"js"}),r.createElement("h2",{id:"25\u600e\u4e48\u5b9e\u73b0\u4e00\u4e2asleep"},r.createElement(l.AnchorLink,{to:"#25\u600e\u4e48\u5b9e\u73b0\u4e00\u4e2asleep","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"25.\u600e\u4e48\u5b9e\u73b0\u4e00\u4e2asleep"),r.createElement("ul",null,r.createElement("li",null,"sleep\u51fd\u6570\u4f5c\u7528\u662f\u8ba9\u7ebf\u7a0b\u4f11\u7720\uff0c\u7b49\u5230\u6307\u5b9a\u65f6\u95f4\u5728\u91cd\u65b0\u5524\u8d77\u3002")),r.createElement(a.Z,{code:"function sleep(delay) {\n  var start = (new Date()).getTime();\n  while ((new Date()).getTime() - start < delay) {\n    continue;\n  }\n}\n\nfunction test() {\n  console.log('111');\n  sleep(2000);\n  console.log('222');\n}\n\ntest()",lang:"js"}),r.createElement("h2",{id:"26\u5b9e\u73b0\u6b63\u5219\u5207\u5206\u5343\u5206\u4f4d10000--10000"},r.createElement(l.AnchorLink,{to:"#26\u5b9e\u73b0\u6b63\u5219\u5207\u5206\u5343\u5206\u4f4d10000--10000","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"26.\u5b9e\u73b0\u6b63\u5219\u5207\u5206\u5343\u5206\u4f4d\uff0810000 => 10,000\uff09"),r.createElement(a.Z,{code:"//\u65e0\u5c0f\u6570\u70b9\nlet num1 = '1321434322222'\nnum1.replace(/(\\d)(?=(\\d{3})+$)/g,'$1,')\n//\u6709\u5c0f\u6570\u70b9\nlet num2 = '342243242322.3432423'\nnum2.replace(/(\\d)(?=(\\d{3})+\\.)/g,'$1,')",lang:"js"}),r.createElement("h2",{id:"27\u5bf9\u8c61\u6570\u7ec4\u53bb\u91cd"},r.createElement(l.AnchorLink,{to:"#27\u5bf9\u8c61\u6570\u7ec4\u53bb\u91cd","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"27.\u5bf9\u8c61\u6570\u7ec4\u53bb\u91cd"),r.createElement(a.Z,{code:"\u8f93\u5165:\n[{a:1,b:2,c:3},{b:2,c:3,a:1},{d:2,c:2}]\n\u8f93\u51fa:\n[{a:1,b:2,c:3},{d:2,c:2}]",lang:"js"}),r.createElement("ul",null,r.createElement("li",null,"\u9996\u5148\u5199\u4e00\u4e2a\u51fd\u6570\u628a\u5bf9\u8c61\u4e2d\u7684key\u6392\u5e8f\uff0c\u7136\u540e\u518d\u8f6c\u6210\u5b57\u7b26\u4e32"),r.createElement("li",null,"\u904d\u5386\u6570\u7ec4\u5229\u7528Set\u5c06\u8f6c\u4e3a\u5b57\u7b26\u4e32\u540e\u7684\u5bf9\u8c61\u53bb\u91cd")),r.createElement(a.Z,{code:"function objSort(obj){\n    let newObj = {}\n    //\u904d\u5386\u5bf9\u8c61\uff0c\u5e76\u5c06key\u8fdb\u884c\u6392\u5e8f\n    Object.keys(obj).sort().map(key => {\n        newObj[key] = obj[key]\n    })\n    //\u5c06\u6392\u5e8f\u597d\u7684\u6570\u7ec4\u8f6c\u6210\u5b57\u7b26\u4e32\n    return JSON.stringify(newObj)\n}\n\nfunction unique(arr){\n    let set = new Set();\n    for(let i=0;i<arr.length;i++){\n        let str = objSort(arr[i])\n        set.add(str)\n    }\n    //\u5c06\u6570\u7ec4\u4e2d\u7684\u5b57\u7b26\u4e32\u8f6c\u56de\u5bf9\u8c61\n    arr = [...set].map(item => {\n        return JSON.parse(item)\n    })\n    return arr\n}",lang:"js"}),r.createElement("h2",{id:"28\u89e3\u6790-url-params-\u4e3a\u5bf9\u8c61"},r.createElement(l.AnchorLink,{to:"#28\u89e3\u6790-url-params-\u4e3a\u5bf9\u8c61","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"28.\u89e3\u6790 URL Params \u4e3a\u5bf9\u8c61"),r.createElement(a.Z,{code:"let url = 'http://www.domain.com/?user=anonymous&id=123&id=456&city=%E5%8C%97%E4%BA%AC&enabled';\nparseParam(url)\n/* \u7ed3\u679c\n{ user: 'anonymous',\n  id: [ 123, 456 ], // \u91cd\u590d\u51fa\u73b0\u7684 key \u8981\u7ec4\u88c5\u6210\u6570\u7ec4\uff0c\u80fd\u88ab\u8f6c\u6210\u6570\u5b57\u7684\u5c31\u8f6c\u6210\u6570\u5b57\u7c7b\u578b\n  city: '\u5317\u4eac', // \u4e2d\u6587\u9700\u89e3\u7801\n  enabled: true, // \u672a\u6307\u5b9a\u503c\u5f97 key \u7ea6\u5b9a\u4e3a true\n}\n*/",lang:"js"}),r.createElement(a.Z,{code:"function parseParam(url) {\n  const paramsStr = /.+\\?(.+)$/.exec(url)[1]; // \u5c06 ? \u540e\u9762\u7684\u5b57\u7b26\u4e32\u53d6\u51fa\u6765\n  const paramsArr = paramsStr.split('&'); // \u5c06\u5b57\u7b26\u4e32\u4ee5 & \u5206\u5272\u540e\u5b58\u5230\u6570\u7ec4\u4e2d\n  let paramsObj = {};\n  // \u5c06 params \u5b58\u5230\u5bf9\u8c61\u4e2d\n  paramsArr.forEach(param => {\n    if (/=/.test(param)) { // \u5904\u7406\u6709 value \u7684\u53c2\u6570\n      let [key, val] = param.split('='); // \u5206\u5272 key \u548c value\n      val = decodeURIComponent(val); // \u89e3\u7801\n      val = /^\\d+$/.test(val) ? parseFloat(val) : val; // \u5224\u65ad\u662f\u5426\u8f6c\u4e3a\u6570\u5b57\n\n      if (paramsObj.hasOwnProperty(key)) { // \u5982\u679c\u5bf9\u8c61\u6709 key\uff0c\u5219\u6dfb\u52a0\u4e00\u4e2a\u503c\n        paramsObj[key] = [].concat(paramsObj[key], val);\n      } else { // \u5982\u679c\u5bf9\u8c61\u6ca1\u6709\u8fd9\u4e2a key\uff0c\u521b\u5efa key \u5e76\u8bbe\u7f6e\u503c\n        paramsObj[key] = val;\n      }\n    } else { // \u5904\u7406\u6ca1\u6709 value \u7684\u53c2\u6570\n      paramsObj[param] = true;\n    }\n  })\n\n  return paramsObj;\n}",lang:"js"}),r.createElement("h2",{id:"29\u6a21\u677f\u5f15\u64ce\u5b9e\u73b0"},r.createElement(l.AnchorLink,{to:"#29\u6a21\u677f\u5f15\u64ce\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"29.\u6a21\u677f\u5f15\u64ce\u5b9e\u73b0"),r.createElement(a.Z,{code:"let template = '\u6211\u662f{{name}}\uff0c\u5e74\u9f84{{age}}\uff0c\u6027\u522b{{sex}}';\nlet data = {\n  name: '\u59d3\u540d',\n  age: 18\n}\nrender(template, data); // \u6211\u662f\u59d3\u540d\uff0c\u5e74\u9f8418\uff0c\u6027\u522bundefined",lang:"js"}),r.createElement(a.Z,{code:"function render(template, data) {\n  const reg = /\\{\\{(\\w+)\\}\\}/; // \u6a21\u677f\u5b57\u7b26\u4e32\u6b63\u5219\n  if (reg.test(template)) { // \u5224\u65ad\u6a21\u677f\u91cc\u662f\u5426\u6709\u6a21\u677f\u5b57\u7b26\u4e32\n    const name = reg.exec(template)[1]; // \u67e5\u627e\u5f53\u524d\u6a21\u677f\u91cc\u7b2c\u4e00\u4e2a\u6a21\u677f\u5b57\u7b26\u4e32\u7684\u5b57\u6bb5\n    template = template.replace(reg, data[name]); // \u5c06\u7b2c\u4e00\u4e2a\u6a21\u677f\u5b57\u7b26\u4e32\u6e32\u67d3\n    return render(template, data); // \u9012\u5f52\u7684\u6e32\u67d3\u5e76\u8fd4\u56de\u6e32\u67d3\u540e\u7684\u7ed3\u6784\n  }\n  return template; // \u5982\u679c\u6a21\u677f\u6ca1\u6709\u6a21\u677f\u5b57\u7b26\u4e32\u76f4\u63a5\u8fd4\u56de\n}",lang:"js"}),r.createElement("h2",{id:"30\u8f6c\u5316\u4e3a\u9a7c\u5cf0\u547d\u540d"},r.createElement(l.AnchorLink,{to:"#30\u8f6c\u5316\u4e3a\u9a7c\u5cf0\u547d\u540d","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"30.\u8f6c\u5316\u4e3a\u9a7c\u5cf0\u547d\u540d"),r.createElement(a.Z,{code:'var s1 = "get-element-by-id"\n// \u8f6c\u5316\u4e3a getElementById',lang:"js"}),r.createElement(a.Z,{code:"var f = function(s) {\n    return s.replace(/-\\w/g, function(x) {\n        return x.slice(1).toUpperCase();\n    })\n}",lang:"js"}),r.createElement("h2",{id:"31\u67e5\u627e\u5b57\u7b26\u4e32\u4e2d\u51fa\u73b0\u6700\u591a\u7684\u5b57\u7b26\u548c\u4e2a\u6570"},r.createElement(l.AnchorLink,{to:"#31\u67e5\u627e\u5b57\u7b26\u4e32\u4e2d\u51fa\u73b0\u6700\u591a\u7684\u5b57\u7b26\u548c\u4e2a\u6570","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"31.\u67e5\u627e\u5b57\u7b26\u4e32\u4e2d\u51fa\u73b0\u6700\u591a\u7684\u5b57\u7b26\u548c\u4e2a\u6570"),r.createElement("ul",null,r.createElement("li",null,"\u4f8b: abbcccddddd -> \u5b57\u7b26\u6700\u591a\u7684\u662fd\uff0c\u51fa\u73b0\u4e865\u6b21")),r.createElement(a.Z,{code:"let str = \"abcabcabcbbccccc\";\nlet num = 0;\nlet char = '';\n\n // \u4f7f\u5176\u6309\u7167\u4e00\u5b9a\u7684\u6b21\u5e8f\u6392\u5217\nstr = str.split('').sort().join('');\n// \"aaabbbbbcccccccc\"\n\n// \u5b9a\u4e49\u6b63\u5219\u8868\u8fbe\u5f0f\nlet re = /(\\w)\\1+/g;\nstr.replace(re,($0,$1) => {\n    if(num < $0.length){\n        num = $0.length;\n        char = $1;        \n    }\n});\nconsole.log(`\u5b57\u7b26\u6700\u591a\u7684\u662f${char}\uff0c\u51fa\u73b0\u4e86${num}\u6b21`);",lang:"js"}),r.createElement("h2",{id:"32\u56fe\u7247\u61d2\u52a0\u8f7d"},r.createElement(l.AnchorLink,{to:"#32\u56fe\u7247\u61d2\u52a0\u8f7d","aria-hidden":"true",tabIndex:-1},r.createElement("span",{className:"icon icon-link"})),"32.\u56fe\u7247\u61d2\u52a0\u8f7d"),r.createElement(a.Z,{code:"let imgList = [...document.querySelectorAll('img')]\nlet length = imgList.length\n\nconst imgLazyLoad = function() {\n    let count = 0\n    return (function() {\n        let deleteIndexList = []\n        imgList.forEach((img, index) => {\n            let rect = img.getBoundingClientRect()\n            if (rect.top < window.innerHeight) {\n                img.src = img.dataset.src\n                deleteIndexList.push(index)\n                count++\n                if (count === length) {\n                    document.removeEventListener('scroll', imgLazyLoad)\n                }\n            }\n        })\n        imgList = imgList.filter((img, index) => !deleteIndexList.includes(index))\n    })()\n}\n\n// \u8fd9\u91cc\u6700\u597d\u52a0\u4e0a\u9632\u6296\u5904\u7406\ndocument.addEventListener('scroll', imgLazyLoad)",lang:"js"})))}));n["default"]=e=>{var n=r.useContext(l.context),t=n.demos;return r.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&l.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.createElement(c,{demos:t})}}}]);